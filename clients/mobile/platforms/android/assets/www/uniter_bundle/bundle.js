(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.iso_php_website=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function getFileData(e){var n=e.substr(1);if(console.log("pref path ".pref_path),!file_data.hasOwnProperty(n))throw new Error('Unknown file "'+e+'"');return file_data[n]}console.log("Start app js");var $=require("jquery"),php=require("phpjs"),file_data=require("./www/uniter_bundle/file_data.js"),file_index=require("./www/uniter_bundle/file_index.js"),hasOwn={}.hasOwnProperty,uniter=require("uniter"),phpEngine=uniter.createEngine("PHP"),output=document.getElementById("output"),file_require_string='require("/core/constants.fephp") ; ';file_require_string+='require("/core/isophp.fephp") ; ',file_require_string+='require("/core/init.fephp") ; ',file_require_string+='require("/core/bootstrap.fephp") ; ',file_require_string+='require("/core/index.fephp") ; ',console.log("mainfiles app js"),phpEngine.configure({include:function(e,n){console.log("pref path ".pref_path),n.resolve(getFileData(e))}}),console.log("engine configure app js");var this_console=console,this_window=window;console.log("engine expose start app js"),phpEngine.expose($,"jQuery"),phpEngine.expose(php,"php"),phpEngine.expose(this_window,"window"),phpEngine.expose(this_console,"console"),phpEngine.expose(window.app,"app"),phpEngine.expose(file_index,"file_index"),console.log("engine expose end app js"),phpEngine.getStdout().on("data",function(e){document.body.insertAdjacentHTML("beforeEnd",e)});var php_code_string="<?php "+file_require_string+" ?>";console.log("code string",php_code_string),phpEngine.execute(php_code_string).fail(function(e){console.warn("ERROR: "+e.toString())}),console.log("find tags"),[].forEach.call(document.querySelectorAll('script[type="text/x-uniter"]'),function(e){console.log("found this "+e.textContent),phpEngine.execute("<?php "+e.textContent).fail(function(e){console.error(e)})}),console.log("End app js")},{"./www/uniter_bundle/file_data.js":173,"./www/uniter_bundle/file_index.js":174,jquery:26,phpjs:140,uniter:165}],2:[function(require,module,exports){(function(process,__filename){"use strict";function amdefine(module,requireFn){"use strict";var defineCache={},loaderCache={},alreadyCalled=false,path=require("path"),makeRequire,stringRequire;function trimDots(ary){var i,part;for(i=0;ary[i];i+=1){part=ary[i];if(part==="."){ary.splice(i,1);i-=1}else if(part===".."){if(i===1&&(ary[2]===".."||ary[0]==="..")){break}else if(i>0){ary.splice(i-1,2);i-=2}}}}function normalize(name,baseName){var baseParts;if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseName.split("/");baseParts=baseParts.slice(0,baseParts.length-1);baseParts=baseParts.concat(name.split("/"));trimDots(baseParts);name=baseParts.join("/")}}return name}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(id){function load(value){loaderCache[id]=value}load.fromText=function(id,text){throw new Error("amdefine does not implement load.fromText")};return load}makeRequire=function(systemRequire,exports,module,relId){function amdRequire(deps,callback){if(typeof deps==="string"){return stringRequire(systemRequire,exports,module,deps,relId)}else{deps=deps.map(function(depName){return stringRequire(systemRequire,exports,module,depName,relId)});if(callback){process.nextTick(function(){callback.apply(null,deps)})}}}amdRequire.toUrl=function(filePath){if(filePath.indexOf(".")===0){return normalize(filePath,path.dirname(module.filename))}else{return filePath}};return amdRequire};requireFn=requireFn||function req(){return module.require.apply(module,arguments)};function runFactory(id,deps,factory){var r,e,m,result;if(id){e=loaderCache[id]={};m={id:id,uri:__filename,exports:e};r=makeRequire(requireFn,e,m,id)}else{if(alreadyCalled){throw new Error("amdefine with no module ID cannot be called more than once per file.")}alreadyCalled=true;e=module.exports;m=module;r=makeRequire(requireFn,e,m,module.id)}if(deps){deps=deps.map(function(depName){return r(depName)})}if(typeof factory==="function"){result=factory.apply(m.exports,deps)}else{result=factory}if(result!==undefined){m.exports=result;if(id){loaderCache[id]=m.exports}}}stringRequire=function(systemRequire,exports,module,id,relId){var index=id.indexOf("!"),originalId=id,prefix,plugin;if(index===-1){id=normalize(id,relId);if(id==="require"){return makeRequire(systemRequire,exports,module,relId)}else if(id==="exports"){return exports}else if(id==="module"){return module}else if(loaderCache.hasOwnProperty(id)){return loaderCache[id]}else if(defineCache[id]){runFactory.apply(null,defineCache[id]);return loaderCache[id]}else{if(systemRequire){return systemRequire(originalId)}else{throw new Error("No module with ID: "+id)}}}else{prefix=id.substring(0,index);id=id.substring(index+1,id.length);plugin=stringRequire(systemRequire,exports,module,prefix,relId);if(plugin.normalize){id=plugin.normalize(id,makeNormalize(relId))}else{id=normalize(id,relId)}if(loaderCache[id]){return loaderCache[id]}else{plugin.load(id,makeRequire(systemRequire,exports,module,relId),makeLoad(id),{});return loaderCache[id]}}};function define(id,deps,factory){if(Array.isArray(id)){factory=deps;deps=id;id=undefined}else if(typeof id!=="string"){factory=id;id=deps=undefined}if(deps&&!Array.isArray(deps)){factory=deps;deps=undefined}if(!deps){deps=["require","exports","module"]}if(id){defineCache[id]=[id,deps,factory]}else{runFactory(id,deps,factory)}}define.require=function(id){if(loaderCache[id]){return loaderCache[id]}if(defineCache[id]){runFactory.apply(null,defineCache[id]);return loaderCache[id]}};define.amd={};return define}module.exports=amdefine}).call(this,require("_process"),"/node_modules/amdefine/amdefine.js")},{_process:160,path:51}],3:[function(require,module,exports){(function(process,global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var SomePromiseArray=Promise._SomePromiseArray;function any(promises){var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(1);ret.setUnwrap();ret.init();return promise}Promise.any=function(promises){return any(promises)};Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule.js");var Queue=_dereq_("./queue.js");var util=_dereq_("./util.js");function Async(){this._isTickUsed=false;this._lateQueue=new Queue(16);this._normalQueue=new Queue(16);this._trampolineEnabled=true;var self=this;this.drainQueues=function(){self._drainQueues()};this._schedule=schedule.isStatic?schedule(this.drainQueues):schedule}Async.prototype.disableTrampolineIfNecessary=function(){if(util.hasDevTools){this._trampolineEnabled=false}};Async.prototype.enableTrampoline=function(){if(!this._trampolineEnabled){this._trampolineEnabled=true;this._schedule=function(fn){setTimeout(fn,0)}}};Async.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0};Async.prototype.throwLater=function(fn,arg){if(arguments.length===1){arg=fn;fn=function(){throw arg}}if(typeof setTimeout!=="undefined"){setTimeout(function(){fn(arg)},0)}else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}};function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg);this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg);this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise);this._queueTick()}if(!util.hasDevTools){Async.prototype.invokeLater=AsyncInvokeLater;Async.prototype.invoke=AsyncInvoke;Async.prototype.settlePromises=AsyncSettlePromises}else{if(schedule.isStatic){schedule=function(fn){setTimeout(fn,0)}}Async.prototype.invokeLater=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvokeLater.call(this,fn,receiver,arg)}else{this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})}};Async.prototype.invoke=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvoke.call(this,fn,receiver,arg)}else{this._schedule(function(){fn.call(receiver,arg)})}};Async.prototype.settlePromises=function(promise){if(this._trampolineEnabled){AsyncSettlePromises.call(this,promise)}else{this._schedule(function(){promise._settlePromises()})}}}Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg);this._queueTick()};Async.prototype._drainQueue=function(queue){while(queue.length()>0){var fn=queue.shift();if(typeof fn!=="function"){fn._settlePromises();continue}var receiver=queue.shift();var arg=queue.shift();fn.call(receiver,arg)}};Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._drainQueue(this._lateQueue)};Async.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};Async.prototype._reset=function(){this._isTickUsed=false};module.exports=new Async;module.exports.firstLineError=firstLineError},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise){var rejectThis=function(_,e){this._reject(e)};var targetRejected=function(e,context){context.promiseRejectionQueued=true;context.bindingPromise._then(rejectThis,rejectThis,null,this,e)};var bindingResolved=function(thisArg,context){if(this._isPending()){this._resolveCallback(context.target)}};var bindingRejected=function(e,context){if(!context.promiseRejectionQueued)this._reject(e)};Promise.prototype.bind=function(thisArg){var maybePromise=tryConvertToPromise(thisArg);var ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();ret._setBoundTo(maybePromise);if(maybePromise instanceof Promise){var context={promiseRejectionQueued:false,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,ret._progress,ret,context);maybePromise._then(bindingResolved,bindingRejected,ret._progress,ret,context)}else{ret._resolveCallback(target)}return ret};Promise.prototype._setBoundTo=function(obj){if(obj!==undefined){this._bitField=this._bitField|131072;this._boundTo=obj}else{this._bitField=this._bitField&~131072}};Promise.prototype._isBound=function(){return(this._bitField&131072)===131072};Promise.bind=function(thisArg,value){var maybePromise=tryConvertToPromise(thisArg);var ret=new Promise(INTERNAL);ret._setBoundTo(maybePromise);if(maybePromise instanceof Promise){maybePromise._then(function(){ret._resolveCallback(value)},ret._reject,ret._progress,ret,null)}else{ret._resolveCallback(value)}return ret}}},{}],4:[function(_dereq_,module,exports){"use strict";var old;if(typeof Promise!=="undefined")old=Promise;function noConflict(){try{if(Promise===bluebird)Promise=old}catch(e){}return bluebird}var bluebird=_dereq_("./promise.js")();bluebird.noConflict=noConflict;module.exports=bluebird},{"./promise.js":23}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null);var getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){var util=_dereq_("./util.js");var canEvaluate=util.canEvaluate;var isIdentifier=util.isIdentifier;var getMethodCaller;var getGetter;if(!true){var makeMethodCaller=function(methodName){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,methodName))(ensureMethod)};var makeGetter=function(propertyName){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",propertyName))};var getCompiled=function(name,compiler,cache){var ret=cache[name];if(typeof ret!=="function"){if(!isIdentifier(name)){return null}ret=compiler(name);cache[name]=ret;cache[" size"]++;if(cache[" size"]>512){var keys=Object.keys(cache);for(var i=0;i<256;++i)delete cache[keys[i]];cache[" size"]=keys.length-256}}return ret};getMethodCaller=function(name){return getCompiled(name,makeMethodCaller,callerCache)};getGetter=function(name){return getCompiled(name,makeGetter,getterCache)}}function ensureMethod(obj,methodName){var fn;if(obj!=null)fn=obj[methodName];if(typeof fn!=="function"){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop();var fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}Promise.prototype.call=function(methodName){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i]}if(!true){if(canEvaluate){var maybeCaller=getMethodCaller(methodName);if(maybeCaller!==null){return this._then(maybeCaller,undefined,undefined,args,undefined)}}}args.push(methodName);return this._then(caller,undefined,undefined,args,undefined)};function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;if(index<0)index=Math.max(0,index+obj.length);return obj[index]}Promise.prototype.get=function(propertyName){var isIndex=typeof propertyName==="number";var getter;if(!isIndex){if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=maybeGetter!==null?maybeGetter:namedGetter}else{getter=namedGetter}}else{getter=indexedGetter}return this._then(getter,undefined,undefined,propertyName,undefined)}}},{"./util.js":38}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var errors=_dereq_("./errors.js");var async=_dereq_("./async.js");var CancellationError=errors.CancellationError;Promise.prototype._cancel=function(reason){if(!this.isCancellable())return this;var parent;var promiseToReject=this;while((parent=promiseToReject._cancellationParent)!==undefined&&parent.isCancellable()){promiseToReject=parent}this._unsetCancellable();promiseToReject._target()._rejectCallback(reason,false,true)};Promise.prototype.cancel=function(reason){if(!this.isCancellable())return this;if(reason===undefined)reason=new CancellationError;async.invokeLater(this._cancel,this,reason);return this};Promise.prototype.cancellable=function(){if(this._cancellable())return this;async.enableTrampoline();this._setCancellable();this._cancellationParent=undefined;return this};Promise.prototype.uncancellable=function(){var ret=this.then();ret._unsetCancellable();return ret};Promise.prototype.fork=function(didFulfill,didReject,didProgress){var ret=this._then(didFulfill,didReject,didProgress,undefined,undefined);ret._setCancellable();ret._cancellationParent=undefined;return ret}}},{"./async.js":2,"./errors.js":13}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(){var async=_dereq_("./async.js");var util=_dereq_("./util.js");var bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/;var stackFramePattern=null;var formatStack=null;var indentStackFrames=false;var warn;function CapturedTrace(parent){this._parent=parent;var length=this._length=1+(parent===undefined?0:parent._length);captureStackTrace(this,CapturedTrace);if(length>32)this.uncycle()}util.inherits(CapturedTrace,Error);CapturedTrace.prototype.uncycle=function(){var length=this._length;if(length<2)return;var nodes=[];var stackToIndex={};for(var i=0,node=this;node!==undefined;++i){nodes.push(node);node=node._parent}length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;if(stackToIndex[stack]===undefined){stackToIndex[stack]=i}}for(var i=0;i<length;++i){var currentStack=nodes[i].stack;var index=stackToIndex[currentStack];if(index!==undefined&&index!==i){if(index>0){nodes[index-1]._parent=undefined;nodes[index-1]._length=1}nodes[i]._parent=undefined;nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;if(index<length-1){cycleEdgeNode._parent=nodes[index+1];cycleEdgeNode._parent.uncycle();cycleEdgeNode._length=cycleEdgeNode._parent._length+1}else{cycleEdgeNode._parent=undefined;cycleEdgeNode._length=1}var currentChildLength=cycleEdgeNode._length+1;for(var j=i-2;j>=0;--j){nodes[j]._length=currentChildLength;currentChildLength++}return}}};CapturedTrace.prototype.parent=function(){return this._parent};CapturedTrace.prototype.hasParent=function(){return this._parent!==undefined};CapturedTrace.prototype.attachExtraTrace=function(error){if(error.__stackCleaned__)return;this.uncycle();var parsed=CapturedTrace.parseStackAndMessage(error);var message=parsed.message;var stacks=[parsed.stack];var trace=this;while(trace!==undefined){stacks.push(cleanStack(trace.stack.split("\n")));trace=trace._parent}removeCommonRoots(stacks);removeDuplicateOrEmptyJumps(stacks);util.notEnumerableProp(error,"stack",reconstructStack(message,stacks));util.notEnumerableProp(error,"__stackCleaned__",true)};function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i){stacks[i].push("From previous event:");stacks[i]=stacks[i].join("\n")}if(i<stacks.length){stacks[i]=stacks[i].join("\n")}return message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i){if(stacks[i].length===0||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0]){stacks.splice(i,1);i--}}}function removeCommonRoots(stacks){var current=stacks[0];for(var i=1;i<stacks.length;++i){var prev=stacks[i];var currentLastIndex=current.length-1;var currentLastLine=current[currentLastIndex];var commonRootMeetPoint=-1;for(var j=prev.length-1;j>=0;--j){if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]===line){current.pop();currentLastIndex--}else{break}}current=prev}}function cleanStack(stack){var ret=[];for(var i=0;i<stack.length;++i){var line=stack[i];var isTraceLine=stackFramePattern.test(line)||"    (No stack trace)"===line;var isInternalFrame=isTraceLine&&shouldIgnore(line);if(isTraceLine&&!isInternalFrame){if(indentStackFrames&&line.charAt(0)!==" "){line="    "+line}ret.push(line)}}return ret}function stackFramesAsArray(error){var stack=error.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line)){break}}if(i>0){stack=stack.slice(i)}return stack}CapturedTrace.parseStackAndMessage=function(error){var stack=error.stack;var message=error.toString();stack=typeof stack==="string"&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"];return{message:message,stack:cleanStack(stack)}};CapturedTrace.formatAndLogError=function(error,title){if(typeof console!=="undefined"){var message;if(typeof error==="object"||typeof error==="function"){var stack=error.stack;message=title+formatStack(stack,error)}else{message=title+String(error)}if(typeof warn==="function"){warn(message)}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(message)}}};CapturedTrace.unhandledRejection=function(reason){CapturedTrace.formatAndLogError(reason,"^--- With additional stack trace: ")};CapturedTrace.isSupported=function(){return typeof captureStackTrace==="function"};CapturedTrace.fireRejectionEvent=function(name,localHandler,reason,promise){var localEventFired=false;try{if(typeof localHandler==="function"){localEventFired=true;if(name==="rejectionHandled"){localHandler(promise)}else{localHandler(reason,promise)}}}catch(e){async.throwLater(e)}var globalEventFired=false;try{globalEventFired=fireGlobalEvent(name,reason,promise)}catch(e){globalEventFired=true;async.throwLater(e)}var domEventFired=false;if(fireDomEvent){try{domEventFired=fireDomEvent(name.toLowerCase(),{reason:reason,promise:promise})}catch(e){domEventFired=true;async.throwLater(e)}}if(!globalEventFired&&!localEventFired&&!domEventFired&&name==="unhandledRejection"){CapturedTrace.formatAndLogError(reason,"Unhandled rejection ")}};function formatNonError(obj){var str;if(typeof obj==="function"){str="[function "+(obj.name||"anonymous")+"]"}else{str=obj.toString();var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str)){try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}}if(str.length===0){str="(empty array)"}}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;if(str.length<maxChars){return str}return str.substr(0,maxChars-3)+"..."}var shouldIgnore=function(){return false};var parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches){return{fileName:matches[1],line:parseInt(matches[2],10)}}}CapturedTrace.setBounds=function(firstLineError,lastLineError){if(!CapturedTrace.isSupported())return;var firstStackLines=firstLineError.stack.split("\n");var lastStackLines=lastLineError.stack.split("\n");var firstIndex=-1;var lastIndex=-1;var firstFileName;var lastFileName;for(var i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName;firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName;lastIndex=result.line;break}}if(firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex){return}shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return true;var info=parseLineInfo(line);if(info){if(info.fileName===firstFileName&&(firstIndex<=info.line&&info.line<=lastIndex)){return true}}return false}};var captureStackTrace=function stackDetection(){var v8stackFramePattern=/^\s*at\s*/;var v8stackFormatter=function(stack,error){if(typeof stack==="string")return stack;if(error.name!==undefined&&error.message!==undefined){return error.toString()}return formatNonError(error)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit=Error.stackTraceLimit+6;stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;shouldIgnore=function(line){return bluebirdFramePattern.test(line)};return function(receiver,ignoreUntil){Error.stackTraceLimit=Error.stackTraceLimit+6;captureStackTrace(receiver,ignoreUntil);Error.stackTraceLimit=Error.stackTraceLimit-6}}var err=new Error;if(typeof err.stack==="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0){stackFramePattern=/@/;formatStack=v8stackFormatter;indentStackFrames=true;return function captureStackTrace(o){o.stack=(new Error).stack}}var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}if(!("stack"in err)&&hasStackAfterThrow&&typeof Error.stackTraceLimit==="number"){stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;return function captureStackTrace(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6}}formatStack=function(stack,error){if(typeof stack==="string")return stack;if((typeof error==="object"||typeof error==="function")&&error.name!==undefined&&error.message!==undefined){return error.toString()}return formatNonError(error)};return null}([]);var fireDomEvent;var fireGlobalEvent=function(){if(util.isNode){return function(name,reason,promise){if(name==="rejectionHandled"){return process.emit(name,promise)}else{return process.emit(name,reason,promise)}}}else{var customEventWorks=false;var anyEventWorks=true;try{var ev=new self.CustomEvent("test");customEventWorks=ev instanceof CustomEvent}catch(e){}if(!customEventWorks){try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",false,true,{});self.dispatchEvent(event)}catch(e){anyEventWorks=false}}if(anyEventWorks){fireDomEvent=function(type,detail){var event;if(customEventWorks){event=new self.CustomEvent(type,{detail:detail,bubbles:false,cancelable:true})}else if(self.dispatchEvent){event=document.createEvent("CustomEvent");event.initCustomEvent(type,false,true,detail)}return event?!self.dispatchEvent(event):false}}var toWindowMethodNameMap={};toWindowMethodNameMap["unhandledRejection"]=("on"+"unhandledRejection").toLowerCase();toWindowMethodNameMap["rejectionHandled"]=("on"+"rejectionHandled").toLowerCase();return function(name,reason,promise){var methodName=toWindowMethodNameMap[name];var method=self[methodName];if(!method)return false;if(name==="rejectionHandled"){method.call(self,promise)}else{method.call(self,reason,promise)}return true}}}();if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){warn=function(message){console.warn(message)};if(util.isNode&&process.stderr.isTTY){warn=function(message){process.stderr.write("[31m"+message+"[39m\n")}}else if(!util.isNode&&typeof(new Error).stack==="string"){warn=function(message){console.warn("%c"+message,"color: red")}}}return CapturedTrace}},{"./async.js":2,"./util.js":38}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){var util=_dereq_("./util.js");var errors=_dereq_("./errors.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var keys=_dereq_("./es5.js").keys;var TypeError=errors.TypeError;function CatchFilter(instances,callback,promise){this._instances=instances;this._callback=callback;this._promise=promise}function safePredicate(predicate,e){var safeObject={};var retfilter=tryCatch(predicate).call(safeObject,e);if(retfilter===errorObj)return retfilter;var safeKeys=keys(safeObject);if(safeKeys.length){errorObj.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n");return errorObj}return retfilter}CatchFilter.prototype.doFilter=function(e){var cb=this._callback;var promise=this._promise;var boundTo=promise._boundValue();for(var i=0,len=this._instances.length;i<len;++i){var item=this._instances[i];var itemIsErrorType=item===Error||item!=null&&item.prototype instanceof Error;if(itemIsErrorType&&e instanceof item){var ret=tryCatch(cb).call(boundTo,e);if(ret===errorObj){NEXT_FILTER.e=ret.e;return NEXT_FILTER}return ret}else if(typeof item==="function"&&!itemIsErrorType){var shouldHandle=safePredicate(item,e);if(shouldHandle===errorObj){e=errorObj.e;break}else if(shouldHandle){var ret=tryCatch(cb).call(boundTo,e);if(ret===errorObj){NEXT_FILTER.e=ret.e;return NEXT_FILTER}return ret}}}NEXT_FILTER.e=e;return NEXT_FILTER};return CatchFilter}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace,isDebugging){var contextStack=[];function Context(){this._trace=new CapturedTrace(peekContext())}Context.prototype._pushContext=function(){if(!isDebugging())return;if(this._trace!==undefined){contextStack.push(this._trace)}};Context.prototype._popContext=function(){if(!isDebugging())return;if(this._trace!==undefined){contextStack.pop()}};function createContext(){if(isDebugging())return new Context}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0){return contextStack[lastIndex]}return undefined}Promise.prototype._peekContext=peekContext;Promise.prototype._pushContext=Context.prototype._pushContext;Promise.prototype._popContext=Context.prototype._popContext;return createContext}},{}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace){var getDomain=Promise._getDomain;var async=_dereq_("./async.js");var Warning=_dereq_("./errors.js").Warning;var util=_dereq_("./util.js");var canAttachTrace=util.canAttachTrace;var unhandledRejectionHandled;var possiblyUnhandledRejection;var debugging=false||util.isNode&&(!!process.env["BLUEBIRD_DEBUG"]||process.env["NODE_ENV"]==="development");if(util.isNode&&process.env["BLUEBIRD_DEBUG"]==0)debugging=false;if(debugging){async.disableTrampolineIfNecessary()}Promise.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled();this._bitField=this._bitField|16777216};Promise.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&16777216)!==0)return;this._setRejectionIsUnhandled();async.invokeLater(this._notifyUnhandledRejection,this,undefined)};Promise.prototype._notifyUnhandledRejectionIsHandled=function(){CapturedTrace.fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,undefined,this)};Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified();CapturedTrace.fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}};Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|524288};Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~524288};Promise.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&524288)>0};Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|2097152};Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~2097152;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};Promise.prototype._isRejectionUnhandled=function(){return(this._bitField&2097152)>0}
;Promise.prototype._setCarriedStackTrace=function(capturedTrace){this._bitField=this._bitField|1048576;this._fulfillmentHandler0=capturedTrace};Promise.prototype._isCarryingStackTrace=function(){return(this._bitField&1048576)>0};Promise.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:undefined};Promise.prototype._captureStackTrace=function(){if(debugging){this._trace=new CapturedTrace(this._peekContext())}return this};Promise.prototype._attachExtraTrace=function(error,ignoreSelf){if(debugging&&canAttachTrace(error)){var trace=this._trace;if(trace!==undefined){if(ignoreSelf)trace=trace._parent}if(trace!==undefined){trace.attachExtraTrace(error)}else if(!error.__stackCleaned__){var parsed=CapturedTrace.parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n"));util.notEnumerableProp(error,"__stackCleaned__",true)}}};Promise.prototype._warn=function(message){var warning=new Warning(message);var ctx=this._peekContext();if(ctx){ctx.attachExtraTrace(warning)}else{var parsed=CapturedTrace.parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}CapturedTrace.formatAndLogError(warning,"")};Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection=typeof fn==="function"?domain===null?fn:domain.bind(fn):undefined};Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled=typeof fn==="function"?domain===null?fn:domain.bind(fn):undefined};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&debugging===false){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n")}debugging=CapturedTrace.isSupported();if(debugging){async.disableTrampolineIfNecessary()}};Promise.hasLongStackTraces=function(){return debugging&&CapturedTrace.isSupported()};if(!CapturedTrace.isSupported()){Promise.longStackTraces=function(){};debugging=false}return function(){return debugging}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util.js");var isPrimitive=util.isPrimitive;module.exports=function(Promise){var returner=function(){return this};var thrower=function(){throw this};var returnUndefined=function(){};var throwUndefined=function(){throw undefined};var wrapper=function(value,action){if(action===1){return function(){throw value}}else if(action===2){return function(){return value}}};Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){if(value===undefined)return this.then(returnUndefined);if(isPrimitive(value)){return this._then(wrapper(value,2),undefined,undefined,undefined,undefined)}else if(value instanceof Promise){value._ignoreRejections()}return this._then(returner,undefined,undefined,value,undefined)};Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){if(reason===undefined)return this.then(throwUndefined);if(isPrimitive(reason)){return this._then(wrapper(reason,1),undefined,undefined,undefined,undefined)}return this._then(thrower,undefined,undefined,reason,undefined)}}},{"./util.js":38}],12:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce;Promise.prototype.each=function(fn){return PromiseReduce(this,fn,null,INTERNAL)};Promise.each=function(promises,fn){return PromiseReduce(promises,fn,null,INTERNAL)}}},{}],13:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5.js");var Objectfreeze=es5.freeze;var util=_dereq_("./util.js");var inherits=util.inherits;var notEnumerableProp=util.notEnumerableProp;function subError(nameProperty,defaultMessage){function SubError(message){if(!(this instanceof SubError))return new SubError(message);notEnumerableProp(this,"message",typeof message==="string"?message:defaultMessage);notEnumerableProp(this,"name",nameProperty);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}inherits(SubError,Error);return SubError}var _TypeError,_RangeError;var Warning=subError("Warning","warning");var CancellationError=subError("CancellationError","cancellation error");var TimeoutError=subError("TimeoutError","timeout error");var AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError;_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error");_RangeError=subError("RangeError","range error")}var methods=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var i=0;i<methods.length;++i){if(typeof Array.prototype[methods[i]]==="function"){AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]}}es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});AggregateError.prototype["isOperational"]=true;var level=0;AggregateError.prototype.toString=function(){var indent=Array(level*4+1).join(" ");var ret="\n"+indent+"AggregateError of:"+"\n";level++;indent=Array(level*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"";var lines=str.split("\n");for(var j=0;j<lines.length;++j){lines[j]=indent+lines[j]}str=lines.join("\n");ret+=str+"\n"}level--;return ret};function OperationalError(message){if(!(this instanceof OperationalError))return new OperationalError(message);notEnumerableProp(this,"name","OperationalError");notEnumerableProp(this,"message",message);this.cause=message;this["isOperational"]=true;if(message instanceof Error){notEnumerableProp(this,"message",message.message);notEnumerableProp(this,"stack",message.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}inherits(OperationalError,Error);var errorTypes=Error["__BluebirdErrorTypes__"];if(!errorTypes){errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError});notEnumerableProp(Error,"__BluebirdErrorTypes__",errorTypes)}module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5.js":14,"./util.js":38}],14:[function(_dereq_,module,exports){var isES5=function(){"use strict";return this===undefined}();if(isES5){module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!!(!descriptor||descriptor.writable||descriptor.set)}}}else{var has={}.hasOwnProperty;var str={}.toString;var proto={}.constructor.prototype;var ObjectKeys=function(o){var ret=[];for(var key in o){if(has.call(o,key)){ret.push(key)}}return ret};var ObjectGetDescriptor=function(o,key){return{value:o[key]}};var ObjectDefineProperty=function(o,key,desc){o[key]=desc.value;return o};var ObjectFreeze=function(obj){return obj};var ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}};var ArrayIsArray=function(obj){try{return str.call(obj)==="[object Array]"}catch(e){return false}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return true}}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)};Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,NEXT_FILTER,tryConvertToPromise){var util=_dereq_("./util.js");var isPrimitive=util.isPrimitive;var thrower=util.thrower;function returnThis(){return this}function throwThis(){throw this}function return$(r){return function(){return r}}function throw$(r){return function(){throw r}}function promisedFinally(ret,reasonOrValue,isFulfilled){var then;if(isPrimitive(reasonOrValue)){then=isFulfilled?return$(reasonOrValue):throw$(reasonOrValue)}else{then=isFulfilled?returnThis:throwThis}return ret._then(then,thrower,undefined,reasonOrValue,undefined)}function finallyHandler(reasonOrValue){var promise=this.promise;var handler=this.handler;var ret=promise._isBound()?handler.call(promise._boundValue()):handler();if(ret!==undefined){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();return promisedFinally(maybePromise,reasonOrValue,promise.isFulfilled())}}if(promise.isRejected()){NEXT_FILTER.e=reasonOrValue;return NEXT_FILTER}else{return reasonOrValue}}function tapHandler(value){var promise=this.promise;var handler=this.handler;var ret=promise._isBound()?handler.call(promise._boundValue(),value):handler(value);if(ret!==undefined){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();return promisedFinally(maybePromise,value,true)}}return value}Promise.prototype._passThroughHandler=function(handler,isFinally){if(typeof handler!=="function")return this.then();var promiseAndHandler={promise:this,handler:handler};return this._then(isFinally?finallyHandler:tapHandler,isFinally?finallyHandler:undefined,undefined,promiseAndHandler,undefined)};Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThroughHandler(handler,true)};Promise.prototype.tap=function(handler){return this._passThroughHandler(handler,false)}}},{"./util.js":38}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise){var errors=_dereq_("./errors.js");var TypeError=errors.TypeError;var util=_dereq_("./util.js");var errorObj=util.errorObj;var tryCatch=util.tryCatch;var yieldHandlers=[];function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);traceParent._popContext();if(result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);traceParent._popContext();return ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace();this._stack=stack;this._generatorFunction=generatorFunction;this._receiver=receiver;this._generator=undefined;this._yieldHandlers=typeof yieldHandler==="function"?[yieldHandler].concat(yieldHandlers):yieldHandlers}PromiseSpawn.prototype.promise=function(){return this._promise};PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._next(undefined)};PromiseSpawn.prototype._continue=function(result){if(result===errorObj){return this._promise._rejectCallback(result.e,false,true)}var value=result.value;if(result.done===true){this._promise._resolveCallback(value)}else{var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)){maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise);if(maybePromise===null){this._throw(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}maybePromise._then(this._next,this._throw,undefined,this,null)}};PromiseSpawn.prototype._throw=function(reason){this._promise._attachExtraTrace(reason);this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext();this._continue(result)};PromiseSpawn.prototype._next=function(value){this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext();this._continue(result)};Promise.coroutine=function(generatorFunction,options){if(typeof generatorFunction!=="function"){throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n")}var yieldHandler=Object(options).yieldHandler;var PromiseSpawn$=PromiseSpawn;var stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments);var spawn=new PromiseSpawn$(undefined,undefined,yieldHandler,stack);spawn._generator=generator;spawn._next(undefined);return spawn.promise()}};Promise.coroutine.addYieldHandler=function(fn){if(typeof fn!=="function")throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");yieldHandlers.push(fn)};Promise.spawn=function(generatorFunction){if(typeof generatorFunction!=="function"){return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n")}var spawn=new PromiseSpawn(generatorFunction,this);var ret=spawn.promise();spawn._run(Promise.spawn);return ret}}},{"./errors.js":13,"./util.js":38}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){var util=_dereq_("./util.js");var canEvaluate=util.canEvaluate;var tryCatch=util.tryCatch;var errorObj=util.errorObj;var reject;if(!true){if(canEvaluate){var thenCallback=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i))};var caller=function(count){var values=[];for(var i=1;i<=count;++i)values.push("holder.p"+i);return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,values.join(", ")))};var thenCallbacks=[];var callers=[undefined];for(var i=1;i<=5;++i){thenCallbacks.push(thenCallback(i));callers.push(caller(i))}var Holder=function(total,fn){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=fn;this.total=total;this.now=0};Holder.prototype.callers=callers;Holder.prototype.checkFulfillment=function(promise){var now=this.now;now++;var total=this.total;if(now>=total){var handler=this.callers[total];promise._pushContext();var ret=tryCatch(handler)(this);promise._popContext();if(ret===errorObj){promise._rejectCallback(ret.e,false,true)}else{promise._resolveCallback(ret)}}else{this.now=now}};var reject=function(reason){this._reject(reason)}}}Promise.join=function(){var last=arguments.length-1;var fn;if(last>0&&typeof arguments[last]==="function"){fn=arguments[last];if(!true){if(last<6&&canEvaluate){var ret=new Promise(INTERNAL);ret._captureStackTrace();var holder=new Holder(last,fn);var callbacks=thenCallbacks;for(var i=0;i<last;++i){var maybePromise=tryConvertToPromise(arguments[i],ret);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){maybePromise._then(callbacks[i],reject,undefined,ret,holder)}else if(maybePromise._isFulfilled()){callbacks[i].call(ret,maybePromise._value(),holder)}else{ret._reject(maybePromise._reason())}}else{callbacks[i].call(ret,maybePromise,holder)}}return ret}}}var $_len=arguments.length;var args=new Array($_len);for(var $_i=0;$_i<$_len;++$_i){args[$_i]=arguments[$_i]}if(fn)args.pop();var ret=new PromiseArray(args).promise();return fn!==undefined?ret.spread(fn):ret}}},{"./util.js":38}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){var getDomain=Promise._getDomain;var async=_dereq_("./async.js");var util=_dereq_("./util.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var PENDING={};var EMPTY_ARRAY=[];function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises);this._promise._captureStackTrace();var domain=getDomain();this._callback=domain===null?fn:domain.bind(fn);this._preservedValues=_filter===INTERNAL?new Array(this.length()):null;this._limit=limit;this._inFlight=0;this._queue=limit>=1?[]:EMPTY_ARRAY;async.invoke(init,this,undefined)}util.inherits(MappingPromiseArray,PromiseArray);function init(){this._init$(undefined,-2)}MappingPromiseArray.prototype._init=function(){};MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;var length=this.length();var preservedValues=this._preservedValues;var limit=this._limit;if(values[index]===PENDING){values[index]=value;if(limit>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return}}else{if(limit>=1&&this._inFlight>=limit){values[index]=value;this._queue.push(index);return}if(preservedValues!==null)preservedValues[index]=value;var callback=this._callback;var receiver=this._promise._boundValue();this._promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length);this._promise._popContext();if(ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){if(limit>=1)this._inFlight++;values[index]=PENDING;return maybePromise._proxyPromiseArray(this,index)}else if(maybePromise._isFulfilled()){ret=maybePromise._value()}else{return this._reject(maybePromise._reason())}}values[index]=ret}var totalResolved=++this._totalResolved;if(totalResolved>=length){if(preservedValues!==null){this._filter(values,preservedValues)}else{this._resolve(values)}}};MappingPromiseArray.prototype._drainQueue=function(){var queue=this._queue;var limit=this._limit;var values=this._values;while(queue.length>0&&this._inFlight<limit){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}};MappingPromiseArray.prototype._filter=function(booleans,values){var len=values.length;var ret=new Array(len);var j=0;for(var i=0;i<len;++i){if(booleans[i])ret[j++]=values[i]}ret.length=j;this._resolve(ret)};MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues};function map(promises,fn,options,_filter){var limit=typeof options==="object"&&options!==null?options.concurrency:0;limit=typeof limit==="number"&&isFinite(limit)&&limit>=1?limit:0;return new MappingPromiseArray(promises,fn,limit,_filter)}Promise.prototype.map=function(fn,options){if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return map(this,fn,options,null).promise()};Promise.map=function(promises,fn,options,_filter){if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return map(promises,fn,options,_filter).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var tryCatch=util.tryCatch;Promise.method=function(fn){if(typeof fn!=="function"){throw new Promise.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n")}return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value=tryCatch(fn).apply(this,arguments);ret._popContext();ret._resolveFromSyncValue(value);return ret}};Promise.attempt=Promise["try"]=function(fn,args,ctx){if(typeof fn!=="function"){return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n")}var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value=util.isArray(args)?tryCatch(fn).apply(ctx,args):tryCatch(fn).call(ctx,args);ret._popContext();ret._resolveFromSyncValue(value);return ret};Promise.prototype._resolveFromSyncValue=function(value){if(value===util.errorObj){this._rejectCallback(value.e,false,true)}else{this._resolveCallback(value,true)}}}},{"./util.js":38}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var util=_dereq_("./util.js");var async=_dereq_("./async.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));if(ret===errorObj){async.throwLater(ret.e)}}function successAdapter(val,nodeback){var promise=this;var receiver=promise._boundValue();var ret=val===undefined?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);if(ret===errorObj){async.throwLater(ret.e)}}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var target=promise._target();var newReason=target._getCarriedStackTrace();newReason.cause=reason;reason=newReason}var ret=tryCatch(nodeback).call(promise._boundValue(),reason);if(ret===errorObj){async.throwLater(ret.e)}}Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if(typeof nodeback=="function"){var adapter=successAdapter;if(options!==undefined&&Object(options).spread){adapter=spreadAdapter}this._then(adapter,errorAdapter,undefined,this,nodeback)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){var util=_dereq_("./util.js");var async=_dereq_("./async.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;Promise.prototype.progressed=function(handler){return this._then(undefined,undefined,handler,undefined,undefined)};Promise.prototype._progress=function(progressValue){if(this._isFollowingOrFulfilledOrRejected())return;this._target()._progressUnchecked(progressValue)};Promise.prototype._progressHandlerAt=function(index){return index===0?this._progressHandler0:this[(index<<2)+index-5+2]};Promise.prototype._doProgressWith=function(progression){var progressValue=progression.value;var handler=progression.handler;var promise=progression.promise;var receiver=progression.receiver;var ret=tryCatch(handler).call(receiver,progressValue);if(ret===errorObj){if(ret.e!=null&&ret.e.name!=="StopProgressPropagation"){var trace=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));promise._attachExtraTrace(trace);promise._progress(ret.e)}}else if(ret instanceof Promise){ret._then(promise._progress,null,null,promise,undefined)}else{promise._progress(ret)}};Promise.prototype._progressUnchecked=function(progressValue){var len=this._length();var progress=this._progress;for(var i=0;i<len;i++){var handler=this._progressHandlerAt(i);var promise=this._promiseAt(i);if(!(promise instanceof Promise)){var receiver=this._receiverAt(i);if(typeof handler==="function"){handler.call(receiver,progressValue,promise)}else if(receiver instanceof PromiseArray&&!receiver._isResolved()){receiver._promiseProgressed(progressValue,promise)}continue}if(typeof handler==="function"){async.invoke(this._doProgressWith,this,{handler:handler,promise:promise,receiver:this._receiverAt(i),value:progressValue})}else{async.invoke(progress,promise,progressValue)}}}}},{"./async.js":2,"./util.js":38}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(){var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")};var reflect=function(){return new Promise.PromiseInspection(this._target())};var apiRejection=function(msg){return Promise.reject(new TypeError(msg))};var util=_dereq_("./util.js");var getDomain;if(util.isNode){getDomain=function(){var ret=process.domain;if(ret===undefined)ret=null;return ret}}else{getDomain=function(){return null}}util.notEnumerableProp(Promise,"_getDomain",getDomain);var UNDEFINED_BINDING={};var async=_dereq_("./async.js");var errors=_dereq_("./errors.js");var TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError;Promise.OperationalError=errors.OperationalError;Promise.RejectionError=errors.OperationalError;Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){};var APPLY={};var NEXT_FILTER={e:null};var tryConvertToPromise=_dereq_("./thenables.js")(Promise,INTERNAL);var PromiseArray=_dereq_("./promise_array.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);var CapturedTrace=_dereq_("./captured_trace.js")();var isDebugging=_dereq_("./debuggability.js")(Promise,CapturedTrace);var createContext=_dereq_("./context.js")(Promise,CapturedTrace,isDebugging);var CatchFilter=_dereq_("./catch_filter.js")(NEXT_FILTER);var PromiseResolver=_dereq_("./promise_resolver.js");var nodebackForPromise=PromiseResolver._nodebackForPromise;var errorObj=util.errorObj;var tryCatch=util.tryCatch;function Promise(resolver){if(typeof resolver!=="function"){throw new TypeError("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n")}if(this.constructor!==Promise){throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n")}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._progressHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._settledValue=undefined;if(resolver!==INTERNAL)this._resolveFromResolver(resolver)}Promise.prototype.toString=function(){return"[object Promise]"};Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var catchInstances=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(typeof item==="function"){catchInstances[j++]=item}else{return Promise.reject(new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"))}}catchInstances.length=j;fn=arguments[i];var catchFilter=new CatchFilter(catchInstances,fn,this);return this._then(undefined,catchFilter.doFilter,undefined,catchFilter,undefined)}return this._then(undefined,fn,undefined,undefined,undefined)};Promise.prototype.reflect=function(){return this._then(reflect,reflect,undefined,this,undefined)};Promise.prototype.then=function(didFulfill,didReject,didProgress){if(isDebugging()&&arguments.length>0&&typeof didFulfill!=="function"&&typeof didReject!=="function"){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);if(arguments.length>1){msg+=", "+util.classString(didReject)}this._warn(msg)}return this._then(didFulfill,didReject,didProgress,undefined,undefined)};Promise.prototype.done=function(didFulfill,didReject,didProgress){var promise=this._then(didFulfill,didReject,didProgress,undefined,undefined);promise._setIsFinal()};Promise.prototype.spread=function(didFulfill,didReject){return this.all()._then(didFulfill,didReject,undefined,APPLY,undefined)};Promise.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()};Promise.prototype.toJSON=function(){var ret={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){ret.fulfillmentValue=this.value();ret.isFulfilled=true}else if(this.isRejected()){ret.rejectionReason=this.reason();ret.isRejected=true}return ret};Promise.prototype.all=function(){return new PromiseArray(this).promise()};Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)};Promise.getNewLibraryCopy=module.exports;Promise.is=function(val){return val instanceof Promise};Promise.fromNode=function(fn){var ret=new Promise(INTERNAL);var result=tryCatch(fn)(nodebackForPromise(ret));if(result===errorObj){ret._rejectCallback(result.e,true,true)}return ret};Promise.all=function(promises){return new PromiseArray(promises).promise()};Promise.defer=Promise.pending=function(){var promise=new Promise(INTERNAL);return new PromiseResolver(promise)};Promise.cast=function(obj){var ret=tryConvertToPromise(obj);if(!(ret instanceof Promise)){var val=ret;ret=new Promise(INTERNAL);ret._fulfillUnchecked(val)}return ret};Promise.resolve=Promise.fulfilled=Promise.cast;Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._rejectCallback(reason,true);return ret};Promise.setScheduler=function(fn){if(typeof fn!=="function")throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var prev=async._schedule;async._schedule=fn;return prev};Promise.prototype._then=function(didFulfill,didReject,didProgress,receiver,internalData){var haveInternalData=internalData!==undefined;var ret=haveInternalData?internalData:new Promise(INTERNAL);if(!haveInternalData){ret._propagateFrom(this,4|1);ret._captureStackTrace()}var target=this._target();if(target!==this){if(receiver===undefined)receiver=this._boundTo;if(!haveInternalData)ret._setIsMigrated()}var callbackIndex=target._addCallbacks(didFulfill,didReject,didProgress,ret,receiver,getDomain());if(target._isResolved()&&!target._isSettlePromisesQueued()){async.invoke(target._settlePromiseAtPostResolution,target,callbackIndex)}return ret};Promise.prototype._settlePromiseAtPostResolution=function(index){if(this._isRejectionUnhandled())this._unsetRejectionIsUnhandled();this._settlePromiseAt(index)};Promise.prototype._length=function(){return this._bitField&131071};Promise.prototype._isFollowingOrFulfilledOrRejected=function(){return(this._bitField&939524096)>0};Promise.prototype._isFollowing=function(){return(this._bitField&536870912)===536870912};Promise.prototype._setLength=function(len){this._bitField=this._bitField&-131072|len&131071};Promise.prototype._setFulfilled=function(){this._bitField=this._bitField|268435456};Promise.prototype._setRejected=function(){this._bitField=this._bitField|134217728};Promise.prototype._setFollowing=function(){this._bitField=this._bitField|536870912};Promise.prototype._setIsFinal=function(){this._bitField=this._bitField|33554432};Promise.prototype._isFinal=function(){return(this._bitField&33554432)>0};Promise.prototype._cancellable=function(){return(this._bitField&67108864)>0};Promise.prototype._setCancellable=function(){this._bitField=this._bitField|67108864};Promise.prototype._unsetCancellable=function(){this._bitField=this._bitField&~67108864};Promise.prototype._setIsMigrated=function(){this._bitField=this._bitField|4194304};Promise.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&~4194304};Promise.prototype._isMigrated=function(){return(this._bitField&4194304)>0};Promise.prototype._receiverAt=function(index){var ret=index===0?this._receiver0:this[index*5-5+4];if(ret===UNDEFINED_BINDING){return undefined}else if(ret===undefined&&this._isBound()){return this._boundValue()}return ret};Promise.prototype._promiseAt=function(index){return index===0?this._promise0:this[index*5-5+3]};Promise.prototype._fulfillmentHandlerAt=function(index){return index===0?this._fulfillmentHandler0:this[index*5-5+0]};Promise.prototype._rejectionHandlerAt=function(index){return index===0?this._rejectionHandler0:this[index*5-5+1]};Promise.prototype._boundValue=function(){var ret=this._boundTo;if(ret!==undefined){if(ret instanceof Promise){if(ret.isFulfilled()){return ret.value()}else{return undefined}}
}return ret};Promise.prototype._migrateCallbacks=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index);var reject=follower._rejectionHandlerAt(index);var progress=follower._progressHandlerAt(index);var promise=follower._promiseAt(index);var receiver=follower._receiverAt(index);if(promise instanceof Promise)promise._setIsMigrated();if(receiver===undefined)receiver=UNDEFINED_BINDING;this._addCallbacks(fulfill,reject,progress,promise,receiver,null)};Promise.prototype._addCallbacks=function(fulfill,reject,progress,promise,receiver,domain){var index=this._length();if(index>=131071-5){index=0;this._setLength(0)}if(index===0){this._promise0=promise;if(receiver!==undefined)this._receiver0=receiver;if(typeof fulfill==="function"&&!this._isCarryingStackTrace()){this._fulfillmentHandler0=domain===null?fulfill:domain.bind(fulfill)}if(typeof reject==="function"){this._rejectionHandler0=domain===null?reject:domain.bind(reject)}if(typeof progress==="function"){this._progressHandler0=domain===null?progress:domain.bind(progress)}}else{var base=index*5-5;this[base+3]=promise;this[base+4]=receiver;if(typeof fulfill==="function"){this[base+0]=domain===null?fulfill:domain.bind(fulfill)}if(typeof reject==="function"){this[base+1]=domain===null?reject:domain.bind(reject)}if(typeof progress==="function"){this[base+2]=domain===null?progress:domain.bind(progress)}}this._setLength(index+1);return index};Promise.prototype._setProxyHandlers=function(receiver,promiseSlotValue){var index=this._length();if(index>=131071-5){index=0;this._setLength(0)}if(index===0){this._promise0=promiseSlotValue;this._receiver0=receiver}else{var base=index*5-5;this[base+3]=promiseSlotValue;this[base+4]=receiver}this._setLength(index+1)};Promise.prototype._proxyPromiseArray=function(promiseArray,index){this._setProxyHandlers(promiseArray,index)};Promise.prototype._resolveCallback=function(value,shouldBind){if(this._isFollowingOrFulfilledOrRejected())return;if(value===this)return this._rejectCallback(makeSelfResolutionError(),false,true);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);var propagationFlags=1|(shouldBind?4:0);this._propagateFrom(maybePromise,propagationFlags);var promise=maybePromise._target();if(promise._isPending()){var len=this._length();for(var i=0;i<len;++i){promise._migrateCallbacks(this,i)}this._setFollowing();this._setLength(0);this._setFollowee(promise)}else if(promise._isFulfilled()){this._fulfillUnchecked(promise._value())}else{this._rejectUnchecked(promise._reason(),promise._getCarriedStackTrace())}};Promise.prototype._rejectCallback=function(reason,synchronous,shouldNotMarkOriginatingFromRejection){if(!shouldNotMarkOriginatingFromRejection){util.markAsOriginatingFromRejection(reason)}var trace=util.ensureErrorObject(reason);var hasStack=trace===reason;this._attachExtraTrace(trace,synchronous?hasStack:false);this._reject(reason,hasStack?undefined:trace)};Promise.prototype._resolveFromResolver=function(resolver){var promise=this;this._captureStackTrace();this._pushContext();var synchronous=true;var r=tryCatch(resolver)(function(value){if(promise===null)return;promise._resolveCallback(value);promise=null},function(reason){if(promise===null)return;promise._rejectCallback(reason,synchronous);promise=null});synchronous=false;this._popContext();if(r!==undefined&&r===errorObj&&promise!==null){promise._rejectCallback(r.e,true,true);promise=null}};Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){if(promise._isRejected())return;promise._pushContext();var x;if(receiver===APPLY&&!this._isRejected()){x=tryCatch(handler).apply(this._boundValue(),value)}else{x=tryCatch(handler).call(receiver,value)}promise._popContext();if(x===errorObj||x===promise||x===NEXT_FILTER){var err=x===promise?makeSelfResolutionError():x.e;promise._rejectCallback(err,false,true)}else{promise._resolveCallback(x)}};Promise.prototype._target=function(){var ret=this;while(ret._isFollowing())ret=ret._followee();return ret};Promise.prototype._followee=function(){return this._rejectionHandler0};Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise};Promise.prototype._cleanValues=function(){if(this._cancellable()){this._cancellationParent=undefined}};Promise.prototype._propagateFrom=function(parent,flags){if((flags&1)>0&&parent._cancellable()){this._setCancellable();this._cancellationParent=parent}if((flags&4)>0&&parent._isBound()){this._setBoundTo(parent._boundTo)}};Promise.prototype._fulfill=function(value){if(this._isFollowingOrFulfilledOrRejected())return;this._fulfillUnchecked(value)};Promise.prototype._reject=function(reason,carriedStackTrace){if(this._isFollowingOrFulfilledOrRejected())return;this._rejectUnchecked(reason,carriedStackTrace)};Promise.prototype._settlePromiseAt=function(index){var promise=this._promiseAt(index);var isPromise=promise instanceof Promise;if(isPromise&&promise._isMigrated()){promise._unsetIsMigrated();return async.invoke(this._settlePromiseAt,this,index)}var handler=this._isFulfilled()?this._fulfillmentHandlerAt(index):this._rejectionHandlerAt(index);var carriedStackTrace=this._isCarryingStackTrace()?this._getCarriedStackTrace():undefined;var value=this._settledValue;var receiver=this._receiverAt(index);this._clearCallbackDataAtIndex(index);if(typeof handler==="function"){if(!isPromise){handler.call(receiver,value,promise)}else{this._settlePromiseFromHandler(handler,receiver,value,promise)}}else if(receiver instanceof PromiseArray){if(!receiver._isResolved()){if(this._isFulfilled()){receiver._promiseFulfilled(value,promise)}else{receiver._promiseRejected(value,promise)}}}else if(isPromise){if(this._isFulfilled()){promise._fulfill(value)}else{promise._reject(value,carriedStackTrace)}}if(index>=4&&(index&31)===4)async.invokeLater(this._setLength,this,0)};Promise.prototype._clearCallbackDataAtIndex=function(index){if(index===0){if(!this._isCarryingStackTrace()){this._fulfillmentHandler0=undefined}this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=undefined}else{var base=index*5-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=undefined}};Promise.prototype._isSettlePromisesQueued=function(){return(this._bitField&-1073741824)===-1073741824};Promise.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824};Promise.prototype._unsetSettlePromisesQueued=function(){this._bitField=this._bitField&~-1073741824};Promise.prototype._queueSettlePromises=function(){async.settlePromises(this);this._setSettlePromisesQueued()};Promise.prototype._fulfillUnchecked=function(value){if(value===this){var err=makeSelfResolutionError();this._attachExtraTrace(err);return this._rejectUnchecked(err,undefined)}this._setFulfilled();this._settledValue=value;this._cleanValues();if(this._length()>0){this._queueSettlePromises()}};Promise.prototype._rejectUncheckedCheckError=function(reason){var trace=util.ensureErrorObject(reason);this._rejectUnchecked(reason,trace===reason?undefined:trace)};Promise.prototype._rejectUnchecked=function(reason,trace){if(reason===this){var err=makeSelfResolutionError();this._attachExtraTrace(err);return this._rejectUnchecked(err)}this._setRejected();this._settledValue=reason;this._cleanValues();if(this._isFinal()){async.throwLater(function(e){if("stack"in e){async.invokeFirst(CapturedTrace.unhandledRejection,undefined,e)}throw e},trace===undefined?reason:trace);return}if(trace!==undefined&&trace!==reason){this._setCarriedStackTrace(trace)}if(this._length()>0){this._queueSettlePromises()}else{this._ensurePossibleRejectionHandled()}};Promise.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();var len=this._length();for(var i=0;i<len;i++){this._settlePromiseAt(i)}};util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError);_dereq_("./progress.js")(Promise,PromiseArray);_dereq_("./method.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);_dereq_("./bind.js")(Promise,INTERNAL,tryConvertToPromise);_dereq_("./finally.js")(Promise,NEXT_FILTER,tryConvertToPromise);_dereq_("./direct_resolve.js")(Promise);_dereq_("./synchronous_inspection.js")(Promise);_dereq_("./join.js")(Promise,PromiseArray,tryConvertToPromise,INTERNAL);Promise.version="2.11.0";Promise.Promise=Promise;_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);_dereq_("./cancel.js")(Promise);_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext);_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise);_dereq_("./nodeify.js")(Promise);_dereq_("./call_get.js")(Promise);_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection);_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);_dereq_("./settle.js")(Promise,PromiseArray);_dereq_("./some.js")(Promise,PromiseArray,apiRejection);_dereq_("./promisify.js")(Promise,INTERNAL);_dereq_("./any.js")(Promise);_dereq_("./each.js")(Promise,INTERNAL);_dereq_("./timers.js")(Promise,INTERNAL);_dereq_("./filter.js")(Promise,INTERNAL);util.toFastProperties(Promise);util.toFastProperties(Promise.prototype);function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value;p._rejectionHandler0=value;p._progressHandler0=value;p._promise0=value;p._receiver0=value;p._settledValue=value}fillTypes({a:1});fillTypes({b:2});fillTypes({c:3});fillTypes(1);fillTypes(function(){});fillTypes(undefined);fillTypes(false);fillTypes(new Promise(INTERNAL));CapturedTrace.setBounds(async.firstLineError,util.lastLineError);return Promise}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var isArray=util.isArray;function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);var parent;if(values instanceof Promise){parent=values;promise._propagateFrom(parent,1|4)}this._values=values;this._length=0;this._totalResolved=0;this._init(undefined,-2)}PromiseArray.prototype.length=function(){return this._length};PromiseArray.prototype.promise=function(){return this._promise};PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();this._values=values;if(values._isFulfilled()){values=values._value();if(!isArray(values)){var err=new Promise.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");this.__hardReject__(err);return}}else if(values._isPending()){values._then(init,this._reject,undefined,this,resolveValueIfEmpty);return}else{this._reject(values._reason());return}}else if(!isArray(values)){this._promise._reject(apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());return}if(values.length===0){if(resolveValueIfEmpty===-5){this._resolveEmptyArray()}else{this._resolve(toResolutionValue(resolveValueIfEmpty))}return}var len=this.getActualLength(values.length);this._length=len;this._values=this.shouldCopyValues()?new Array(len):this._values;var promise=this._promise;for(var i=0;i<len;++i){var isResolved=this._isResolved();var maybePromise=tryConvertToPromise(values[i],promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(isResolved){maybePromise._ignoreRejections()}else if(maybePromise._isPending()){maybePromise._proxyPromiseArray(this,i)}else if(maybePromise._isFulfilled()){this._promiseFulfilled(maybePromise._value(),i)}else{this._promiseRejected(maybePromise._reason(),i)}}else if(!isResolved){this._promiseFulfilled(maybePromise,i)}}};PromiseArray.prototype._isResolved=function(){return this._values===null};PromiseArray.prototype._resolve=function(value){this._values=null;this._promise._fulfill(value)};PromiseArray.prototype.__hardReject__=PromiseArray.prototype._reject=function(reason){this._values=null;this._promise._rejectCallback(reason,false,true)};PromiseArray.prototype._promiseProgressed=function(progressValue,index){this._promise._progress({index:index,value:progressValue})};PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values)}};PromiseArray.prototype._promiseRejected=function(reason,index){this._totalResolved++;this._reject(reason)};PromiseArray.prototype.shouldCopyValues=function(){return true};PromiseArray.prototype.getActualLength=function(len){return len};return PromiseArray}},{"./util.js":38}],25:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util.js");var maybeWrapAsError=util.maybeWrapAsError;var errors=_dereq_("./errors.js");var TimeoutError=errors.TimeoutError;var OperationalError=errors.OperationalError;var haveGetters=util.haveGetters;var es5=_dereq_("./es5.js");function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}var rErrorKey=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj);ret.name=obj.name;ret.message=obj.message;ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];if(!rErrorKey.test(key)){ret[key]=obj[key]}}return ret}util.markAsOriginatingFromRejection(obj);return obj}function nodebackForPromise(promise){return function(err,value){if(promise===null)return;if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped);promise._reject(wrapped)}else if(arguments.length>2){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i]}promise._fulfill(args)}else{promise._fulfill(value)}promise=null}}var PromiseResolver;if(!haveGetters){PromiseResolver=function(promise){this.promise=promise;this.asCallback=nodebackForPromise(promise);this.callback=this.asCallback}}else{PromiseResolver=function(promise){this.promise=promise}}if(haveGetters){var prop={get:function(){return nodebackForPromise(this.promise)}};es5.defineProperty(PromiseResolver.prototype,"asCallback",prop);es5.defineProperty(PromiseResolver.prototype,"callback",prop)}PromiseResolver._nodebackForPromise=nodebackForPromise;PromiseResolver.prototype.toString=function(){return"[object PromiseResolver]"};PromiseResolver.prototype.resolve=PromiseResolver.prototype.fulfill=function(value){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n")}this.promise._resolveCallback(value)};PromiseResolver.prototype.reject=function(reason){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n")}this.promise._rejectCallback(reason)};PromiseResolver.prototype.progress=function(value){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n")}this.promise._progress(value)};PromiseResolver.prototype.cancel=function(err){this.promise.cancel(err)};PromiseResolver.prototype.timeout=function(){this.reject(new TimeoutError("timeout"))};PromiseResolver.prototype.isResolved=function(){return this.promise.isResolved()};PromiseResolver.prototype.toJSON=function(){return this.promise.toJSON()};module.exports=PromiseResolver},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var THIS={};var util=_dereq_("./util.js");var nodebackForPromise=_dereq_("./promise_resolver.js")._nodebackForPromise;var withAppended=util.withAppended;var maybeWrapAsError=util.maybeWrapAsError;var canEvaluate=util.canEvaluate;var TypeError=_dereq_("./errors").TypeError;var defaultSuffix="Async";var defaultPromisified={__isPromisified__:true};var noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$");var defaultFilter=function(name){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&name!=="constructor"};function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===true}catch(e){return false}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return val?isPromisified(val):false}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key)){var keyWithoutAsyncSuffix=key.replace(suffixRegexp,"");for(var j=0;j<ret.length;j+=2){if(ret[j]===keyWithoutAsyncSuffix){throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",suffix))}}}}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){var keys=util.inheritedDataKeys(obj);var ret=[];for(var i=0;i<keys.length;++i){var key=keys[i];var value=obj[key];var passesDefaultFilter=filter===defaultFilter?true:defaultFilter(key,value,obj);if(typeof value==="function"&&!isPromisified(value)&&!hasPromisified(obj,key,suffix)&&filter(key,value,obj,passesDefaultFilter)){ret.push(key,value)}}checkValid(ret,suffix,suffixRegexp);return ret}var escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")};var makeNodePromisifiedEval;if(!true){var switchCaseArgumentOrder=function(likelyArgumentCount){var ret=[likelyArgumentCount];var min=Math.max(0,likelyArgumentCount-1-3);for(var i=likelyArgumentCount-1;i>=min;--i){ret.push(i)}for(var i=likelyArgumentCount+1;i<=3;++i){ret.push(i)}return ret};var argumentSequence=function(argumentCount){return util.filledRange(argumentCount,"_arg","")};var parameterDeclaration=function(parameterCount){return util.filledRange(Math.max(parameterCount,3),"_arg","")};var parameterCount=function(fn){if(typeof fn.length==="number"){return Math.max(Math.min(fn.length,1023+1),0)}return 0};makeNodePromisifiedEval=function(callback,receiver,originalName,fn){var newParameterCount=Math.max(0,parameterCount(fn)-1);var argumentOrder=switchCaseArgumentOrder(newParameterCount);var shouldProxyThis=typeof callback==="string"||receiver===THIS;function generateCallForArgumentCount(count){var args=argumentSequence(count).join(", ");var comma=count>0?", ":"";var ret;if(shouldProxyThis){ret="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{ret=receiver===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return ret.replace("{{args}}",args).replace(", ",comma)}function generateArgumentSwitchCase(){var ret="";for(var i=0;i<argumentOrder.length;++i){ret+="case "+argumentOrder[i]+":"+generateCallForArgumentCount(argumentOrder[i])}ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",shouldProxyThis?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return ret}var getFunctionCode=typeof callback==="string"?"this != null ? this['"+callback+"'] : fn":"fn";return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL","'use strict';                            \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise);                      \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n        ".replace("Parameters",parameterDeclaration(newParameterCount)).replace("[CodeForSwitchCase]",generateArgumentSwitchCase()).replace("[GetFunctionCode]",getFunctionCode))(Promise,fn,receiver,withAppended,maybeWrapAsError,nodebackForPromise,util.tryCatch,util.errorObj,util.notEnumerableProp,INTERNAL)}}function makeNodePromisifiedClosure(callback,receiver,_,fn){var defaultThis=function(){return this}();var method=callback;if(typeof method==="string"){callback=fn}function promisified(){var _receiver=receiver;if(receiver===THIS)_receiver=this;var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb=typeof method==="string"&&this!==defaultThis?this[method]:callback;var fn=nodebackForPromise(promise);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),true,true)}return promise}util.notEnumerableProp(promisified,"__isPromisified__",true);return promisified}var makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;function promisifyAll(obj,suffix,filter,promisifier){var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$");var methods=promisifiableMethods(obj,suffix,suffixRegexp,filter);for(var i=0,len=methods.length;i<len;i+=2){var key=methods[i];var fn=methods[i+1];var promisifiedKey=key+suffix;if(promisifier===makeNodePromisified){obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix)}else{var promisified=promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix)});util.notEnumerableProp(promisified,"__isPromisified__",true);obj[promisifiedKey]=promisified}}util.toFastProperties(obj);return obj}function promisify(callback,receiver){return makeNodePromisified(callback,receiver,undefined,callback)}Promise.promisify=function(fn,receiver){if(typeof fn!=="function"){throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n")}if(isPromisified(fn)){return fn}var ret=promisify(fn,arguments.length<2?THIS:receiver);util.copyDescriptors(fn,ret,propsFilter);return ret};Promise.promisifyAll=function(target,options){if(typeof target!=="function"&&typeof target!=="object"){throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n")}options=Object(options);var suffix=options.suffix;if(typeof suffix!=="string")suffix=defaultSuffix;var filter=options.filter;if(typeof filter!=="function")filter=defaultFilter;var promisifier=options.promisifier;if(typeof promisifier!=="function")promisifier=makeNodePromisified;if(!util.isIdentifier(suffix)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n")}var keys=util.inheritedDataKeys(target);for(var i=0;i<keys.length;++i){var value=target[keys[i]];if(keys[i]!=="constructor"&&util.isClass(value)){promisifyAll(value.prototype,suffix,filter,promisifier);promisifyAll(value,suffix,filter,promisifier)}}return promisifyAll(target,suffix,filter,promisifier)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var isObject=util.isObject;var es5=_dereq_("./es5.js");function PropertiesPromiseArray(obj){var keys=es5.keys(obj);var len=keys.length;var values=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];values[i]=obj[key];values[i+len]=key}this.constructor$(values)}util.inherits(PropertiesPromiseArray,PromiseArray);PropertiesPromiseArray.prototype._init=function(){this._init$(undefined,-3)};PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val={};var keyOffset=this.length();for(var i=0,len=this.length();i<len;++i){val[this._values[i+keyOffset]]=this._values[i]}this._resolve(val)}};PropertiesPromiseArray.prototype._promiseProgressed=function(value,index){this._promise._progress({key:this._values[index+this.length()],value:value})};PropertiesPromiseArray.prototype.shouldCopyValues=function(){return false};PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1};function props(promises){var ret;var castValue=tryConvertToPromise(promises);if(!isObject(castValue)){return apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}else if(castValue instanceof Promise){ret=castValue._then(Promise.props,undefined,undefined,undefined,undefined)}else{ret=new PropertiesPromiseArray(castValue).promise()}if(castValue instanceof Promise){ret._propagateFrom(castValue,4)}return ret}Promise.prototype.props=function(){return props(this)};Promise.props=function(promises){return props(promises)}}},{"./es5.js":14,"./util.js":38}],28:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j){dst[j+dstIndex]=src[j+srcIndex];src[j+srcIndex]=void 0}}function Queue(capacity){this._capacity=capacity;this._length=0;this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size};Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg;this._length=length+1};Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front;var i=(front-1&capacity-1^capacity)-capacity;this[i]=value;this._front=i;this._length=this.length()+1};Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg);this._unshiftOne(receiver);this._unshiftOne(fn)};Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length)){this._pushOne(fn);this._pushOne(receiver);this._pushOne(arg);return}var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn;this[j+1&wrapMask]=receiver;this[j+2&wrapMask]=arg;this._length=length};Queue.prototype.shift=function(){var front=this._front,ret=this[front];this[front]=undefined;this._front=front+1&this._capacity-1;this._length--;return ret};Queue.prototype.length=function(){return this._length};Queue.prototype._checkCapacity=function(size){if(this._capacity<size){this._resizeTo(this._capacity<<1)}};Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front;var length=this._length;var moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)};module.exports=Queue},{}],29:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var isArray=_dereq_("./util.js").isArray;var raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise){return raceLater(maybePromise)}else if(!isArray(promises)){return apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")}var ret=new Promise(INTERNAL);if(parent!==undefined){ret._propagateFrom(parent,4|1)}var fulfill=ret._fulfill;var reject=ret._reject;for(var i=0,len=promises.length;i<len;++i){var val=promises[i];if(val===undefined&&!(i in promises)){continue}Promise.cast(val)._then(fulfill,reject,undefined,ret,null)}return ret}Promise.race=function(promises){return race(promises,undefined)};Promise.prototype.race=function(){return race(this,undefined)}}},{"./util.js":38}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){var getDomain=Promise._getDomain;var async=_dereq_("./async.js");var util=_dereq_("./util.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;function ReductionPromiseArray(promises,fn,accum,_each){this.constructor$(promises);this._promise._captureStackTrace();this._preservedValues=_each===INTERNAL?[]:null;this._zerothIsAccum=accum===undefined;this._gotAccum=false;this._reducingIndex=this._zerothIsAccum?1:0;this._valuesPhase=undefined;var maybePromise=tryConvertToPromise(accum,this._promise);var rejected=false;var isPromise=maybePromise instanceof Promise;if(isPromise){maybePromise=maybePromise._target();if(maybePromise._isPending()){maybePromise._proxyPromiseArray(this,-1)}else if(maybePromise._isFulfilled()){accum=maybePromise._value();this._gotAccum=true}else{this._reject(maybePromise._reason());rejected=true}}if(!(isPromise||this._zerothIsAccum))this._gotAccum=true;var domain=getDomain();this._callback=domain===null?fn:domain.bind(fn);this._accum=accum;if(!rejected)async.invoke(init,this,undefined)}function init(){this._init$(undefined,-5)}util.inherits(ReductionPromiseArray,PromiseArray);ReductionPromiseArray.prototype._init=function(){};ReductionPromiseArray.prototype._resolveEmptyArray=function(){if(this._gotAccum||this._zerothIsAccum){this._resolve(this._preservedValues!==null?[]:this._accum)}};ReductionPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;values[index]=value;var length=this.length();var preservedValues=this._preservedValues;var isEach=preservedValues!==null;var gotAccum=this._gotAccum;var valuesPhase=this._valuesPhase;var valuesPhaseIndex;if(!valuesPhase){
valuesPhase=this._valuesPhase=new Array(length);for(valuesPhaseIndex=0;valuesPhaseIndex<length;++valuesPhaseIndex){valuesPhase[valuesPhaseIndex]=0}}valuesPhaseIndex=valuesPhase[index];if(index===0&&this._zerothIsAccum){this._accum=value;this._gotAccum=gotAccum=true;valuesPhase[index]=valuesPhaseIndex===0?1:2}else if(index===-1){this._accum=value;this._gotAccum=gotAccum=true}else{if(valuesPhaseIndex===0){valuesPhase[index]=1}else{valuesPhase[index]=2;this._accum=value}}if(!gotAccum)return;var callback=this._callback;var receiver=this._promise._boundValue();var ret;for(var i=this._reducingIndex;i<length;++i){valuesPhaseIndex=valuesPhase[i];if(valuesPhaseIndex===2){this._reducingIndex=i+1;continue}if(valuesPhaseIndex!==1)return;value=values[i];this._promise._pushContext();if(isEach){preservedValues.push(value);ret=tryCatch(callback).call(receiver,value,i,length)}else{ret=tryCatch(callback).call(receiver,this._accum,value,i,length)}this._promise._popContext();if(ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){valuesPhase[i]=4;return maybePromise._proxyPromiseArray(this,i)}else if(maybePromise._isFulfilled()){ret=maybePromise._value()}else{return this._reject(maybePromise._reason())}}this._reducingIndex=i+1;this._accum=ret}this._resolve(isEach?preservedValues:this._accum)};function reduce(promises,fn,initialValue,_each){if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)};Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./async.js":2,"./util.js":38}],31:[function(_dereq_,module,exports){"use strict";var schedule;var util=_dereq_("./util");var noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(util.isNode&&typeof MutationObserver==="undefined"){var GlobalSetImmediate=global.setImmediate;var ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&window.navigator.standalone)){schedule=function(fn){var div=document.createElement("div");var observer=new MutationObserver(fn);observer.observe(div,{attributes:true});return function(){div.classList.toggle("foo")}};schedule.isStatic=true}else if(typeof setImmediate!=="undefined"){schedule=function(fn){setImmediate(fn)}}else if(typeof setTimeout!=="undefined"){schedule=function(fn){setTimeout(fn,0)}}else{schedule=noAsyncScheduler}module.exports=schedule},{"./util":38}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){var PromiseInspection=Promise.PromiseInspection;var util=_dereq_("./util.js");function SettledPromiseArray(values){this.constructor$(values)}util.inherits(SettledPromiseArray,PromiseArray);SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values)}};SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;ret._bitField=268435456;ret._settledValue=value;this._promiseResolved(index,ret)};SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;ret._bitField=134217728;ret._settledValue=reason;this._promiseResolved(index,ret)};Promise.settle=function(promises){return new SettledPromiseArray(promises).promise()};Promise.prototype.settle=function(){return new SettledPromiseArray(this).promise()}}},{"./util.js":38}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){var util=_dereq_("./util.js");var RangeError=_dereq_("./errors.js").RangeError;var AggregateError=_dereq_("./errors.js").AggregateError;var isArray=util.isArray;function SomePromiseArray(values){this.constructor$(values);this._howMany=0;this._unwrap=false;this._initialized=false}util.inherits(SomePromiseArray,PromiseArray);SomePromiseArray.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var isArrayResolved=isArray(this._values);if(!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};SomePromiseArray.prototype.init=function(){this._initialized=true;this._init()};SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=true};SomePromiseArray.prototype.howMany=function(){return this._howMany};SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count};SomePromiseArray.prototype._promiseFulfilled=function(value){this._addFulfilled(value);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}}};SomePromiseArray.prototype._promiseRejected=function(reason){this._addRejected(reason);if(this.howMany()>this._canPossiblyFulfill()){var e=new AggregateError;for(var i=this.length();i<this._values.length;++i){e.push(this._values[i])}this._reject(e)}};SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved};SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()};SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)};SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value};SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)};SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function some(promises,howMany){if((howMany|0)!==howMany||howMany<0){return apiRejection("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n")}var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(howMany);ret.init();return promise}Promise.some=function(promises,howMany){return some(promises,howMany)};Promise.prototype.some=function(howMany){return some(this,howMany)};Promise._SomePromiseArray=SomePromiseArray}},{"./errors.js":13,"./util.js":38}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){if(promise!==undefined){promise=promise._target();this._bitField=promise._bitField;this._settledValue=promise._settledValue}else{this._bitField=0;this._settledValue=undefined}}PromiseInspection.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n")}return this._settledValue};PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n")}return this._settledValue};PromiseInspection.prototype.isFulfilled=Promise.prototype._isFulfilled=function(){return(this._bitField&268435456)>0};PromiseInspection.prototype.isRejected=Promise.prototype._isRejected=function(){return(this._bitField&134217728)>0};PromiseInspection.prototype.isPending=Promise.prototype._isPending=function(){return(this._bitField&402653184)===0};PromiseInspection.prototype.isResolved=Promise.prototype._isResolved=function(){return(this._bitField&402653184)>0};Promise.prototype.isPending=function(){return this._target()._isPending()};Promise.prototype.isRejected=function(){return this._target()._isRejected()};Promise.prototype.isFulfilled=function(){return this._target()._isFulfilled()};Promise.prototype.isResolved=function(){return this._target()._isResolved()};Promise.prototype._value=function(){return this._settledValue};Promise.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue};Promise.prototype.value=function(){var target=this._target();if(!target.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n")}return target._settledValue};Promise.prototype.reason=function(){var target=this._target();if(!target.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n")}target._unsetRejectionIsUnhandled();return target._settledValue};Promise.PromiseInspection=PromiseInspection}},{}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util.js");var errorObj=util.errorObj;var isObject=util.isObject;function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise){return obj}else if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null);return ret}var then=util.tryCatch(getThen)(obj);if(then===errorObj){if(context)context._pushContext();var ret=Promise.reject(then.e);if(context)context._popContext();return ret}else if(typeof then==="function"){return doThenable(obj,then,context)}}return obj}function getThen(obj){return obj.then}var hasProp={}.hasOwnProperty;function isAnyBluebirdPromise(obj){return hasProp.call(obj,"_promise0")}function doThenable(x,then,context){var promise=new Promise(INTERNAL);var ret=promise;if(context)context._pushContext();promise._captureStackTrace();if(context)context._popContext();var synchronous=true;var result=util.tryCatch(then).call(x,resolveFromThenable,rejectFromThenable,progressFromThenable);synchronous=false;if(promise&&result===errorObj){promise._rejectCallback(result.e,true,true);promise=null}function resolveFromThenable(value){if(!promise)return;promise._resolveCallback(value);promise=null}function rejectFromThenable(reason){if(!promise)return;promise._rejectCallback(reason,synchronous,true);promise=null}function progressFromThenable(value){if(!promise)return;if(typeof promise._progress==="function"){promise._progress(value)}}return ret}return tryConvertToPromise}},{"./util.js":38}],36:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util.js");var TimeoutError=Promise.TimeoutError;var afterTimeout=function(promise,message){if(!promise.isPending())return;var err;if(!util.isPrimitive(message)&&message instanceof Error){err=message}else{if(typeof message!=="string"){message="operation timed out"}err=new TimeoutError(message)}util.markAsOriginatingFromRejection(err);promise._attachExtraTrace(err);promise._cancel(err)};var afterValue=function(value){return delay(+this).thenReturn(value)};var delay=Promise.delay=function(value,ms){if(ms===undefined){ms=value;value=undefined;var ret=new Promise(INTERNAL);setTimeout(function(){ret._fulfill()},ms);return ret}ms=+ms;return Promise.resolve(value)._then(afterValue,null,null,ms,undefined)};Promise.prototype.delay=function(ms){return delay(this,ms)};function successClear(value){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);return value}function failureClear(reason){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);throw reason}Promise.prototype.timeout=function(ms,message){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var handle=setTimeout(function timeoutTimeout(){afterTimeout(ret,message)},ms);return ret._then(successClear,failureClear,undefined,handle,undefined)}}},{"./util.js":38}],37:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext){var TypeError=_dereq_("./errors.js").TypeError;var inherits=_dereq_("./util.js").inherits;var PromiseInspection=Promise.PromiseInspection;function inspectionMapper(inspections){var len=inspections.length;for(var i=0;i<len;++i){var inspection=inspections[i];if(inspection.isRejected()){return Promise.reject(inspection.error())}inspections[i]=inspection._settledValue}return inspections}function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);if(maybePromise!==thenable&&typeof thenable._isDisposable==="function"&&typeof thenable._getDisposer==="function"&&thenable._isDisposable()){maybePromise._setDisposable(thenable._getDisposer())}return maybePromise}function dispose(resources,inspection){var i=0;var len=resources.length;var ret=Promise.defer();function iterator(){if(i>=len)return ret.resolve();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise){return maybePromise._then(iterator,thrower,null,null,null)}}iterator()}iterator();return ret.promise}function disposerSuccess(value){var inspection=new PromiseInspection;inspection._settledValue=value;inspection._bitField=268435456;return dispose(this,inspection).thenReturn(value)}function disposerFail(reason){var inspection=new PromiseInspection;inspection._settledValue=reason;inspection._bitField=134217728;return dispose(this,inspection).thenThrow(reason)}function Disposer(data,promise,context){this._data=data;this._promise=promise;this._context=context}Disposer.prototype.data=function(){return this._data};Disposer.prototype.promise=function(){return this._promise};Disposer.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return null};Disposer.prototype.tryDispose=function(inspection){var resource=this.resource();var context=this._context;if(context!==undefined)context._pushContext();var ret=resource!==null?this.doDispose(resource,inspection):null;if(context!==undefined)context._popContext();this._promise._unsetDisposable();this._data=null;return ret};Disposer.isDisposer=function(d){return d!=null&&typeof d.resource==="function"&&typeof d.tryDispose==="function"};function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}inherits(FunctionDisposer,Disposer);FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)};function maybeUnwrapDisposer(value){if(Disposer.isDisposer(value)){this.resources[this.index]._setDisposable(value);return value.promise()}return value}Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var input;var spreadArgs=true;if(len===2&&Array.isArray(arguments[0])){input=arguments[0];len=input.length;spreadArgs=false}else{input=arguments;len--}var resources=new Array(len);for(var i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise();resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);if(maybePromise instanceof Promise){resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},undefined)}}resources[i]=resource}var promise=Promise.settle(resources).then(inspectionMapper).then(function(vals){promise._pushContext();var ret;try{ret=spreadArgs?fn.apply(undefined,vals):fn.call(undefined,vals)}finally{promise._popContext()}return ret})._then(disposerSuccess,disposerFail,undefined,resources,undefined);resources.promise=promise;return promise};Promise.prototype._setDisposable=function(disposer){this._bitField=this._bitField|262144;this._disposer=disposer};Promise.prototype._isDisposable=function(){return(this._bitField&262144)>0};Promise.prototype._getDisposer=function(){return this._disposer};Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&~262144;this._disposer=undefined};Promise.prototype.disposer=function(fn){if(typeof fn==="function"){return new FunctionDisposer(fn,this,createContext())}throw new TypeError}}},{"./errors.js":13,"./util.js":38}],38:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5.js");var canEvaluate=typeof navigator=="undefined";var haveGetters=function(){try{var o={};es5.defineProperty(o,"f",{get:function(){return 3}});return o.f===3}catch(e){return false}}();var errorObj={e:{}};var tryCatchTarget;function tryCatcher(){try{var target=tryCatchTarget;tryCatchTarget=null;return target.apply(this,arguments)}catch(e){errorObj.e=e;return errorObj}}function tryCatch(fn){tryCatchTarget=fn;return tryCatcher}var inherits=function(Child,Parent){var hasProp={}.hasOwnProperty;function T(){this.constructor=Child;this.constructor$=Parent;for(var propertyName in Parent.prototype){if(hasProp.call(Parent.prototype,propertyName)&&propertyName.charAt(propertyName.length-1)!=="$"){this[propertyName+"$"]=Parent.prototype[propertyName]}}}T.prototype=Parent.prototype;Child.prototype=new T;return Child.prototype};function isPrimitive(val){return val==null||val===true||val===false||typeof val==="string"||typeof val==="number"}function isObject(value){return!isPrimitive(value)}function maybeWrapAsError(maybeError){if(!isPrimitive(maybeError))return maybeError;return new Error(safeToString(maybeError))}function withAppended(target,appendee){var len=target.length;var ret=new Array(len+1);var i;for(i=0;i<len;++i){ret[i]=target[i]}ret[i]=appendee;return ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(es5.isES5){var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null){return desc.get==null&&desc.set==null?desc.value:defaultValue}}else{return{}.hasOwnProperty.call(obj,key)?obj[key]:undefined}}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:true,enumerable:false,writable:true};es5.defineProperty(obj,name,descriptor);return obj}function thrower(r){throw r}var inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype];var isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i){if(excludedPrototypes[i]===val){return true}}return false};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){var ret=[];var visitedKeys=Object.create(null);while(obj!=null&&!isExcludedProto(obj)){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(visitedKeys[key])continue;visitedKeys[key]=true;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null&&desc.get==null&&desc.set==null){ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}else{var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj){if(hasProp.call(obj,key)){ret.push(key)}else{for(var i=0;i<excludedPrototypes.length;++i){if(hasProp.call(excludedPrototypes[i],key)){continue enumeration}}ret.push(key)}}return ret}}}();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(fn){try{if(typeof fn==="function"){var keys=es5.names(fn.prototype);var hasMethods=es5.isES5&&keys.length>1;var hasMethodsOtherThanConstructor=keys.length>0&&!(keys.length===1&&keys[0]==="constructor");var hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods){return true}}return false}catch(e){return false}}function toFastProperties(obj){function f(){}f.prototype=obj;var l=8;while(l--)new f;return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){var ret=new Array(count);for(var i=0;i<count;++i){ret[i]=prefix+i+suffix}return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true)}catch(ignore){}}function originatesFromRejection(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function canAttachTrace(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack")}var ensureErrorObject=function(){if(!("stack"in new Error)){return function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}else{return function(value){if(canAttachTrace(value))return value;return new Error(safeToString(value))}}}();function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(filter(key)){try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,haveGetters:haveGetters,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]"};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return version[0]===0&&version[1]>10||version[0]>0}();if(ret.isNode)ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5.js":14}]},{},[4])(4)});if(typeof window!=="undefined"&&window!==null){window.P=window.Promise}else if(typeof self!=="undefined"&&self!==null){self.P=self.Promise}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:160}],4:[function(require,module,exports){(function(global){(function(){"use strict";var Syntax,Precedence,BinaryPrecedence,SourceNode,estraverse,esutils,isArray,base,indent,json,renumber,hexadecimal,quotes,escapeless,newline,space,parentheses,semicolons,safeConcatenation,directive,extra,parse,sourceMap,sourceCode,preserveBlankLines,FORMAT_MINIFY,FORMAT_DEFAULTS;estraverse=require("estraverse");esutils=require("esutils");Syntax=estraverse.Syntax;function isExpression(node){return CodeGenerator.Expression.hasOwnProperty(node.type)}function isStatement(node){return CodeGenerator.Statement.hasOwnProperty(node.type)}Precedence={Sequence:0,Yield:1,Await:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19};BinaryPrecedence={"||":Precedence.LogicalOR,"&&":Precedence.LogicalAND,"|":Precedence.BitwiseOR,"^":Precedence.BitwiseXOR,"&":Precedence.BitwiseAND,"==":Precedence.Equality,"!=":Precedence.Equality,"===":Precedence.Equality,"!==":Precedence.Equality,is:Precedence.Equality,isnt:Precedence.Equality,"<":Precedence.Relational,">":Precedence.Relational,"<=":Precedence.Relational,">=":Precedence.Relational,in:Precedence.Relational,instanceof:Precedence.Relational,"<<":Precedence.BitwiseSHIFT,">>":Precedence.BitwiseSHIFT,">>>":Precedence.BitwiseSHIFT,"+":Precedence.Additive,"-":Precedence.Additive,"*":Precedence.Multiplicative,"%":Precedence.Multiplicative,"/":Precedence.Multiplicative};var F_ALLOW_IN=1,F_ALLOW_CALL=1<<1,F_ALLOW_UNPARATH_NEW=1<<2,F_FUNC_BODY=1<<3,F_DIRECTIVE_CTX=1<<4,F_SEMICOLON_OPT=1<<5;var E_FTT=F_ALLOW_CALL|F_ALLOW_UNPARATH_NEW,E_TTF=F_ALLOW_IN|F_ALLOW_CALL,E_TTT=F_ALLOW_IN|F_ALLOW_CALL|F_ALLOW_UNPARATH_NEW,E_TFF=F_ALLOW_IN,E_FFT=F_ALLOW_UNPARATH_NEW,E_TFT=F_ALLOW_IN|F_ALLOW_UNPARATH_NEW;var S_TFFF=F_ALLOW_IN,S_TFFT=F_ALLOW_IN|F_SEMICOLON_OPT,S_FFFF=0,S_TFTF=F_ALLOW_IN|F_DIRECTIVE_CTX,S_TTFF=F_ALLOW_IN|F_FUNC_BODY;function getDefaultOptions(){return{indent:null,base:null,parse:null,comment:false,format:{indent:{style:"    ",base:0,adjustMultilineComment:false},newline:"\n",space:" ",json:false,renumber:false,hexadecimal:false,quotes:"single",escapeless:false,compact:false,parentheses:true,semicolons:true,safeConcatenation:false,preserveBlankLines:false},moz:{comprehensionExpressionStartsWithAssignment:false,starlessGenerator:false},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:false,directive:false,raw:true,verbatim:null,sourceCode:null}}function stringRepeat(str,num){var result="";for(num|=0;num>0;num>>>=1,str+=str){if(num&1){result+=str}}return result}isArray=Array.isArray;if(!isArray){isArray=function isArray(array){return Object.prototype.toString.call(array)==="[object Array]"}}function hasLineTerminator(str){return/[\r\n]/g.test(str)}function endsWithLineTerminator(str){var len=str.length;return len&&esutils.code.isLineTerminator(str.charCodeAt(len-1))}function merge(target,override){var key;for(key in override){if(override.hasOwnProperty(key)){target[key]=override[key]}}return target}function updateDeeply(target,override){var key,val;function isHashObject(target){return typeof target==="object"&&target instanceof Object&&!(target instanceof RegExp)}for(key in override){if(override.hasOwnProperty(key)){val=override[key];if(isHashObject(val)){if(isHashObject(target[key])){updateDeeply(target[key],val)}else{target[key]=updateDeeply({},val)}}else{target[key]=val}}}return target}function generateNumber(value){var result,point,temp,exponent,pos;if(value!==value){throw new Error("Numeric literal whose value is NaN")}if(value<0||value===0&&1/value<0){throw new Error("Numeric literal whose value is negative")}if(value===1/0){return json?"null":renumber?"1e400":"1e+400"}result=""+value;if(!renumber||result.length<3){return result}point=result.indexOf(".");if(!json&&result.charCodeAt(0)===48&&point===1){point=0;result=result.slice(1)}temp=result;result=result.replace("e+","e");exponent=0;if((pos=temp.indexOf("e"))>0){exponent=+temp.slice(pos+1);temp=temp.slice(0,pos)}if(point>=0){exponent-=temp.length-point-1;temp=+(temp.slice(0,point)+temp.slice(point+1))+""}pos=0;while(temp.charCodeAt(temp.length+pos-1)===48){--pos}if(pos!==0){exponent-=pos;temp=temp.slice(0,pos)}if(exponent!==0){temp+="e"+exponent}if((temp.length<result.length||hexadecimal&&value>1e12&&Math.floor(value)===value&&(temp="0x"+value.toString(16)).length<result.length)&&+temp===value){result=temp}return result}function escapeRegExpCharacter(ch,previousIsBackslash){if((ch&~1)===8232){return(previousIsBackslash?"u":"\\u")+(ch===8232?"2028":"2029")}else if(ch===10||ch===13){return(previousIsBackslash?"":"\\")+(ch===10?"n":"r")}return String.fromCharCode(ch)}function generateRegExp(reg){var match,result,flags,i,iz,ch,characterInBrack,previousIsBackslash;result=reg.toString();if(reg.source){match=result.match(/\/([^\/]*)$/);if(!match){return result}flags=match[1];result="";characterInBrack=false;previousIsBackslash=false;for(i=0,iz=reg.source.length;i<iz;++i){ch=reg.source.charCodeAt(i);if(!previousIsBackslash){if(characterInBrack){if(ch===93){characterInBrack=false}}else{if(ch===47){result+="\\"}else if(ch===91){characterInBrack=true}}result+=escapeRegExpCharacter(ch,previousIsBackslash);previousIsBackslash=ch===92}else{result+=escapeRegExpCharacter(ch,previousIsBackslash);previousIsBackslash=false}}return"/"+result+"/"+flags}return result}function escapeAllowedCharacter(code,next){var hex;if(code===8){return"\\b"}if(code===12){return"\\f"}if(code===9){return"\\t"}hex=code.toString(16).toUpperCase();if(json||code>255){return"\\u"+"0000".slice(hex.length)+hex}else if(code===0&&!esutils.code.isDecimalDigit(next)){return"\\0"}else if(code===11){return"\\x0B"}else{return"\\x"+"00".slice(hex.length)+hex}}function escapeDisallowedCharacter(code){if(code===92){return"\\\\"}if(code===10){return"\\n"}if(code===13){return"\\r"}if(code===8232){return"\\u2028"}if(code===8233){return"\\u2029"}throw new Error("Incorrectly classified character")}function escapeDirective(str){var i,iz,code,quote;quote=quotes==="double"?'"':"'";for(i=0,iz=str.length;i<iz;++i){code=str.charCodeAt(i);if(code===39){quote='"';break}else if(code===34){quote="'";break}else if(code===92){++i}}return quote+str+quote}function escapeString(str){var result="",i,len,code,singleQuotes=0,doubleQuotes=0,single,quote;for(i=0,len=str.length;i<len;++i){code=str.charCodeAt(i);if(code===39){++singleQuotes}else if(code===34){++doubleQuotes}else if(code===47&&json){result+="\\"}else if(esutils.code.isLineTerminator(code)||code===92){result+=escapeDisallowedCharacter(code);continue}else if(!esutils.code.isIdentifierPartES5(code)&&(json&&code<32||!json&&!escapeless&&(code<32||code>126))){result+=escapeAllowedCharacter(code,str.charCodeAt(i+1));continue}result+=String.fromCharCode(code)}single=!(quotes==="double"||quotes==="auto"&&doubleQuotes<singleQuotes);quote=single?"'":'"';if(!(single?singleQuotes:doubleQuotes)){return quote+result+quote}str=result;result=quote;for(i=0,len=str.length;i<len;++i){code=str.charCodeAt(i);if(code===39&&single||code===34&&!single){result+="\\"}result+=String.fromCharCode(code)}return result+quote}function flattenToString(arr){var i,iz,elem,result="";for(i=0,iz=arr.length;i<iz;++i){elem=arr[i];result+=isArray(elem)?flattenToString(elem):elem}return result}function toSourceNodeWhenNeeded(generated,node){if(!sourceMap){if(isArray(generated)){return flattenToString(generated)}else{return generated}}if(node==null){if(generated instanceof SourceNode){return generated}else{node={}}}if(node.loc==null){return new SourceNode(null,null,sourceMap,generated,node.name||null)}return new SourceNode(node.loc.start.line,node.loc.start.column,sourceMap===true?node.loc.source||null:sourceMap,generated,node.name||null)}function noEmptySpace(){return space?space:" "}function join(left,right){var leftSource,rightSource,leftCharCode,rightCharCode;leftSource=toSourceNodeWhenNeeded(left).toString();if(leftSource.length===0){return[right]}rightSource=toSourceNodeWhenNeeded(right).toString();if(rightSource.length===0){return[left]}leftCharCode=leftSource.charCodeAt(leftSource.length-1);rightCharCode=rightSource.charCodeAt(0);if((leftCharCode===43||leftCharCode===45)&&leftCharCode===rightCharCode||esutils.code.isIdentifierPartES5(leftCharCode)&&esutils.code.isIdentifierPartES5(rightCharCode)||leftCharCode===47&&rightCharCode===105){return[left,noEmptySpace(),right]}else if(esutils.code.isWhiteSpace(leftCharCode)||esutils.code.isLineTerminator(leftCharCode)||esutils.code.isWhiteSpace(rightCharCode)||esutils.code.isLineTerminator(rightCharCode)){return[left,right]}return[left,space,right]}function addIndent(stmt){return[base,stmt]}function withIndent(fn){var previousBase;previousBase=base;base+=indent;fn(base);base=previousBase}function calculateSpaces(str){var i;for(i=str.length-1;i>=0;--i){if(esutils.code.isLineTerminator(str.charCodeAt(i))){break}}return str.length-1-i}function adjustMultilineComment(value,specialBase){
var array,i,len,line,j,spaces,previousBase,sn;array=value.split(/\r\n|[\r\n]/);spaces=Number.MAX_VALUE;for(i=1,len=array.length;i<len;++i){line=array[i];j=0;while(j<line.length&&esutils.code.isWhiteSpace(line.charCodeAt(j))){++j}if(spaces>j){spaces=j}}if(typeof specialBase!=="undefined"){previousBase=base;if(array[1][spaces]==="*"){specialBase+=" "}base=specialBase}else{if(spaces&1){--spaces}previousBase=base}for(i=1,len=array.length;i<len;++i){sn=toSourceNodeWhenNeeded(addIndent(array[i].slice(spaces)));array[i]=sourceMap?sn.join(""):sn}base=previousBase;return array.join("\n")}function generateComment(comment,specialBase){if(comment.type==="Line"){if(endsWithLineTerminator(comment.value)){return"//"+comment.value}else{var result="//"+comment.value;if(!preserveBlankLines){result+="\n"}return result}}if(extra.format.indent.adjustMultilineComment&&/[\n\r]/.test(comment.value)){return adjustMultilineComment("/*"+comment.value+"*/",specialBase)}return"/*"+comment.value+"*/"}function addComments(stmt,result){var i,len,comment,save,tailingToStatement,specialBase,fragment,extRange,range,prevRange,prefix,infix,suffix,count;if(stmt.leadingComments&&stmt.leadingComments.length>0){save=result;if(preserveBlankLines){comment=stmt.leadingComments[0];result=[];extRange=comment.extendedRange;range=comment.range;prefix=sourceCode.substring(extRange[0],range[0]);count=(prefix.match(/\n/g)||[]).length;if(count>0){result.push(stringRepeat("\n",count));result.push(addIndent(generateComment(comment)))}else{result.push(prefix);result.push(generateComment(comment))}prevRange=range;for(i=1,len=stmt.leadingComments.length;i<len;i++){comment=stmt.leadingComments[i];range=comment.range;infix=sourceCode.substring(prevRange[1],range[0]);count=(infix.match(/\n/g)||[]).length;result.push(stringRepeat("\n",count));result.push(addIndent(generateComment(comment)));prevRange=range}suffix=sourceCode.substring(range[1],extRange[1]);count=(suffix.match(/\n/g)||[]).length;result.push(stringRepeat("\n",count))}else{comment=stmt.leadingComments[0];result=[];if(safeConcatenation&&stmt.type===Syntax.Program&&stmt.body.length===0){result.push("\n")}result.push(generateComment(comment));if(!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push("\n")}for(i=1,len=stmt.leadingComments.length;i<len;++i){comment=stmt.leadingComments[i];fragment=[generateComment(comment)];if(!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){fragment.push("\n")}result.push(addIndent(fragment))}}result.push(addIndent(save))}if(stmt.trailingComments){if(preserveBlankLines){comment=stmt.trailingComments[0];extRange=comment.extendedRange;range=comment.range;prefix=sourceCode.substring(extRange[0],range[0]);count=(prefix.match(/\n/g)||[]).length;if(count>0){result.push(stringRepeat("\n",count));result.push(addIndent(generateComment(comment)))}else{result.push(prefix);result.push(generateComment(comment))}}else{tailingToStatement=!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());specialBase=stringRepeat(" ",calculateSpaces(toSourceNodeWhenNeeded([base,result,indent]).toString()));for(i=0,len=stmt.trailingComments.length;i<len;++i){comment=stmt.trailingComments[i];if(tailingToStatement){if(i===0){result=[result,indent]}else{result=[result,specialBase]}result.push(generateComment(comment,specialBase))}else{result=[result,addIndent(generateComment(comment))]}if(i!==len-1&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result=[result,"\n"]}}}}return result}function generateBlankLines(start,end,result){var j,newlineCount=0;for(j=start;j<end;j++){if(sourceCode[j]==="\n"){newlineCount++}}for(j=1;j<newlineCount;j++){result.push(newline)}}function parenthesize(text,current,should){if(current<should){return["(",text,")"]}return text}function generateVerbatimString(string){var i,iz,result;result=string.split(/\r\n|\n/);for(i=1,iz=result.length;i<iz;i++){result[i]=newline+base+result[i]}return result}function generateVerbatim(expr,precedence){var verbatim,result,prec;verbatim=expr[extra.verbatim];if(typeof verbatim==="string"){result=parenthesize(generateVerbatimString(verbatim),Precedence.Sequence,precedence)}else{result=generateVerbatimString(verbatim.content);prec=verbatim.precedence!=null?verbatim.precedence:Precedence.Sequence;result=parenthesize(result,prec,precedence)}return toSourceNodeWhenNeeded(result,expr)}function CodeGenerator(){}CodeGenerator.prototype.maybeBlock=function(stmt,flags){var result,noLeadingComment,that=this;noLeadingComment=!extra.comment||!stmt.leadingComments;if(stmt.type===Syntax.BlockStatement&&noLeadingComment){return[space,this.generateStatement(stmt,flags)]}if(stmt.type===Syntax.EmptyStatement&&noLeadingComment){return";"}withIndent(function(){result=[newline,addIndent(that.generateStatement(stmt,flags))]});return result};CodeGenerator.prototype.maybeBlockSuffix=function(stmt,result){var ends=endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());if(stmt.type===Syntax.BlockStatement&&(!extra.comment||!stmt.leadingComments)&&!ends){return[result,space]}if(ends){return[result,base]}return[result,newline,base]};function generateIdentifier(node){return toSourceNodeWhenNeeded(node.name,node)}function generateAsyncPrefix(node,spaceRequired){return node.async?"async"+(spaceRequired?noEmptySpace():space):""}function generateStarSuffix(node){var isGenerator=node.generator&&!extra.moz.starlessGenerator;return isGenerator?"*"+space:""}function generateMethodPrefix(prop){var func=prop.value;if(func.async){return generateAsyncPrefix(func,!prop.computed)}else{return generateStarSuffix(func)?"*":""}}CodeGenerator.prototype.generatePattern=function(node,precedence,flags){if(node.type===Syntax.Identifier){return generateIdentifier(node)}return this.generateExpression(node,precedence,flags)};CodeGenerator.prototype.generateFunctionParams=function(node){var i,iz,result,hasDefault;hasDefault=false;if(node.type===Syntax.ArrowFunctionExpression&&!node.rest&&(!node.defaults||node.defaults.length===0)&&node.params.length===1&&node.params[0].type===Syntax.Identifier){result=[generateAsyncPrefix(node,true),generateIdentifier(node.params[0])]}else{result=node.type===Syntax.ArrowFunctionExpression?[generateAsyncPrefix(node,false)]:[];result.push("(");if(node.defaults){hasDefault=true}for(i=0,iz=node.params.length;i<iz;++i){if(hasDefault&&node.defaults[i]){result.push(this.generateAssignment(node.params[i],node.defaults[i],"=",Precedence.Assignment,E_TTT))}else{result.push(this.generatePattern(node.params[i],Precedence.Assignment,E_TTT))}if(i+1<iz){result.push(","+space)}}if(node.rest){if(node.params.length){result.push(","+space)}result.push("...");result.push(generateIdentifier(node.rest))}result.push(")")}return result};CodeGenerator.prototype.generateFunctionBody=function(node){var result,expr;result=this.generateFunctionParams(node);if(node.type===Syntax.ArrowFunctionExpression){result.push(space);result.push("=>")}if(node.expression){result.push(space);expr=this.generateExpression(node.body,Precedence.Assignment,E_TTT);if(expr.toString().charAt(0)==="{"){expr=["(",expr,")"]}result.push(expr)}else{result.push(this.maybeBlock(node.body,S_TTFF))}return result};CodeGenerator.prototype.generateIterationForStatement=function(operator,stmt,flags){var result=["for"+space+"("],that=this;withIndent(function(){if(stmt.left.type===Syntax.VariableDeclaration){withIndent(function(){result.push(stmt.left.kind+noEmptySpace());result.push(that.generateStatement(stmt.left.declarations[0],S_FFFF))})}else{result.push(that.generateExpression(stmt.left,Precedence.Call,E_TTT))}result=join(result,operator);result=[join(result,that.generateExpression(stmt.right,Precedence.Sequence,E_TTT)),")"]});result.push(this.maybeBlock(stmt.body,flags));return result};CodeGenerator.prototype.generatePropertyKey=function(expr,computed,value){var result=[];if(computed){result.push("[")}if(value.type==="AssignmentPattern"){result.push(this.AssignmentPattern(value,Precedence.Sequence,E_TTT))}else{result.push(this.generateExpression(expr,Precedence.Sequence,E_TTT))}if(computed){result.push("]")}return result};CodeGenerator.prototype.generateAssignment=function(left,right,operator,precedence,flags){if(Precedence.Assignment<precedence){flags|=F_ALLOW_IN}return parenthesize([this.generateExpression(left,Precedence.Call,flags),space+operator+space,this.generateExpression(right,Precedence.Assignment,flags)],Precedence.Assignment,precedence)};CodeGenerator.prototype.semicolon=function(flags){if(!semicolons&&flags&F_SEMICOLON_OPT){return""}return";"};CodeGenerator.Statement={BlockStatement:function(stmt,flags){var range,content,result=["{",newline],that=this;withIndent(function(){if(stmt.body.length===0&&preserveBlankLines){range=stmt.range;if(range[1]-range[0]>2){content=sourceCode.substring(range[0]+1,range[1]-1);if(content[0]==="\n"){result=["{"]}result.push(content)}}var i,iz,fragment,bodyFlags;bodyFlags=S_TFFF;if(flags&F_FUNC_BODY){bodyFlags|=F_DIRECTIVE_CTX}for(i=0,iz=stmt.body.length;i<iz;++i){if(preserveBlankLines){if(i===0){if(stmt.body[0].leadingComments){range=stmt.body[0].leadingComments[0].extendedRange;content=sourceCode.substring(range[0],range[1]);if(content[0]==="\n"){result=["{"]}}if(!stmt.body[0].leadingComments){generateBlankLines(stmt.range[0],stmt.body[0].range[0],result)}}if(i>0){if(!stmt.body[i-1].trailingComments&&!stmt.body[i].leadingComments){generateBlankLines(stmt.body[i-1].range[1],stmt.body[i].range[0],result)}}}if(i===iz-1){bodyFlags|=F_SEMICOLON_OPT}if(stmt.body[i].leadingComments&&preserveBlankLines){fragment=that.generateStatement(stmt.body[i],bodyFlags)}else{fragment=addIndent(that.generateStatement(stmt.body[i],bodyFlags))}result.push(fragment);if(!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){if(preserveBlankLines&&i<iz-1){if(!stmt.body[i+1].leadingComments){result.push(newline)}}else{result.push(newline)}}if(preserveBlankLines){if(i===iz-1){if(!stmt.body[i].trailingComments){generateBlankLines(stmt.body[i].range[1],stmt.range[1],result)}}}}});result.push(addIndent("}"));return result},BreakStatement:function(stmt,flags){if(stmt.label){return"break "+stmt.label.name+this.semicolon(flags)}return"break"+this.semicolon(flags)},ContinueStatement:function(stmt,flags){if(stmt.label){return"continue "+stmt.label.name+this.semicolon(flags)}return"continue"+this.semicolon(flags)},ClassBody:function(stmt,flags){var result=["{",newline],that=this;withIndent(function(indent){var i,iz;for(i=0,iz=stmt.body.length;i<iz;++i){result.push(indent);result.push(that.generateExpression(stmt.body[i],Precedence.Sequence,E_TTT));if(i+1<iz){result.push(newline)}}});if(!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(base);result.push("}");return result},ClassDeclaration:function(stmt,flags){var result,fragment;result=["class"];if(stmt.id){result=join(result,this.generateExpression(stmt.id,Precedence.Sequence,E_TTT))}if(stmt.superClass){fragment=join("extends",this.generateExpression(stmt.superClass,Precedence.Assignment,E_TTT));result=join(result,fragment)}result.push(space);result.push(this.generateStatement(stmt.body,S_TFFT));return result},DirectiveStatement:function(stmt,flags){if(extra.raw&&stmt.raw){return stmt.raw+this.semicolon(flags)}return escapeDirective(stmt.directive)+this.semicolon(flags)},DoWhileStatement:function(stmt,flags){var result=join("do",this.maybeBlock(stmt.body,S_TFFF));result=this.maybeBlockSuffix(stmt.body,result);return join(result,["while"+space+"(",this.generateExpression(stmt.test,Precedence.Sequence,E_TTT),")"+this.semicolon(flags)])},CatchClause:function(stmt,flags){var result,that=this;withIndent(function(){var guard;result=["catch"+space+"(",that.generateExpression(stmt.param,Precedence.Sequence,E_TTT),")"];if(stmt.guard){guard=that.generateExpression(stmt.guard,Precedence.Sequence,E_TTT);result.splice(2,0," if ",guard)}});result.push(this.maybeBlock(stmt.body,S_TFFF));return result},DebuggerStatement:function(stmt,flags){return"debugger"+this.semicolon(flags)},EmptyStatement:function(stmt,flags){return";"},ExportDefaultDeclaration:function(stmt,flags){var result=["export"],bodyFlags;bodyFlags=flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF;result=join(result,"default");if(isStatement(stmt.declaration)){result=join(result,this.generateStatement(stmt.declaration,bodyFlags))}else{result=join(result,this.generateExpression(stmt.declaration,Precedence.Assignment,E_TTT)+this.semicolon(flags))}return result},ExportNamedDeclaration:function(stmt,flags){var result=["export"],bodyFlags,that=this;bodyFlags=flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF;if(stmt.declaration){return join(result,this.generateStatement(stmt.declaration,bodyFlags))}if(stmt.specifiers){if(stmt.specifiers.length===0){result=join(result,"{"+space+"}")}else if(stmt.specifiers[0].type===Syntax.ExportBatchSpecifier){result=join(result,this.generateExpression(stmt.specifiers[0],Precedence.Sequence,E_TTT))}else{result=join(result,"{");withIndent(function(indent){var i,iz;result.push(newline);for(i=0,iz=stmt.specifiers.length;i<iz;++i){result.push(indent);result.push(that.generateExpression(stmt.specifiers[i],Precedence.Sequence,E_TTT));if(i+1<iz){result.push(","+newline)}}});if(!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(base+"}")}if(stmt.source){result=join(result,["from"+space,this.generateExpression(stmt.source,Precedence.Sequence,E_TTT),this.semicolon(flags)])}else{result.push(this.semicolon(flags))}}return result},ExportAllDeclaration:function(stmt,flags){return["export"+space,"*"+space,"from"+space,this.generateExpression(stmt.source,Precedence.Sequence,E_TTT),this.semicolon(flags)]},ExpressionStatement:function(stmt,flags){var result,fragment;function isClassPrefixed(fragment){var code;if(fragment.slice(0,5)!=="class"){return false}code=fragment.charCodeAt(5);return code===123||esutils.code.isWhiteSpace(code)||esutils.code.isLineTerminator(code)}function isFunctionPrefixed(fragment){var code;if(fragment.slice(0,8)!=="function"){return false}code=fragment.charCodeAt(8);return code===40||esutils.code.isWhiteSpace(code)||code===42||esutils.code.isLineTerminator(code)}function isAsyncPrefixed(fragment){var code,i,iz;if(fragment.slice(0,5)!=="async"){return false}if(!esutils.code.isWhiteSpace(fragment.charCodeAt(5))){return false}for(i=6,iz=fragment.length;i<iz;++i){if(!esutils.code.isWhiteSpace(fragment.charCodeAt(i))){break}}if(i===iz){return false}if(fragment.slice(i,i+8)!=="function"){return false}code=fragment.charCodeAt(i+8);return code===40||esutils.code.isWhiteSpace(code)||code===42||esutils.code.isLineTerminator(code)}result=[this.generateExpression(stmt.expression,Precedence.Sequence,E_TTT)];fragment=toSourceNodeWhenNeeded(result).toString();if(fragment.charCodeAt(0)===123||isClassPrefixed(fragment)||isFunctionPrefixed(fragment)||isAsyncPrefixed(fragment)||directive&&flags&F_DIRECTIVE_CTX&&stmt.expression.type===Syntax.Literal&&typeof stmt.expression.value==="string"){result=["(",result,")"+this.semicolon(flags)]}else{result.push(this.semicolon(flags))}return result},ImportDeclaration:function(stmt,flags){var result,cursor,that=this;if(stmt.specifiers.length===0){return["import",space,this.generateExpression(stmt.source,Precedence.Sequence,E_TTT),this.semicolon(flags)]}result=["import"];cursor=0;if(stmt.specifiers[cursor].type===Syntax.ImportDefaultSpecifier){result=join(result,[this.generateExpression(stmt.specifiers[cursor],Precedence.Sequence,E_TTT)]);++cursor}if(stmt.specifiers[cursor]){if(cursor!==0){result.push(",")}if(stmt.specifiers[cursor].type===Syntax.ImportNamespaceSpecifier){result=join(result,[space,this.generateExpression(stmt.specifiers[cursor],Precedence.Sequence,E_TTT)])}else{result.push(space+"{");if(stmt.specifiers.length-cursor===1){result.push(space);result.push(this.generateExpression(stmt.specifiers[cursor],Precedence.Sequence,E_TTT));result.push(space+"}"+space)}else{withIndent(function(indent){var i,iz;result.push(newline);for(i=cursor,iz=stmt.specifiers.length;i<iz;++i){result.push(indent);result.push(that.generateExpression(stmt.specifiers[i],Precedence.Sequence,E_TTT));if(i+1<iz){result.push(","+newline)}}});if(!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(base+"}"+space)}}}result=join(result,["from"+space,this.generateExpression(stmt.source,Precedence.Sequence,E_TTT),this.semicolon(flags)]);return result},VariableDeclarator:function(stmt,flags){var itemFlags=flags&F_ALLOW_IN?E_TTT:E_FTT;if(stmt.init){return[this.generateExpression(stmt.id,Precedence.Assignment,itemFlags),space,"=",space,this.generateExpression(stmt.init,Precedence.Assignment,itemFlags)]}return this.generatePattern(stmt.id,Precedence.Assignment,itemFlags)},VariableDeclaration:function(stmt,flags){var result,i,iz,node,bodyFlags,that=this;result=[stmt.kind];bodyFlags=flags&F_ALLOW_IN?S_TFFF:S_FFFF;function block(){node=stmt.declarations[0];if(extra.comment&&node.leadingComments){result.push("\n");result.push(addIndent(that.generateStatement(node,bodyFlags)))}else{result.push(noEmptySpace());result.push(that.generateStatement(node,bodyFlags))}for(i=1,iz=stmt.declarations.length;i<iz;++i){node=stmt.declarations[i];if(extra.comment&&node.leadingComments){result.push(","+newline);result.push(addIndent(that.generateStatement(node,bodyFlags)))}else{result.push(","+space);result.push(that.generateStatement(node,bodyFlags))}}}if(stmt.declarations.length>1){withIndent(block)}else{block()}result.push(this.semicolon(flags));return result},ThrowStatement:function(stmt,flags){return[join("throw",this.generateExpression(stmt.argument,Precedence.Sequence,E_TTT)),this.semicolon(flags)]},TryStatement:function(stmt,flags){var result,i,iz,guardedHandlers;result=["try",this.maybeBlock(stmt.block,S_TFFF)];result=this.maybeBlockSuffix(stmt.block,result);if(stmt.handlers){for(i=0,iz=stmt.handlers.length;i<iz;++i){result=join(result,this.generateStatement(stmt.handlers[i],S_TFFF));if(stmt.finalizer||i+1!==iz){result=this.maybeBlockSuffix(stmt.handlers[i].body,result)}}}else{guardedHandlers=stmt.guardedHandlers||[];for(i=0,iz=guardedHandlers.length;i<iz;++i){result=join(result,this.generateStatement(guardedHandlers[i],S_TFFF));if(stmt.finalizer||i+1!==iz){result=this.maybeBlockSuffix(guardedHandlers[i].body,result)}}if(stmt.handler){if(isArray(stmt.handler)){for(i=0,iz=stmt.handler.length;i<iz;++i){result=join(result,this.generateStatement(stmt.handler[i],S_TFFF));if(stmt.finalizer||i+1!==iz){result=this.maybeBlockSuffix(stmt.handler[i].body,result)}}}else{result=join(result,this.generateStatement(stmt.handler,S_TFFF));if(stmt.finalizer){result=this.maybeBlockSuffix(stmt.handler.body,result)}}}}if(stmt.finalizer){result=join(result,["finally",this.maybeBlock(stmt.finalizer,S_TFFF)])}return result},SwitchStatement:function(stmt,flags){var result,fragment,i,iz,bodyFlags,that=this;withIndent(function(){result=["switch"+space+"(",that.generateExpression(stmt.discriminant,Precedence.Sequence,E_TTT),")"+space+"{"+newline]});if(stmt.cases){bodyFlags=S_TFFF;for(i=0,iz=stmt.cases.length;i<iz;++i){if(i===iz-1){bodyFlags|=F_SEMICOLON_OPT}fragment=addIndent(this.generateStatement(stmt.cases[i],bodyFlags));result.push(fragment);if(!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){result.push(newline)}}}result.push(addIndent("}"));return result},SwitchCase:function(stmt,flags){var result,fragment,i,iz,bodyFlags,that=this;withIndent(function(){if(stmt.test){result=[join("case",that.generateExpression(stmt.test,Precedence.Sequence,E_TTT)),":"]}else{result=["default:"]}i=0;iz=stmt.consequent.length;if(iz&&stmt.consequent[0].type===Syntax.BlockStatement){fragment=that.maybeBlock(stmt.consequent[0],S_TFFF);result.push(fragment);i=1}if(i!==iz&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}bodyFlags=S_TFFF;for(;i<iz;++i){if(i===iz-1&&flags&F_SEMICOLON_OPT){bodyFlags|=F_SEMICOLON_OPT}fragment=addIndent(that.generateStatement(stmt.consequent[i],bodyFlags));result.push(fragment);if(i+1!==iz&&!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){result.push(newline)}}});return result},IfStatement:function(stmt,flags){var result,bodyFlags,semicolonOptional,that=this;withIndent(function(){result=["if"+space+"(",that.generateExpression(stmt.test,Precedence.Sequence,E_TTT),")"]});semicolonOptional=flags&F_SEMICOLON_OPT;bodyFlags=S_TFFF;if(semicolonOptional){bodyFlags|=F_SEMICOLON_OPT}if(stmt.alternate){result.push(this.maybeBlock(stmt.consequent,S_TFFF));result=this.maybeBlockSuffix(stmt.consequent,result);if(stmt.alternate.type===Syntax.IfStatement){result=join(result,["else ",this.generateStatement(stmt.alternate,bodyFlags)])}else{result=join(result,join("else",this.maybeBlock(stmt.alternate,bodyFlags)))}}else{result.push(this.maybeBlock(stmt.consequent,bodyFlags))}return result},ForStatement:function(stmt,flags){var result,that=this;withIndent(function(){result=["for"+space+"("];if(stmt.init){if(stmt.init.type===Syntax.VariableDeclaration){result.push(that.generateStatement(stmt.init,S_FFFF))}else{result.push(that.generateExpression(stmt.init,Precedence.Sequence,E_FTT));result.push(";")}}else{result.push(";")}if(stmt.test){result.push(space);result.push(that.generateExpression(stmt.test,Precedence.Sequence,E_TTT));result.push(";")}else{result.push(";")}if(stmt.update){result.push(space);result.push(that.generateExpression(stmt.update,Precedence.Sequence,E_TTT));result.push(")")}else{result.push(")")}});result.push(this.maybeBlock(stmt.body,flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF));return result},ForInStatement:function(stmt,flags){return this.generateIterationForStatement("in",stmt,flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF)},ForOfStatement:function(stmt,flags){return this.generateIterationForStatement("of",stmt,flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF)},LabeledStatement:function(stmt,flags){return[stmt.label.name+":",this.maybeBlock(stmt.body,flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF)]},Program:function(stmt,flags){var result,fragment,i,iz,bodyFlags;iz=stmt.body.length;result=[safeConcatenation&&iz>0?"\n":""];bodyFlags=S_TFTF;for(i=0;i<iz;++i){if(!safeConcatenation&&i===iz-1){bodyFlags|=F_SEMICOLON_OPT}if(preserveBlankLines){if(i===0){if(!stmt.body[0].leadingComments){generateBlankLines(stmt.range[0],stmt.body[i].range[0],result)}}if(i>0){if(!stmt.body[i-1].trailingComments&&!stmt.body[i].leadingComments){generateBlankLines(stmt.body[i-1].range[1],stmt.body[i].range[0],result)}}}fragment=addIndent(this.generateStatement(stmt.body[i],bodyFlags));result.push(fragment);if(i+1<iz&&!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){if(preserveBlankLines){if(!stmt.body[i+1].leadingComments){result.push(newline)}}else{result.push(newline)}}if(preserveBlankLines){if(i===iz-1){if(!stmt.body[i].trailingComments){generateBlankLines(stmt.body[i].range[1],stmt.range[1],result)}}}}return result},FunctionDeclaration:function(stmt,flags){return[generateAsyncPrefix(stmt,true),"function",generateStarSuffix(stmt)||noEmptySpace(),stmt.id?generateIdentifier(stmt.id):"",this.generateFunctionBody(stmt)]},ReturnStatement:function(stmt,flags){if(stmt.argument){return[join("return",this.generateExpression(stmt.argument,Precedence.Sequence,E_TTT)),this.semicolon(flags)]}return["return"+this.semicolon(flags)]},WhileStatement:function(stmt,flags){var result,that=this;withIndent(function(){result=["while"+space+"(",that.generateExpression(stmt.test,Precedence.Sequence,E_TTT),")"]});result.push(this.maybeBlock(stmt.body,flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF));return result},WithStatement:function(stmt,flags){var result,that=this;withIndent(function(){result=["with"+space+"(",that.generateExpression(stmt.object,Precedence.Sequence,E_TTT),")"]});result.push(this.maybeBlock(stmt.body,flags&F_SEMICOLON_OPT?S_TFFT:S_TFFF));return result}};merge(CodeGenerator.prototype,CodeGenerator.Statement);CodeGenerator.Expression={SequenceExpression:function(expr,precedence,flags){var result,i,iz;if(Precedence.Sequence<precedence){flags|=F_ALLOW_IN}result=[];for(i=0,iz=expr.expressions.length;i<iz;++i){result.push(this.generateExpression(expr.expressions[i],Precedence.Assignment,flags));if(i+1<iz){result.push(","+space)}}return parenthesize(result,Precedence.Sequence,precedence)},AssignmentExpression:function(expr,precedence,flags){return this.generateAssignment(expr.left,expr.right,expr.operator,precedence,flags)},ArrowFunctionExpression:function(expr,precedence,flags){return parenthesize(this.generateFunctionBody(expr),Precedence.ArrowFunction,precedence)},ConditionalExpression:function(expr,precedence,flags){if(Precedence.Conditional<precedence){flags|=F_ALLOW_IN}return parenthesize([this.generateExpression(expr.test,Precedence.LogicalOR,flags),space+"?"+space,this.generateExpression(expr.consequent,Precedence.Assignment,flags),space+":"+space,this.generateExpression(expr.alternate,Precedence.Assignment,flags)],Precedence.Conditional,precedence)},LogicalExpression:function(expr,precedence,flags){return this.BinaryExpression(expr,precedence,flags)},BinaryExpression:function(expr,precedence,flags){var result,currentPrecedence,fragment,leftSource;currentPrecedence=BinaryPrecedence[expr.operator];if(currentPrecedence<precedence){flags|=F_ALLOW_IN}fragment=this.generateExpression(expr.left,currentPrecedence,flags);leftSource=fragment.toString();if(leftSource.charCodeAt(leftSource.length-1)===47&&esutils.code.isIdentifierPartES5(expr.operator.charCodeAt(0))){result=[fragment,noEmptySpace(),expr.operator]}else{result=join(fragment,expr.operator)}fragment=this.generateExpression(expr.right,currentPrecedence+1,flags);if(expr.operator==="/"&&fragment.toString().charAt(0)==="/"||expr.operator.slice(-1)==="<"&&fragment.toString().slice(0,3)==="!--"){result.push(noEmptySpace());result.push(fragment)}else{result=join(result,fragment)}if(expr.operator==="in"&&!(flags&F_ALLOW_IN)){return["(",result,")"]}return parenthesize(result,currentPrecedence,precedence)},CallExpression:function(expr,precedence,flags){var result,i,iz;result=[this.generateExpression(expr.callee,Precedence.Call,E_TTF)];result.push("(");for(i=0,iz=expr["arguments"].length;i<iz;++i){result.push(this.generateExpression(expr["arguments"][i],Precedence.Assignment,E_TTT));if(i+1<iz){result.push(","+space)}}result.push(")");if(!(flags&F_ALLOW_CALL)){return["(",result,")"]}return parenthesize(result,Precedence.Call,precedence)},NewExpression:function(expr,precedence,flags){var result,length,i,iz,itemFlags;length=expr["arguments"].length;itemFlags=flags&F_ALLOW_UNPARATH_NEW&&!parentheses&&length===0?E_TFT:E_TFF;result=join("new",this.generateExpression(expr.callee,Precedence.New,itemFlags));if(!(flags&F_ALLOW_UNPARATH_NEW)||parentheses||length>0){result.push("(");for(i=0,iz=length;i<iz;++i){result.push(this.generateExpression(expr["arguments"][i],Precedence.Assignment,E_TTT));if(i+1<iz){result.push(","+space)}}result.push(")")}return parenthesize(result,Precedence.New,precedence)},MemberExpression:function(expr,precedence,flags){var result,fragment;result=[this.generateExpression(expr.object,Precedence.Call,flags&F_ALLOW_CALL?E_TTF:E_TFF)];if(expr.computed){result.push("[");result.push(this.generateExpression(expr.property,Precedence.Sequence,flags&F_ALLOW_CALL?E_TTT:E_TFT));result.push("]")}else{if(expr.object.type===Syntax.Literal&&typeof expr.object.value==="number"){fragment=toSourceNodeWhenNeeded(result).toString();if(fragment.indexOf(".")<0&&!/[eExX]/.test(fragment)&&esutils.code.isDecimalDigit(fragment.charCodeAt(fragment.length-1))&&!(fragment.length>=2&&fragment.charCodeAt(0)===48)){result.push(".")}}result.push(".");result.push(generateIdentifier(expr.property))}return parenthesize(result,Precedence.Member,precedence)},MetaProperty:function(expr,precedence,flags){var result;result=[];result.push(expr.meta);result.push(".");result.push(expr.property);return parenthesize(result,Precedence.Member,precedence)},UnaryExpression:function(expr,precedence,flags){var result,fragment,rightCharCode,leftSource,leftCharCode;fragment=this.generateExpression(expr.argument,Precedence.Unary,E_TTT);if(space===""){result=join(expr.operator,fragment)}else{result=[expr.operator];if(expr.operator.length>2){result=join(result,fragment)}else{leftSource=toSourceNodeWhenNeeded(result).toString();leftCharCode=leftSource.charCodeAt(leftSource.length-1);rightCharCode=fragment.toString().charCodeAt(0);if((leftCharCode===43||leftCharCode===45)&&leftCharCode===rightCharCode||esutils.code.isIdentifierPartES5(leftCharCode)&&esutils.code.isIdentifierPartES5(rightCharCode)){result.push(noEmptySpace());result.push(fragment)}else{result.push(fragment)}}}return parenthesize(result,Precedence.Unary,precedence)},YieldExpression:function(expr,precedence,flags){var result;if(expr.delegate){result="yield*"}else{result="yield"}if(expr.argument){result=join(result,this.generateExpression(expr.argument,Precedence.Yield,E_TTT))}return parenthesize(result,Precedence.Yield,precedence)},AwaitExpression:function(expr,precedence,flags){var result=join(expr.all?"await*":"await",this.generateExpression(expr.argument,Precedence.Await,E_TTT));return parenthesize(result,Precedence.Await,precedence)},UpdateExpression:function(expr,precedence,flags){if(expr.prefix){return parenthesize([expr.operator,this.generateExpression(expr.argument,Precedence.Unary,E_TTT)],Precedence.Unary,precedence)}return parenthesize([this.generateExpression(expr.argument,Precedence.Postfix,E_TTT),expr.operator],Precedence.Postfix,precedence)},FunctionExpression:function(expr,precedence,flags){var result=[generateAsyncPrefix(expr,true),"function"];if(expr.id){result.push(generateStarSuffix(expr)||noEmptySpace());result.push(generateIdentifier(expr.id))}else{result.push(generateStarSuffix(expr)||space)}result.push(this.generateFunctionBody(expr));return result},ArrayPattern:function(expr,precedence,flags){return this.ArrayExpression(expr,precedence,flags,true)},ArrayExpression:function(expr,precedence,flags,isPattern){var result,multiline,that=this;if(!expr.elements.length){return"[]"}multiline=isPattern?false:expr.elements.length>1;result=["[",multiline?newline:""];withIndent(function(indent){var i,iz;for(i=0,iz=expr.elements.length;i<iz;++i){if(!expr.elements[i]){if(multiline){result.push(indent)}if(i+1===iz){result.push(",")}}else{result.push(multiline?indent:"");result.push(that.generateExpression(expr.elements[i],Precedence.Assignment,E_TTT))}if(i+1<iz){result.push(","+(multiline?newline:space))}}});if(multiline&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(multiline?base:"");result.push("]");return result},RestElement:function(expr,precedence,flags){return"..."+this.generatePattern(expr.argument)},ClassExpression:function(expr,precedence,flags){var result,fragment;result=["class"];if(expr.id){result=join(result,this.generateExpression(expr.id,Precedence.Sequence,E_TTT))}if(expr.superClass){fragment=join("extends",this.generateExpression(expr.superClass,Precedence.Assignment,E_TTT));result=join(result,fragment)}result.push(space);result.push(this.generateStatement(expr.body,S_TFFT));return result},MethodDefinition:function(expr,precedence,flags){var result,fragment;if(expr["static"]){result=["static"+space]}else{result=[]}if(expr.kind==="get"||expr.kind==="set"){fragment=[join(expr.kind,this.generatePropertyKey(expr.key,expr.computed,expr.value)),this.generateFunctionBody(expr.value)]}else{fragment=[generateMethodPrefix(expr),this.generatePropertyKey(expr.key,expr.computed,expr.value),this.generateFunctionBody(expr.value)]}return join(result,fragment)},Property:function(expr,precedence,flags){if(expr.kind==="get"||expr.kind==="set"){return[expr.kind,noEmptySpace(),this.generatePropertyKey(expr.key,expr.computed,expr.value),this.generateFunctionBody(expr.value)]}if(expr.shorthand){
return this.generatePropertyKey(expr.key,expr.computed,expr.value)}if(expr.method){return[generateMethodPrefix(expr),this.generatePropertyKey(expr.key,expr.computed,expr.value),this.generateFunctionBody(expr.value)]}return[this.generatePropertyKey(expr.key,expr.computed,expr.value),":"+space,this.generateExpression(expr.value,Precedence.Assignment,E_TTT)]},ObjectExpression:function(expr,precedence,flags){var multiline,result,fragment,that=this;if(!expr.properties.length){return"{}"}multiline=expr.properties.length>1;withIndent(function(){fragment=that.generateExpression(expr.properties[0],Precedence.Sequence,E_TTT)});if(!multiline){if(!hasLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){return["{",space,fragment,space,"}"]}}withIndent(function(indent){var i,iz;result=["{",newline,indent,fragment];if(multiline){result.push(","+newline);for(i=1,iz=expr.properties.length;i<iz;++i){result.push(indent);result.push(that.generateExpression(expr.properties[i],Precedence.Sequence,E_TTT));if(i+1<iz){result.push(","+newline)}}}});if(!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(base);result.push("}");return result},AssignmentPattern:function(expr,precedence,flags){return this.generateAssignment(expr.left,expr.right,"=",precedence,flags)},ObjectPattern:function(expr,precedence,flags){var result,i,iz,multiline,property,that=this;if(!expr.properties.length){return"{}"}multiline=false;if(expr.properties.length===1){property=expr.properties[0];if(property.value.type!==Syntax.Identifier){multiline=true}}else{for(i=0,iz=expr.properties.length;i<iz;++i){property=expr.properties[i];if(!property.shorthand){multiline=true;break}}}result=["{",multiline?newline:""];withIndent(function(indent){var i,iz;for(i=0,iz=expr.properties.length;i<iz;++i){result.push(multiline?indent:"");result.push(that.generateExpression(expr.properties[i],Precedence.Sequence,E_TTT));if(i+1<iz){result.push(","+(multiline?newline:space))}}});if(multiline&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(multiline?base:"");result.push("}");return result},ThisExpression:function(expr,precedence,flags){return"this"},Super:function(expr,precedence,flags){return"super"},Identifier:function(expr,precedence,flags){return generateIdentifier(expr)},ImportDefaultSpecifier:function(expr,precedence,flags){return generateIdentifier(expr.id||expr.local)},ImportNamespaceSpecifier:function(expr,precedence,flags){var result=["*"];var id=expr.id||expr.local;if(id){result.push(space+"as"+noEmptySpace()+generateIdentifier(id))}return result},ImportSpecifier:function(expr,precedence,flags){var imported=expr.imported;var result=[imported.name];var local=expr.local;if(local&&local.name!==imported.name){result.push(noEmptySpace()+"as"+noEmptySpace()+generateIdentifier(local))}return result},ExportSpecifier:function(expr,precedence,flags){var local=expr.local;var result=[local.name];var exported=expr.exported;if(exported&&exported.name!==local.name){result.push(noEmptySpace()+"as"+noEmptySpace()+generateIdentifier(exported))}return result},Literal:function(expr,precedence,flags){var raw;if(expr.hasOwnProperty("raw")&&parse&&extra.raw){try{raw=parse(expr.raw).body[0].expression;if(raw.type===Syntax.Literal){if(raw.value===expr.value){return expr.raw}}}catch(e){}}if(expr.value===null){return"null"}if(typeof expr.value==="string"){return escapeString(expr.value)}if(typeof expr.value==="number"){return generateNumber(expr.value)}if(typeof expr.value==="boolean"){return expr.value?"true":"false"}return generateRegExp(expr.value)},GeneratorExpression:function(expr,precedence,flags){return this.ComprehensionExpression(expr,precedence,flags)},ComprehensionExpression:function(expr,precedence,flags){var result,i,iz,fragment,that=this;result=expr.type===Syntax.GeneratorExpression?["("]:["["];if(extra.moz.comprehensionExpressionStartsWithAssignment){fragment=this.generateExpression(expr.body,Precedence.Assignment,E_TTT);result.push(fragment)}if(expr.blocks){withIndent(function(){for(i=0,iz=expr.blocks.length;i<iz;++i){fragment=that.generateExpression(expr.blocks[i],Precedence.Sequence,E_TTT);if(i>0||extra.moz.comprehensionExpressionStartsWithAssignment){result=join(result,fragment)}else{result.push(fragment)}}})}if(expr.filter){result=join(result,"if"+space);fragment=this.generateExpression(expr.filter,Precedence.Sequence,E_TTT);result=join(result,["(",fragment,")"])}if(!extra.moz.comprehensionExpressionStartsWithAssignment){fragment=this.generateExpression(expr.body,Precedence.Assignment,E_TTT);result=join(result,fragment)}result.push(expr.type===Syntax.GeneratorExpression?")":"]");return result},ComprehensionBlock:function(expr,precedence,flags){var fragment;if(expr.left.type===Syntax.VariableDeclaration){fragment=[expr.left.kind,noEmptySpace(),this.generateStatement(expr.left.declarations[0],S_FFFF)]}else{fragment=this.generateExpression(expr.left,Precedence.Call,E_TTT)}fragment=join(fragment,expr.of?"of":"in");fragment=join(fragment,this.generateExpression(expr.right,Precedence.Sequence,E_TTT));return["for"+space+"(",fragment,")"]},SpreadElement:function(expr,precedence,flags){return["...",this.generateExpression(expr.argument,Precedence.Assignment,E_TTT)]},TaggedTemplateExpression:function(expr,precedence,flags){var itemFlags=E_TTF;if(!(flags&F_ALLOW_CALL)){itemFlags=E_TFF}var result=[this.generateExpression(expr.tag,Precedence.Call,itemFlags),this.generateExpression(expr.quasi,Precedence.Primary,E_FFT)];return parenthesize(result,Precedence.TaggedTemplate,precedence)},TemplateElement:function(expr,precedence,flags){return expr.value.raw},TemplateLiteral:function(expr,precedence,flags){var result,i,iz;result=["`"];for(i=0,iz=expr.quasis.length;i<iz;++i){result.push(this.generateExpression(expr.quasis[i],Precedence.Primary,E_TTT));if(i+1<iz){result.push("${"+space);result.push(this.generateExpression(expr.expressions[i],Precedence.Sequence,E_TTT));result.push(space+"}")}}result.push("`");return result},ModuleSpecifier:function(expr,precedence,flags){return this.Literal(expr,precedence,flags)}};merge(CodeGenerator.prototype,CodeGenerator.Expression);CodeGenerator.prototype.generateExpression=function(expr,precedence,flags){var result,type;type=expr.type||Syntax.Property;if(extra.verbatim&&expr.hasOwnProperty(extra.verbatim)){return generateVerbatim(expr,precedence)}result=this[type](expr,precedence,flags);if(extra.comment){result=addComments(expr,result)}return toSourceNodeWhenNeeded(result,expr)};CodeGenerator.prototype.generateStatement=function(stmt,flags){var result,fragment;result=this[stmt.type](stmt,flags);if(extra.comment){result=addComments(stmt,result)}fragment=toSourceNodeWhenNeeded(result).toString();if(stmt.type===Syntax.Program&&!safeConcatenation&&newline===""&&fragment.charAt(fragment.length-1)==="\n"){result=sourceMap?toSourceNodeWhenNeeded(result).replaceRight(/\s+$/,""):fragment.replace(/\s+$/,"")}return toSourceNodeWhenNeeded(result,stmt)};function generateInternal(node){var codegen;codegen=new CodeGenerator;if(isStatement(node)){return codegen.generateStatement(node,S_TFFF)}if(isExpression(node)){return codegen.generateExpression(node,Precedence.Sequence,E_TTT)}throw new Error("Unknown node type: "+node.type)}function generate(node,options){var defaultOptions=getDefaultOptions(),result,pair;if(options!=null){if(typeof options.indent==="string"){defaultOptions.format.indent.style=options.indent}if(typeof options.base==="number"){defaultOptions.format.indent.base=options.base}options=updateDeeply(defaultOptions,options);indent=options.format.indent.style;if(typeof options.base==="string"){base=options.base}else{base=stringRepeat(indent,options.format.indent.base)}}else{options=defaultOptions;indent=options.format.indent.style;base=stringRepeat(indent,options.format.indent.base)}json=options.format.json;renumber=options.format.renumber;hexadecimal=json?false:options.format.hexadecimal;quotes=json?"double":options.format.quotes;escapeless=options.format.escapeless;newline=options.format.newline;space=options.format.space;if(options.format.compact){newline=space=indent=base=""}parentheses=options.format.parentheses;semicolons=options.format.semicolons;safeConcatenation=options.format.safeConcatenation;directive=options.directive;parse=json?null:options.parse;sourceMap=options.sourceMap;sourceCode=options.sourceCode;preserveBlankLines=options.format.preserveBlankLines&&sourceCode!==null;extra=options;if(sourceMap){if(!exports.browser){SourceNode=require("source-map").SourceNode}else{SourceNode=global.sourceMap.SourceNode}}result=generateInternal(node);if(!sourceMap){pair={code:result.toString(),map:null};return options.sourceMapWithCode?pair:pair.code}pair=result.toStringWithSourceMap({file:options.file,sourceRoot:options.sourceMapRoot});if(options.sourceContent){pair.map.setSourceContent(options.sourceMap,options.sourceContent)}if(options.sourceMapWithCode){return pair}return pair.map.toString()}FORMAT_MINIFY={indent:{style:"",base:0},renumber:true,hexadecimal:true,quotes:"auto",escapeless:true,compact:true,parentheses:false,semicolons:false};FORMAT_DEFAULTS=getDefaultOptions().format;exports.version=require("./package.json").version;exports.generate=generate;exports.attachComments=estraverse.attachComments;exports.Precedence=updateDeeply({},Precedence);exports.browser=false;exports.FORMAT_MINIFY=FORMAT_MINIFY;exports.FORMAT_DEFAULTS=FORMAT_DEFAULTS})()}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./package.json":18,estraverse:5,esutils:24,"source-map":6}],5:[function(require,module,exports){(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{factory(root.estraverse={})}})(this,function clone(exports){"use strict";var Syntax,isArray,VisitorOption,VisitorKeys,objectCreate,objectKeys,BREAK,SKIP,REMOVE;function ignoreJSHintError(){}isArray=Array.isArray;if(!isArray){isArray=function isArray(array){return Object.prototype.toString.call(array)==="[object Array]"}}function deepCopy(obj){var ret={},key,val;for(key in obj){if(obj.hasOwnProperty(key)){val=obj[key];if(typeof val==="object"&&val!==null){ret[key]=deepCopy(val)}else{ret[key]=val}}}return ret}function shallowCopy(obj){var ret={},key;for(key in obj){if(obj.hasOwnProperty(key)){ret[key]=obj[key]}}return ret}ignoreJSHintError(shallowCopy);function upperBound(array,func){var diff,len,i,current;len=array.length;i=0;while(len){diff=len>>>1;current=i+diff;if(func(array[current])){len=diff}else{i=current+1;len-=diff+1}}return i}function lowerBound(array,func){var diff,len,i,current;len=array.length;i=0;while(len){diff=len>>>1;current=i+diff;if(func(array[current])){i=current+1;len-=diff+1}else{len=diff}}return i}ignoreJSHintError(lowerBound);objectCreate=Object.create||function(){function F(){}return function(o){F.prototype=o;return new F}}();objectKeys=Object.keys||function(o){var keys=[],key;for(key in o){keys.push(key)}return keys};function extend(to,from){var keys=objectKeys(from),key,i,len;for(i=0,len=keys.length;i<len;i+=1){key=keys[i];to[key]=from[key]}return to}Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};VisitorKeys={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportBatchSpecifier:[],ExportDeclaration:["declaration","specifiers","source"],ExportSpecifier:["id","name"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["id"],ImportNamespaceSpecifier:["id"],ImportSpecifier:["id","name"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]};BREAK={};SKIP={};REMOVE={};VisitorOption={Break:BREAK,Skip:SKIP,Remove:REMOVE};function Reference(parent,key){this.parent=parent;this.key=key}Reference.prototype.replace=function replace(node){this.parent[this.key]=node};Reference.prototype.remove=function remove(){if(isArray(this.parent)){this.parent.splice(this.key,1);return true}else{this.replace(null);return false}};function Element(node,path,wrap,ref){this.node=node;this.path=path;this.wrap=wrap;this.ref=ref}function Controller(){}Controller.prototype.path=function path(){var i,iz,j,jz,result,element;function addToPath(result,path){if(isArray(path)){for(j=0,jz=path.length;j<jz;++j){result.push(path[j])}}else{result.push(path)}}if(!this.__current.path){return null}result=[];for(i=2,iz=this.__leavelist.length;i<iz;++i){element=this.__leavelist[i];addToPath(result,element.path)}addToPath(result,this.__current.path);return result};Controller.prototype.type=function(){var node=this.current();return node.type||this.__current.wrap};Controller.prototype.parents=function parents(){var i,iz,result;result=[];for(i=1,iz=this.__leavelist.length;i<iz;++i){result.push(this.__leavelist[i].node)}return result};Controller.prototype.current=function current(){return this.__current.node};Controller.prototype.__execute=function __execute(callback,element){var previous,result;result=undefined;previous=this.__current;this.__current=element;this.__state=null;if(callback){result=callback.call(this,element.node,this.__leavelist[this.__leavelist.length-1].node)}this.__current=previous;return result};Controller.prototype.notify=function notify(flag){this.__state=flag};Controller.prototype.skip=function(){this.notify(SKIP)};Controller.prototype["break"]=function(){this.notify(BREAK)};Controller.prototype.remove=function(){this.notify(REMOVE)};Controller.prototype.__initialize=function(root,visitor){this.visitor=visitor;this.root=root;this.__worklist=[];this.__leavelist=[];this.__current=null;this.__state=null;this.__fallback=visitor.fallback==="iteration";this.__keys=VisitorKeys;if(visitor.keys){this.__keys=extend(objectCreate(this.__keys),visitor.keys)}};function isNode(node){if(node==null){return false}return typeof node==="object"&&typeof node.type==="string"}function isProperty(nodeType,key){return(nodeType===Syntax.ObjectExpression||nodeType===Syntax.ObjectPattern)&&"properties"===key}Controller.prototype.traverse=function traverse(root,visitor){var worklist,leavelist,element,node,nodeType,ret,key,current,current2,candidates,candidate,sentinel;this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;worklist.push(new Element(root,null,null,null));leavelist.push(new Element(null,null,null,null));while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();ret=this.__execute(visitor.leave,element);if(this.__state===BREAK||ret===BREAK){return}continue}if(element.node){ret=this.__execute(visitor.enter,element);if(this.__state===BREAK||ret===BREAK){return}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||ret===SKIP){continue}node=element.node;nodeType=element.wrap||node.type;candidates=this.__keys[nodeType];if(!candidates){if(this.__fallback){candidates=objectKeys(node)}else{throw new Error("Unknown node type "+nodeType+".")}}current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(isArray(candidate)){current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if(isProperty(nodeType,candidates[current])){element=new Element(candidate[current2],[key,current2],"Property",null)}else if(isNode(candidate[current2])){element=new Element(candidate[current2],[key,current2],null,null)}else{continue}worklist.push(element)}}else if(isNode(candidate)){worklist.push(new Element(candidate,key,null,null))}}}}};Controller.prototype.replace=function replace(root,visitor){function removeElem(element){var i,key,nextElem,parent;if(element.ref.remove()){key=element.ref.key;parent=element.ref.parent;i=worklist.length;while(i--){nextElem=worklist[i];if(nextElem.ref&&nextElem.ref.parent===parent){if(nextElem.ref.key<key){break}--nextElem.ref.key}}}}var worklist,leavelist,node,nodeType,target,element,current,current2,candidates,candidate,sentinel,outer,key;this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;outer={root:root};element=new Element(root,null,null,new Reference(outer,"root"));worklist.push(element);leavelist.push(element);while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();target=this.__execute(visitor.leave,element);if(target!==undefined&&target!==BREAK&&target!==SKIP&&target!==REMOVE){element.ref.replace(target)}if(this.__state===REMOVE||target===REMOVE){removeElem(element)}if(this.__state===BREAK||target===BREAK){return outer.root}continue}target=this.__execute(visitor.enter,element);if(target!==undefined&&target!==BREAK&&target!==SKIP&&target!==REMOVE){element.ref.replace(target);element.node=target}if(this.__state===REMOVE||target===REMOVE){removeElem(element);element.node=null}if(this.__state===BREAK||target===BREAK){return outer.root}node=element.node;if(!node){continue}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||target===SKIP){continue}nodeType=element.wrap||node.type;candidates=this.__keys[nodeType];if(!candidates){if(this.__fallback){candidates=objectKeys(node)}else{throw new Error("Unknown node type "+nodeType+".")}}current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(isArray(candidate)){current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if(isProperty(nodeType,candidates[current])){element=new Element(candidate[current2],[key,current2],"Property",new Reference(candidate,current2))}else if(isNode(candidate[current2])){element=new Element(candidate[current2],[key,current2],null,new Reference(candidate,current2))}else{continue}worklist.push(element)}}else if(isNode(candidate)){worklist.push(new Element(candidate,key,null,new Reference(node,key)))}}}return outer.root};function traverse(root,visitor){var controller=new Controller;return controller.traverse(root,visitor)}function replace(root,visitor){var controller=new Controller;return controller.replace(root,visitor)}function extendCommentRange(comment,tokens){var target;target=upperBound(tokens,function search(token){return token.range[0]>comment.range[0]});comment.extendedRange=[comment.range[0],comment.range[1]];if(target!==tokens.length){comment.extendedRange[1]=tokens[target].range[0]}target-=1;if(target>=0){comment.extendedRange[0]=tokens[target].range[1]}return comment}function attachComments(tree,providedComments,tokens){var comments=[],comment,len,i,cursor;if(!tree.range){throw new Error("attachComments needs range information")}if(!tokens.length){if(providedComments.length){for(i=0,len=providedComments.length;i<len;i+=1){comment=deepCopy(providedComments[i]);comment.extendedRange=[0,tree.range[0]];comments.push(comment)}tree.leadingComments=comments}return tree}for(i=0,len=providedComments.length;i<len;i+=1){comments.push(extendCommentRange(deepCopy(providedComments[i]),tokens))}cursor=0;traverse(tree,{enter:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(comment.extendedRange[1]>node.range[0]){break}if(comment.extendedRange[1]===node.range[0]){if(!node.leadingComments){node.leadingComments=[]}node.leadingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});cursor=0;traverse(tree,{leave:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(node.range[1]<comment.extendedRange[0]){break}if(node.range[1]===comment.extendedRange[0]){if(!node.trailingComments){node.trailingComments=[]}node.trailingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});return tree}exports.version="1.8.1-dev";exports.Syntax=Syntax;exports.traverse=traverse;exports.replace=replace;exports.attachComments=attachComments;exports.VisitorKeys=VisitorKeys;exports.VisitorOption=VisitorOption;exports.Controller=Controller;exports.cloneEnvironment=function(){return clone({})};return exports})},{}],6:[function(require,module,exports){exports.SourceMapGenerator=require("./source-map/source-map-generator").SourceMapGenerator;exports.SourceMapConsumer=require("./source-map/source-map-consumer").SourceMapConsumer;exports.SourceNode=require("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":14,"./source-map/source-map-generator":15,"./source-map/source-node":16}],7:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");function ArraySet(){this._array=[];this._set={}}ArraySet.fromArray=function ArraySet_fromArray(aArray,aAllowDuplicates){var set=new ArraySet;for(var i=0,len=aArray.length;i<len;i++){set.add(aArray[i],aAllowDuplicates)}return set};ArraySet.prototype.add=function ArraySet_add(aStr,aAllowDuplicates){var isDuplicate=this.has(aStr);var idx=this._array.length;if(!isDuplicate||aAllowDuplicates){this._array.push(aStr)}if(!isDuplicate){this._set[util.toSetString(aStr)]=idx}};ArraySet.prototype.has=function ArraySet_has(aStr){return Object.prototype.hasOwnProperty.call(this._set,util.toSetString(aStr))};ArraySet.prototype.indexOf=function ArraySet_indexOf(aStr){if(this.has(aStr)){return this._set[util.toSetString(aStr)]}throw new Error('"'+aStr+'" is not in the set.')};ArraySet.prototype.at=function ArraySet_at(aIdx){if(aIdx>=0&&aIdx<this._array.length){return this._array[aIdx]}throw new Error("No element indexed by "+aIdx)};ArraySet.prototype.toArray=function ArraySet_toArray(){return this._array.slice()};exports.ArraySet=ArraySet})},{"./util":17,amdefine:2}],8:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var base64=require("./base64");var VLQ_BASE_SHIFT=5;var VLQ_BASE=1<<VLQ_BASE_SHIFT;var VLQ_BASE_MASK=VLQ_BASE-1;var VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(aValue){return aValue<0?(-aValue<<1)+1:(aValue<<1)+0}function fromVLQSigned(aValue){var isNegative=(aValue&1)===1;var shifted=aValue>>1;return isNegative?-shifted:shifted}exports.encode=function base64VLQ_encode(aValue){var encoded="";var digit;var vlq=toVLQSigned(aValue);do{digit=vlq&VLQ_BASE_MASK;vlq>>>=VLQ_BASE_SHIFT;if(vlq>0){digit|=VLQ_CONTINUATION_BIT}encoded+=base64.encode(digit)}while(vlq>0);return encoded};exports.decode=function base64VLQ_decode(aStr,aOutParam){var i=0;var strLen=aStr.length;var result=0;var shift=0;var continuation,digit;do{if(i>=strLen){throw new Error("Expected more digits in base 64 VLQ value.")}digit=base64.decode(aStr.charAt(i++));continuation=!!(digit&VLQ_CONTINUATION_BIT);digit&=VLQ_BASE_MASK;result=result+(digit<<shift);shift+=VLQ_BASE_SHIFT}while(continuation);aOutParam.value=fromVLQSigned(result);aOutParam.rest=aStr.slice(i)}})},{"./base64":9,amdefine:2}],9:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var charToIntMap={};var intToCharMap={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(ch,index){charToIntMap[ch]=index;intToCharMap[index]=ch});exports.encode=function base64_encode(aNumber){if(aNumber in intToCharMap){return intToCharMap[aNumber]}throw new TypeError("Must be between 0 and 63: "+aNumber)};exports.decode=function base64_decode(aChar){if(aChar in charToIntMap){return charToIntMap[aChar]}throw new TypeError("Not a valid base 64 digit: "+aChar)}})},{amdefine:2}],10:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");var binarySearch=require("./binary-search");var ArraySet=require("./array-set").ArraySet;var base64VLQ=require("./base64-vlq");var SourceMapConsumer=require("./source-map-consumer").SourceMapConsumer;function BasicSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}var version=util.getArg(sourceMap,"version");var sources=util.getArg(sourceMap,"sources");var names=util.getArg(sourceMap,"names",[]);var sourceRoot=util.getArg(sourceMap,"sourceRoot",null);var sourcesContent=util.getArg(sourceMap,"sourcesContent",null);var mappings=util.getArg(sourceMap,"mappings");var file=util.getArg(sourceMap,"file",null);if(version!=this._version){throw new Error("Unsupported version: "+version)}sources=sources.map(util.normalize);this._names=ArraySet.fromArray(names,true);this._sources=ArraySet.fromArray(sources,true);this.sourceRoot=sourceRoot;this.sourcesContent=sourcesContent;this._mappings=mappings;this.file=file}BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer;BasicSourceMapConsumer.fromSourceMap=function SourceMapConsumer_fromSourceMap(aSourceMap){var smc=Object.create(BasicSourceMapConsumer.prototype);smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),true);smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),true);smc.sourceRoot=aSourceMap._sourceRoot;smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot);smc.file=aSourceMap._file;smc.__generatedMappings=aSourceMap._mappings.toArray().slice();smc.__originalMappings=aSourceMap._mappings.toArray().slice().sort(util.compareByOriginalPositions);return smc};BasicSourceMapConsumer.prototype._version=3;Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return this.sourceRoot!=null?util.join(this.sourceRoot,s):s},this)}});BasicSourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(aStr,aSourceRoot){var generatedLine=1;var previousGeneratedColumn=0;var previousOriginalLine=0;var previousOriginalColumn=0;var previousSource=0;var previousName=0;var str=aStr;var temp={};var mapping;while(str.length>0){if(str.charAt(0)===";"){generatedLine++;str=str.slice(1);previousGeneratedColumn=0}else if(str.charAt(0)===","){str=str.slice(1)}else{mapping={};mapping.generatedLine=generatedLine;base64VLQ.decode(str,temp);mapping.generatedColumn=previousGeneratedColumn+temp.value;previousGeneratedColumn=mapping.generatedColumn;str=temp.rest;if(str.length>0&&!this._nextCharIsMappingSeparator(str)){base64VLQ.decode(str,temp);mapping.source=this._sources.at(previousSource+temp.value);previousSource+=temp.value;str=temp.rest;if(str.length===0||this._nextCharIsMappingSeparator(str)){throw new Error("Found a source, but no line and column")}base64VLQ.decode(str,temp);mapping.originalLine=previousOriginalLine+temp.value;previousOriginalLine=mapping.originalLine;mapping.originalLine+=1;str=temp.rest;if(str.length===0||this._nextCharIsMappingSeparator(str)){throw new Error("Found a source and line, but no column")}base64VLQ.decode(str,temp);mapping.originalColumn=previousOriginalColumn+temp.value;previousOriginalColumn=mapping.originalColumn;str=temp.rest;if(str.length>0&&!this._nextCharIsMappingSeparator(str)){base64VLQ.decode(str,temp);mapping.name=this._names.at(previousName+temp.value);previousName+=temp.value;str=temp.rest}}this.__generatedMappings.push(mapping);if(typeof mapping.originalLine==="number"){this.__originalMappings.push(mapping)}}}this.__generatedMappings.sort(util.compareByGeneratedPositions);this.__originalMappings.sort(util.compareByOriginalPositions)}
;BasicSourceMapConsumer.prototype._findMapping=function SourceMapConsumer_findMapping(aNeedle,aMappings,aLineName,aColumnName,aComparator){if(aNeedle[aLineName]<=0){throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName])}if(aNeedle[aColumnName]<0){throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName])}return binarySearch.search(aNeedle,aMappings,aComparator)};BasicSourceMapConsumer.prototype.computeColumnSpans=function SourceMapConsumer_computeColumnSpans(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=Infinity}};BasicSourceMapConsumer.prototype.originalPositionFor=function SourceMapConsumer_originalPositionFor(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")};var index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositions);if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);if(source!=null&&this.sourceRoot!=null){source=util.join(this.sourceRoot,source)}return{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:util.getArg(mapping,"name",null)}}}return{source:null,line:null,column:null,name:null}};BasicSourceMapConsumer.prototype.sourceContentFor=function SourceMapConsumer_sourceContentFor(aSource,nullOnMissing){if(!this.sourcesContent){return null}if(this.sourceRoot!=null){aSource=util.relative(this.sourceRoot,aSource)}if(this._sources.has(aSource)){return this.sourcesContent[this._sources.indexOf(aSource)]}var url;if(this.sourceRoot!=null&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if(url.scheme=="file"&&this._sources.has(fileUriAbsPath)){return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]}if((!url.path||url.path=="/")&&this._sources.has("/"+aSource)){return this.sourcesContent[this._sources.indexOf("/"+aSource)]}}if(nullOnMissing){return null}else{throw new Error('"'+aSource+'" is not in the SourceMap.')}};BasicSourceMapConsumer.prototype.generatedPositionFor=function SourceMapConsumer_generatedPositionFor(aArgs){var needle={source:util.getArg(aArgs,"source"),originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")};if(this.sourceRoot!=null){needle.source=util.relative(this.sourceRoot,needle.source)}var index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions);if(index>=0){var mapping=this._originalMappings[index];return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};exports.BasicSourceMapConsumer=BasicSourceMapConsumer})},{"./array-set":7,"./base64-vlq":8,"./binary-search":11,"./source-map-consumer":14,"./util":17,amdefine:2}],11:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare){var mid=Math.floor((aHigh-aLow)/2)+aLow;var cmp=aCompare(aNeedle,aHaystack[mid],true);if(cmp===0){return mid}else if(cmp>0){if(aHigh-mid>1){return recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare)}return mid}else{if(mid-aLow>1){return recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare)}return aLow<0?-1:aLow}}exports.search=function search(aNeedle,aHaystack,aCompare){if(aHaystack.length===0){return-1}return recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare)}})},{amdefine:2}],12:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");var binarySearch=require("./binary-search");var SourceMapConsumer=require("./source-map-consumer").SourceMapConsumer;var BasicSourceMapConsumer=require("./basic-source-map-consumer").BasicSourceMapConsumer;function IndexedSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}var version=util.getArg(sourceMap,"version");var sections=util.getArg(sourceMap,"sections");if(version!=this._version){throw new Error("Unsupported version: "+version)}var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url){throw new Error("Support for url field in sections not implemented.")}var offset=util.getArg(s,"offset");var offsetLine=util.getArg(offset,"line");var offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column){throw new Error("Section offsets must be ordered and non-overlapping.")}lastOffset=offset;return{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"))}})}IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer;IndexedSourceMapConsumer.prototype._version=3;Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){var sources=[];for(var i=0;i<this._sections.length;i++){for(var j=0;j<this._sections[i].consumer.sources.length;j++){sources.push(this._sections[i].consumer.sources[j])}}return sources}});IndexedSourceMapConsumer.prototype.originalPositionFor=function IndexedSourceMapConsumer_originalPositionFor(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")};var sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;if(cmp){return cmp}return needle.generatedColumn-section.generatedOffset.generatedColumn});var section=this._sections[sectionIndex];if(!section){return{source:null,line:null,column:null,name:null}}return section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0)})};IndexedSourceMapConsumer.prototype.sourceContentFor=function IndexedSourceMapConsumer_sourceContentFor(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];var content=section.consumer.sourceContentFor(aSource,true);if(content){return content}}if(nullOnMissing){return null}else{throw new Error('"'+aSource+'" is not in the SourceMap.')}};IndexedSourceMapConsumer.prototype.generatedPositionFor=function IndexedSourceMapConsumer_generatedPositionFor(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(section.consumer.sources.indexOf(util.getArg(aArgs,"source"))===-1){continue}var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){var ret={line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)};return ret}}return{line:null,column:null}};IndexedSourceMapConsumer.prototype._parseMappings=function IndexedSourceMapConsumer_parseMappings(aStr,aSourceRoot){this.__generatedMappings=[];this.__originalMappings=[];for(var i=0;i<this._sections.length;i++){var section=this._sections[i];var sectionMappings=section.consumer._generatedMappings;for(var j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[i];var source=mapping.source;var sourceRoot=section.consumer.sourceRoot;if(source!=null&&sourceRoot!=null){source=util.join(sourceRoot,source)}var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.column+(section.generatedOffset.generatedLine===mapping.generatedLine)?section.generatedOffset.generatedColumn-1:0,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:mapping.name};this.__generatedMappings.push(adjustedMapping);if(typeof adjustedMapping.originalLine==="number"){this.__originalMappings.push(adjustedMapping)}}}this.__generatedMappings.sort(util.compareByGeneratedPositions);this.__originalMappings.sort(util.compareByOriginalPositions)};exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer})},{"./basic-source-map-consumer":10,"./binary-search":11,"./source-map-consumer":14,"./util":17,amdefine:2}],13:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");function generatedPositionAfter(mappingA,mappingB){var lineA=mappingA.generatedLine;var lineB=mappingB.generatedLine;var columnA=mappingA.generatedColumn;var columnB=mappingB.generatedColumn;return lineB>lineA||lineB==lineA&&columnB>=columnA||util.compareByGeneratedPositions(mappingA,mappingB)<=0}function MappingList(){this._array=[];this._sorted=true;this._last={generatedLine:-1,generatedColumn:0}}MappingList.prototype.unsortedForEach=function MappingList_forEach(aCallback,aThisArg){this._array.forEach(aCallback,aThisArg)};MappingList.prototype.add=function MappingList_add(aMapping){var mapping;if(generatedPositionAfter(this._last,aMapping)){this._last=aMapping;this._array.push(aMapping)}else{this._sorted=false;this._array.push(aMapping)}};MappingList.prototype.toArray=function MappingList_toArray(){if(!this._sorted){this._array.sort(util.compareByGeneratedPositions);this._sorted=true}return this._array};exports.MappingList=MappingList})},{"./util":17,amdefine:2}],14:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}if(sourceMap.sections!=null){var indexedSourceMapConsumer=require("./indexed-source-map-consumer");return new indexedSourceMapConsumer.IndexedSourceMapConsumer(sourceMap)}else{var basicSourceMapConsumer=require("./basic-source-map-consumer");return new basicSourceMapConsumer.BasicSourceMapConsumer(sourceMap)}}SourceMapConsumer.fromSourceMap=function(aSourceMap){var basicSourceMapConsumer=require("./basic-source-map-consumer");return basicSourceMapConsumer.BasicSourceMapConsumer.fromSourceMap(aSourceMap)};SourceMapConsumer.prototype._version=3;SourceMapConsumer.prototype.__generatedMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){if(!this.__generatedMappings){this.__generatedMappings=[];this.__originalMappings=[];this._parseMappings(this._mappings,this.sourceRoot)}return this.__generatedMappings}});SourceMapConsumer.prototype.__originalMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){if(!this.__originalMappings){this.__generatedMappings=[];this.__originalMappings=[];this._parseMappings(this._mappings,this.sourceRoot)}return this.__originalMappings}});SourceMapConsumer.prototype._nextCharIsMappingSeparator=function SourceMapConsumer_nextCharIsMappingSeparator(aStr){var c=aStr.charAt(0);return c===";"||c===","};SourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(aStr,aSourceRoot){throw new Error("Subclasses must implement _parseMappings")};SourceMapConsumer.GENERATED_ORDER=1;SourceMapConsumer.ORIGINAL_ORDER=2;SourceMapConsumer.prototype.eachMapping=function SourceMapConsumer_eachMapping(aCallback,aContext,aOrder){var context=aContext||null;var order=aOrder||SourceMapConsumer.GENERATED_ORDER;var mappings;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=mapping.source;if(source!=null&&sourceRoot!=null){source=util.join(sourceRoot,source)}return{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:mapping.name}}).forEach(aCallback,context)};SourceMapConsumer.prototype.allGeneratedPositionsFor=function SourceMapConsumer_allGeneratedPositionsFor(aArgs){var needle={source:util.getArg(aArgs,"source"),originalLine:util.getArg(aArgs,"line"),originalColumn:Infinity};if(this.sourceRoot!=null){needle.source=util.relative(this.sourceRoot,needle.source)}var mappings=[];var index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions);if(index>=0){var mapping=this._originalMappings[index];while(mapping&&mapping.originalLine===needle.originalLine){mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)});mapping=this._originalMappings[--index]}}return mappings.reverse()};exports.SourceMapConsumer=SourceMapConsumer})},{"./basic-source-map-consumer":10,"./indexed-source-map-consumer":12,"./util":17,amdefine:2}],15:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var base64VLQ=require("./base64-vlq");var util=require("./util");var ArraySet=require("./array-set").ArraySet;var MappingList=require("./mapping-list").MappingList;function SourceMapGenerator(aArgs){if(!aArgs){aArgs={}}this._file=util.getArg(aArgs,"file",null);this._sourceRoot=util.getArg(aArgs,"sourceRoot",null);this._skipValidation=util.getArg(aArgs,"skipValidation",false);this._sources=new ArraySet;this._names=new ArraySet;this._mappings=new MappingList;this._sourcesContents=null}SourceMapGenerator.prototype._version=3;SourceMapGenerator.fromSourceMap=function SourceMapGenerator_fromSourceMap(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot;var generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};if(mapping.source!=null){newMapping.source=mapping.source;if(sourceRoot!=null){newMapping.source=util.relative(sourceRoot,newMapping.source)}newMapping.original={line:mapping.originalLine,column:mapping.originalColumn};if(mapping.name!=null){newMapping.name=mapping.name}}generator.addMapping(newMapping)});aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){generator.setSourceContent(sourceFile,content)}});return generator};SourceMapGenerator.prototype.addMapping=function SourceMapGenerator_addMapping(aArgs){var generated=util.getArg(aArgs,"generated");var original=util.getArg(aArgs,"original",null);var source=util.getArg(aArgs,"source",null);var name=util.getArg(aArgs,"name",null);if(!this._skipValidation){this._validateMapping(generated,original,source,name)}if(source!=null&&!this._sources.has(source)){this._sources.add(source)}if(name!=null&&!this._names.has(name)){this._names.add(name)}this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:original!=null&&original.line,originalColumn:original!=null&&original.column,source:source,name:name})};SourceMapGenerator.prototype.setSourceContent=function SourceMapGenerator_setSourceContent(aSourceFile,aSourceContent){var source=aSourceFile;if(this._sourceRoot!=null){source=util.relative(this._sourceRoot,source)}if(aSourceContent!=null){if(!this._sourcesContents){this._sourcesContents={}}this._sourcesContents[util.toSetString(source)]=aSourceContent}else if(this._sourcesContents){delete this._sourcesContents[util.toSetString(source)];if(Object.keys(this._sourcesContents).length===0){this._sourcesContents=null}}};SourceMapGenerator.prototype.applySourceMap=function SourceMapGenerator_applySourceMap(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(aSourceFile==null){if(aSourceMapConsumer.file==null){throw new Error("SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, "+'or the source map\'s "file" property. Both were omitted.')}sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;if(sourceRoot!=null){sourceFile=util.relative(sourceRoot,sourceFile)}var newSources=new ArraySet;var newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&mapping.originalLine!=null){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});if(original.source!=null){mapping.source=original.source;if(aSourceMapPath!=null){mapping.source=util.join(aSourceMapPath,mapping.source)}if(sourceRoot!=null){mapping.source=util.relative(sourceRoot,mapping.source)}mapping.originalLine=original.line;mapping.originalColumn=original.column;if(original.name!=null){mapping.name=original.name}}}var source=mapping.source;if(source!=null&&!newSources.has(source)){newSources.add(source)}var name=mapping.name;if(name!=null&&!newNames.has(name)){newNames.add(name)}},this);this._sources=newSources;this._names=newNames;aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){if(aSourceMapPath!=null){sourceFile=util.join(aSourceMapPath,sourceFile)}if(sourceRoot!=null){sourceFile=util.relative(sourceRoot,sourceFile)}this.setSourceContent(sourceFile,content)}},this)};SourceMapGenerator.prototype._validateMapping=function SourceMapGenerator_validateMapping(aGenerated,aOriginal,aSource,aName){if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0&&!aOriginal&&!aSource&&!aName){return}else if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource){return}else{throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))}};SourceMapGenerator.prototype._serializeMappings=function SourceMapGenerator_serializeMappings(){var previousGeneratedColumn=0;var previousGeneratedLine=1;var previousOriginalColumn=0;var previousOriginalLine=0;var previousName=0;var previousSource=0;var result="";var mapping;var mappings=this._mappings.toArray();for(var i=0,len=mappings.length;i<len;i++){mapping=mappings[i];if(mapping.generatedLine!==previousGeneratedLine){previousGeneratedColumn=0;while(mapping.generatedLine!==previousGeneratedLine){result+=";";previousGeneratedLine++}}else{if(i>0){if(!util.compareByGeneratedPositions(mapping,mappings[i-1])){continue}result+=","}}result+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn);previousGeneratedColumn=mapping.generatedColumn;if(mapping.source!=null){result+=base64VLQ.encode(this._sources.indexOf(mapping.source)-previousSource);previousSource=this._sources.indexOf(mapping.source);result+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine);previousOriginalLine=mapping.originalLine-1;result+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn);previousOriginalColumn=mapping.originalColumn;if(mapping.name!=null){result+=base64VLQ.encode(this._names.indexOf(mapping.name)-previousName);previousName=this._names.indexOf(mapping.name)}}}return result};SourceMapGenerator.prototype._generateSourcesContent=function SourceMapGenerator_generateSourcesContent(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents){return null}if(aSourceRoot!=null){source=util.relative(aSourceRoot,source)}var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)};SourceMapGenerator.prototype.toJSON=function SourceMapGenerator_toJSON(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null){map.file=this._file}if(this._sourceRoot!=null){map.sourceRoot=this._sourceRoot}if(this._sourcesContents){map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)}return map};SourceMapGenerator.prototype.toString=function SourceMapGenerator_toString(){return JSON.stringify(this)};exports.SourceMapGenerator=SourceMapGenerator})},{"./array-set":7,"./base64-vlq":8,"./mapping-list":13,"./util":17,amdefine:2}],16:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator;var util=require("./util");var REGEX_NEWLINE=/(\r?\n)/;var NEWLINE_CODE=10;var isSourceNode="$$$isSourceNode$$$";function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[];this.sourceContents={};this.line=aLine==null?null:aLine;this.column=aColumn==null?null:aColumn;this.source=aSource==null?null:aSource;this.name=aName==null?null:aName;this[isSourceNode]=true;if(aChunks!=null)this.add(aChunks)}SourceNode.fromStringWithSourceMap=function SourceNode_fromStringWithSourceMap(aGeneratedCode,aSourceMapConsumer,aRelativePath){var node=new SourceNode;var remainingLines=aGeneratedCode.split(REGEX_NEWLINE);var shiftNextLine=function(){var lineContents=remainingLines.shift();var newLine=remainingLines.shift()||"";return lineContents+newLine};var lastGeneratedLine=1,lastGeneratedColumn=0;var lastMapping=null;aSourceMapConsumer.eachMapping(function(mapping){if(lastMapping!==null){if(lastGeneratedLine<mapping.generatedLine){var code="";addMappingWithCode(lastMapping,shiftNextLine());lastGeneratedLine++;lastGeneratedColumn=0}else{var nextLine=remainingLines[0];var code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);remainingLines[0]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn);lastGeneratedColumn=mapping.generatedColumn;addMappingWithCode(lastMapping,code);lastMapping=mapping;return}}while(lastGeneratedLine<mapping.generatedLine){node.add(shiftNextLine());lastGeneratedLine++}if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[0];node.add(nextLine.substr(0,mapping.generatedColumn));remainingLines[0]=nextLine.substr(mapping.generatedColumn);lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this);if(remainingLines.length>0){if(lastMapping){addMappingWithCode(lastMapping,shiftNextLine())}node.add(remainingLines.join(""))}aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){if(aRelativePath!=null){sourceFile=util.join(aRelativePath,sourceFile)}node.setSourceContent(sourceFile,content)}});return node;function addMappingWithCode(mapping,code){if(mapping===null||mapping.source===undefined){node.add(code)}else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}};SourceNode.prototype.add=function SourceNode_add(aChunk){if(Array.isArray(aChunk)){aChunk.forEach(function(chunk){this.add(chunk)},this)}else if(aChunk[isSourceNode]||typeof aChunk==="string"){if(aChunk){this.children.push(aChunk)}}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.prepend=function SourceNode_prepend(aChunk){if(Array.isArray(aChunk)){for(var i=aChunk.length-1;i>=0;i--){this.prepend(aChunk[i])}}else if(aChunk[isSourceNode]||typeof aChunk==="string"){this.children.unshift(aChunk)}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.walk=function SourceNode_walk(aFn){var chunk;for(var i=0,len=this.children.length;i<len;i++){chunk=this.children[i];if(chunk[isSourceNode]){chunk.walk(aFn)}else{if(chunk!==""){aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})}}}};SourceNode.prototype.join=function SourceNode_join(aSep){var newChildren;var i;var len=this.children.length;if(len>0){newChildren=[];for(i=0;i<len-1;i++){newChildren.push(this.children[i]);newChildren.push(aSep)}newChildren.push(this.children[i]);this.children=newChildren}return this};SourceNode.prototype.replaceRight=function SourceNode_replaceRight(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];if(lastChild[isSourceNode]){lastChild.replaceRight(aPattern,aReplacement)}else if(typeof lastChild==="string"){this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement)}else{this.children.push("".replace(aPattern,aReplacement))}return this};SourceNode.prototype.setSourceContent=function SourceNode_setSourceContent(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent};SourceNode.prototype.walkSourceContents=function SourceNode_walkSourceContents(aFn){for(var i=0,len=this.children.length;i<len;i++){if(this.children[i][isSourceNode]){this.children[i].walkSourceContents(aFn)}}var sources=Object.keys(this.sourceContents);for(var i=0,len=sources.length;i<len;i++){aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])}};SourceNode.prototype.toString=function SourceNode_toString(){var str="";this.walk(function(chunk){str+=chunk});return str};SourceNode.prototype.toStringWithSourceMap=function SourceNode_toStringWithSourceMap(aArgs){var generated={code:"",line:1,column:0};var map=new SourceMapGenerator(aArgs);var sourceMappingActive=false;var lastOriginalSource=null;var lastOriginalLine=null;var lastOriginalColumn=null;var lastOriginalName=null;this.walk(function(chunk,original){generated.code+=chunk;if(original.source!==null&&original.line!==null&&original.column!==null){if(lastOriginalSource!==original.source||lastOriginalLine!==original.line||lastOriginalColumn!==original.column||lastOriginalName!==original.name){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}lastOriginalSource=original.source;lastOriginalLine=original.line;lastOriginalColumn=original.column;lastOriginalName=original.name;sourceMappingActive=true}else if(sourceMappingActive){map.addMapping({generated:{line:generated.line,column:generated.column}});lastOriginalSource=null;sourceMappingActive=false}for(var idx=0,length=chunk.length;idx<length;idx++){if(chunk.charCodeAt(idx)===NEWLINE_CODE){generated.line++;generated.column=0;if(idx+1===length){lastOriginalSource=null;sourceMappingActive=false}else if(sourceMappingActive){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}}else{generated.column++}}});this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)});return{code:generated.code,map:map}};exports.SourceNode=SourceNode})},{"./source-map-generator":15,"./util":17,amdefine:2}],17:[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs){return aArgs[aName]}else if(arguments.length===3){return aDefaultValue}else{throw new Error('"'+aName+'" is a required argument.')}}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/;var dataUrlRegexp=/^data:.+\,.+$/;function urlParse(aUrl){var match=aUrl.match(urlRegexp);if(!match){return null}return{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}}exports.urlParse=urlParse;function urlGenerate(aParsedUrl){var url="";if(aParsedUrl.scheme){url+=aParsedUrl.scheme+":"}url+="//";if(aParsedUrl.auth){url+=aParsedUrl.auth+"@"}if(aParsedUrl.host){url+=aParsedUrl.host}if(aParsedUrl.port){url+=":"+aParsedUrl.port}if(aParsedUrl.path){url+=aParsedUrl.path}return url}exports.urlGenerate=urlGenerate;function normalize(aPath){var path=aPath;var url=urlParse(aPath);if(url){if(!url.path){return aPath}path=url.path}var isAbsolute=path.charAt(0)==="/";var parts=path.split(/\/+/);for(var part,up=0,i=parts.length-1;i>=0;i--){part=parts[i];if(part==="."){parts.splice(i,1)}else if(part===".."){up++}else if(up>0){if(part===""){parts.splice(i+1,up);up=0}else{parts.splice(i,2);up--}}}path=parts.join("/");if(path===""){path=isAbsolute?"/":"."}if(url){url.path=path;return urlGenerate(url)}return path}exports.normalize=normalize;function join(aRoot,aPath){if(aRoot===""){aRoot="."}if(aPath===""){aPath="."}var aPathUrl=urlParse(aPath);var aRootUrl=urlParse(aRoot);if(aRootUrl){aRoot=aRootUrl.path||"/"}if(aPathUrl&&!aPathUrl.scheme){if(aRootUrl){aPathUrl.scheme=aRootUrl.scheme}return urlGenerate(aPathUrl)}if(aPathUrl||aPath.match(dataUrlRegexp)){return aPath}if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path){aRootUrl.host=aPath;return urlGenerate(aRootUrl)}var joined=aPath.charAt(0)==="/"?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);if(aRootUrl){aRootUrl.path=joined;return urlGenerate(aRootUrl)}return joined}exports.join=join;function relative(aRoot,aPath){if(aRoot===""){aRoot="."}aRoot=aRoot.replace(/\/$/,"");var url=urlParse(aRoot);if(aPath.charAt(0)=="/"&&url&&url.path=="/"){return aPath.slice(1)}return aPath.indexOf(aRoot+"/")===0?aPath.substr(aRoot.length+1):aPath}exports.relative=relative;function toSetString(aStr){return"$"+aStr}exports.toSetString=toSetString;function fromSetString(aStr){return aStr.substr(1)}exports.fromSetString=fromSetString;function strcmp(aStr1,aStr2){var s1=aStr1||"";var s2=aStr2||"";return(s1>s2)-(s1<s2)}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp;cmp=strcmp(mappingA.source,mappingB.source);if(cmp){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp||onlyCompareOriginal){return cmp}cmp=strcmp(mappingA.name,mappingB.name);if(cmp){return cmp}cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp){return cmp}return mappingA.generatedColumn-mappingB.generatedColumn}exports.compareByOriginalPositions=compareByOriginalPositions;function compareByGeneratedPositions(mappingA,mappingB,onlyCompareGenerated){var cmp;cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp||onlyCompareGenerated){return cmp}cmp=strcmp(mappingA.source,mappingB.source);if(cmp){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp){return cmp}return strcmp(mappingA.name,mappingB.name)}exports.compareByGeneratedPositions=compareByGeneratedPositions})},{amdefine:2}],18:[function(require,module,exports){module.exports={_args:[["escodegen@^1.6.1","/var/www/ISOPHP/clients/mobile/node_modules/uniter"]],_from:"escodegen@>=1.6.1 <2.0.0",_id:"escodegen@1.8.1",_inCache:true,_installable:true,_location:"/escodegen",_nodeVersion:"6.3.0",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/escodegen-1.8.1.tgz_1470506723009_0.12818681285716593"},_npmUser:{
email:"npm@michael.ficarra.me",name:"michaelficarra"},_npmVersion:"3.10.3",_phantomChildren:{amdefine:"1.0.1"},_requested:{name:"escodegen",raw:"escodegen@^1.6.1",rawSpec:"^1.6.1",scope:null,spec:">=1.6.1 <2.0.0",type:"range"},_requiredBy:["/pausable","/uniter"],_resolved:"https://registry.npmjs.org/escodegen/-/escodegen-1.8.1.tgz",_shasum:"5a5b53af4693110bebb0867aa3430dd3b70a1018",_shrinkwrap:null,_spec:"escodegen@^1.6.1",_where:"/var/www/ISOPHP/clients/mobile/node_modules/uniter",bin:{escodegen:"./bin/escodegen.js",esgenerate:"./bin/esgenerate.js"},bugs:{url:"https://github.com/estools/escodegen/issues"},dependencies:{esprima:"^2.7.1",estraverse:"^1.9.1",esutils:"^2.0.2",optionator:"^0.8.1","source-map":"~0.2.0"},description:"ECMAScript code generator",devDependencies:{acorn:"^2.7.0",bluebird:"^2.3.11","bower-registry-client":"^0.2.1",chai:"^1.10.0","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^0.2.0","gulp-mocha":"^2.0.0",semver:"^5.1.0"},directories:{},dist:{shasum:"5a5b53af4693110bebb0867aa3430dd3b70a1018",tarball:"https://registry.npmjs.org/escodegen/-/escodegen-1.8.1.tgz"},engines:{node:">=0.12.0"},files:["LICENSE.BSD","LICENSE.source-map","README.md","bin","escodegen.js","package.json"],gitHead:"ba4faabb224b2d5e0080c8e4f964702b699c7d1f",homepage:"http://github.com/estools/escodegen",license:"BSD-2-Clause",main:"escodegen.js",maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"},{name:"michaelficarra",email:"npm@michael.ficarra.me"}],name:"escodegen",optionalDependencies:{"source-map":"~0.2.0"},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/estools/escodegen.git"},scripts:{build:"cjsify -a path: tools/entry-point.js > escodegen.browser.js","build-min":"cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",lint:"gulp lint",release:"node tools/release.js",test:"gulp travis","unit-test":"gulp test"},version:"1.8.1"}},{}],19:[function(require,module,exports){(function clone(exports){"use strict";var Syntax,isArray,VisitorOption,VisitorKeys,objectCreate,objectKeys,BREAK,SKIP,REMOVE;function ignoreJSHintError(){}isArray=Array.isArray;if(!isArray){isArray=function isArray(array){return Object.prototype.toString.call(array)==="[object Array]"}}function deepCopy(obj){var ret={},key,val;for(key in obj){if(obj.hasOwnProperty(key)){val=obj[key];if(typeof val==="object"&&val!==null){ret[key]=deepCopy(val)}else{ret[key]=val}}}return ret}function shallowCopy(obj){var ret={},key;for(key in obj){if(obj.hasOwnProperty(key)){ret[key]=obj[key]}}return ret}ignoreJSHintError(shallowCopy);function upperBound(array,func){var diff,len,i,current;len=array.length;i=0;while(len){diff=len>>>1;current=i+diff;if(func(array[current])){len=diff}else{i=current+1;len-=diff+1}}return i}function lowerBound(array,func){var diff,len,i,current;len=array.length;i=0;while(len){diff=len>>>1;current=i+diff;if(func(array[current])){i=current+1;len-=diff+1}else{len=diff}}return i}ignoreJSHintError(lowerBound);objectCreate=Object.create||function(){function F(){}return function(o){F.prototype=o;return new F}}();objectKeys=Object.keys||function(o){var keys=[],key;for(key in o){keys.push(key)}return keys};function extend(to,from){var keys=objectKeys(from),key,i,len;for(i=0,len=keys.length;i<len;i+=1){key=keys[i];to[key]=from[key]}return to}Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};VisitorKeys={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]};BREAK={};SKIP={};REMOVE={};VisitorOption={Break:BREAK,Skip:SKIP,Remove:REMOVE};function Reference(parent,key){this.parent=parent;this.key=key}Reference.prototype.replace=function replace(node){this.parent[this.key]=node};Reference.prototype.remove=function remove(){if(isArray(this.parent)){this.parent.splice(this.key,1);return true}else{this.replace(null);return false}};function Element(node,path,wrap,ref){this.node=node;this.path=path;this.wrap=wrap;this.ref=ref}function Controller(){}Controller.prototype.path=function path(){var i,iz,j,jz,result,element;function addToPath(result,path){if(isArray(path)){for(j=0,jz=path.length;j<jz;++j){result.push(path[j])}}else{result.push(path)}}if(!this.__current.path){return null}result=[];for(i=2,iz=this.__leavelist.length;i<iz;++i){element=this.__leavelist[i];addToPath(result,element.path)}addToPath(result,this.__current.path);return result};Controller.prototype.type=function(){var node=this.current();return node.type||this.__current.wrap};Controller.prototype.parents=function parents(){var i,iz,result;result=[];for(i=1,iz=this.__leavelist.length;i<iz;++i){result.push(this.__leavelist[i].node)}return result};Controller.prototype.current=function current(){return this.__current.node};Controller.prototype.__execute=function __execute(callback,element){var previous,result;result=undefined;previous=this.__current;this.__current=element;this.__state=null;if(callback){result=callback.call(this,element.node,this.__leavelist[this.__leavelist.length-1].node)}this.__current=previous;return result};Controller.prototype.notify=function notify(flag){this.__state=flag};Controller.prototype.skip=function(){this.notify(SKIP)};Controller.prototype["break"]=function(){this.notify(BREAK)};Controller.prototype.remove=function(){this.notify(REMOVE)};Controller.prototype.__initialize=function(root,visitor){this.visitor=visitor;this.root=root;this.__worklist=[];this.__leavelist=[];this.__current=null;this.__state=null;this.__fallback=null;if(visitor.fallback==="iteration"){this.__fallback=objectKeys}else if(typeof visitor.fallback==="function"){this.__fallback=visitor.fallback}this.__keys=VisitorKeys;if(visitor.keys){this.__keys=extend(objectCreate(this.__keys),visitor.keys)}};function isNode(node){if(node==null){return false}return typeof node==="object"&&typeof node.type==="string"}function isProperty(nodeType,key){return(nodeType===Syntax.ObjectExpression||nodeType===Syntax.ObjectPattern)&&"properties"===key}Controller.prototype.traverse=function traverse(root,visitor){var worklist,leavelist,element,node,nodeType,ret,key,current,current2,candidates,candidate,sentinel;this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;worklist.push(new Element(root,null,null,null));leavelist.push(new Element(null,null,null,null));while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();ret=this.__execute(visitor.leave,element);if(this.__state===BREAK||ret===BREAK){return}continue}if(element.node){ret=this.__execute(visitor.enter,element);if(this.__state===BREAK||ret===BREAK){return}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||ret===SKIP){continue}node=element.node;nodeType=node.type||element.wrap;candidates=this.__keys[nodeType];if(!candidates){if(this.__fallback){candidates=this.__fallback(node)}else{throw new Error("Unknown node type "+nodeType+".")}}current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(isArray(candidate)){current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if(isProperty(nodeType,candidates[current])){element=new Element(candidate[current2],[key,current2],"Property",null)}else if(isNode(candidate[current2])){element=new Element(candidate[current2],[key,current2],null,null)}else{continue}worklist.push(element)}}else if(isNode(candidate)){worklist.push(new Element(candidate,key,null,null))}}}}};Controller.prototype.replace=function replace(root,visitor){var worklist,leavelist,node,nodeType,target,element,current,current2,candidates,candidate,sentinel,outer,key;function removeElem(element){var i,key,nextElem,parent;if(element.ref.remove()){key=element.ref.key;parent=element.ref.parent;i=worklist.length;while(i--){nextElem=worklist[i];if(nextElem.ref&&nextElem.ref.parent===parent){if(nextElem.ref.key<key){break}--nextElem.ref.key}}}}this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;outer={root:root};element=new Element(root,null,null,new Reference(outer,"root"));worklist.push(element);leavelist.push(element);while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();target=this.__execute(visitor.leave,element);if(target!==undefined&&target!==BREAK&&target!==SKIP&&target!==REMOVE){element.ref.replace(target)}if(this.__state===REMOVE||target===REMOVE){removeElem(element)}if(this.__state===BREAK||target===BREAK){return outer.root}continue}target=this.__execute(visitor.enter,element);if(target!==undefined&&target!==BREAK&&target!==SKIP&&target!==REMOVE){element.ref.replace(target);element.node=target}if(this.__state===REMOVE||target===REMOVE){removeElem(element);element.node=null}if(this.__state===BREAK||target===BREAK){return outer.root}node=element.node;if(!node){continue}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||target===SKIP){continue}nodeType=node.type||element.wrap;candidates=this.__keys[nodeType];if(!candidates){if(this.__fallback){candidates=this.__fallback(node)}else{throw new Error("Unknown node type "+nodeType+".")}}current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(isArray(candidate)){current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if(isProperty(nodeType,candidates[current])){element=new Element(candidate[current2],[key,current2],"Property",new Reference(candidate,current2))}else if(isNode(candidate[current2])){element=new Element(candidate[current2],[key,current2],null,new Reference(candidate,current2))}else{continue}worklist.push(element)}}else if(isNode(candidate)){worklist.push(new Element(candidate,key,null,new Reference(node,key)))}}}return outer.root};function traverse(root,visitor){var controller=new Controller;return controller.traverse(root,visitor)}function replace(root,visitor){var controller=new Controller;return controller.replace(root,visitor)}function extendCommentRange(comment,tokens){var target;target=upperBound(tokens,function search(token){return token.range[0]>comment.range[0]});comment.extendedRange=[comment.range[0],comment.range[1]];if(target!==tokens.length){comment.extendedRange[1]=tokens[target].range[0]}target-=1;if(target>=0){comment.extendedRange[0]=tokens[target].range[1]}return comment}function attachComments(tree,providedComments,tokens){var comments=[],comment,len,i,cursor;if(!tree.range){throw new Error("attachComments needs range information")}if(!tokens.length){if(providedComments.length){for(i=0,len=providedComments.length;i<len;i+=1){comment=deepCopy(providedComments[i]);comment.extendedRange=[0,tree.range[0]];comments.push(comment)}tree.leadingComments=comments}return tree}for(i=0,len=providedComments.length;i<len;i+=1){comments.push(extendCommentRange(deepCopy(providedComments[i]),tokens))}cursor=0;traverse(tree,{enter:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(comment.extendedRange[1]>node.range[0]){break}if(comment.extendedRange[1]===node.range[0]){if(!node.leadingComments){node.leadingComments=[]}node.leadingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});cursor=0;traverse(tree,{leave:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(node.range[1]<comment.extendedRange[0]){break}if(node.range[1]===comment.extendedRange[0]){if(!node.trailingComments){node.trailingComments=[]}node.trailingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});return tree}exports.version=require("./package.json").version;exports.Syntax=Syntax;exports.traverse=traverse;exports.replace=replace;exports.attachComments=attachComments;exports.VisitorKeys=VisitorKeys;exports.VisitorOption=VisitorOption;exports.Controller=Controller;exports.cloneEnvironment=function(){return clone({})};return exports})(exports)},{"./package.json":20}],20:[function(require,module,exports){module.exports={_args:[["estraverse@^4.0.0","/var/www/ISOPHP/clients/mobile/node_modules/uniter"]],_from:"estraverse@>=4.0.0 <5.0.0",_id:"estraverse@4.2.0",_inCache:true,_installable:true,_location:"/estraverse",_nodeVersion:"0.12.9",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/estraverse-4.2.0.tgz_1457646738925_0.7118953282479197"},_npmUser:{email:"nicholas@nczconsulting.com",name:"nzakas"},_npmVersion:"2.14.9",_phantomChildren:{},_requested:{name:"estraverse",raw:"estraverse@^4.0.0",rawSpec:"^4.0.0",scope:null,spec:">=4.0.0 <5.0.0",type:"range"},_requiredBy:["/pausable","/uniter"],_resolved:"https://registry.npmjs.org/estraverse/-/estraverse-4.2.0.tgz",_shasum:"0dee3fed31fcd469618ce7342099fc1afa0bdb13",_shrinkwrap:null,_spec:"estraverse@^4.0.0",_where:"/var/www/ISOPHP/clients/mobile/node_modules/uniter",bugs:{url:"https://github.com/estools/estraverse/issues"},dependencies:{},description:"ECMAScript JS AST traversal functions",devDependencies:{"babel-preset-es2015":"^6.3.13","babel-register":"^6.3.13",chai:"^2.1.1",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},directories:{},dist:{shasum:"0dee3fed31fcd469618ce7342099fc1afa0bdb13",tarball:"https://registry.npmjs.org/estraverse/-/estraverse-4.2.0.tgz"},engines:{node:">=0.10.0"},gitHead:"6f6a4e99653908e859c7c10d04d9518bf4844ede",homepage:"https://github.com/estools/estraverse",license:"BSD-2-Clause",main:"estraverse.js",maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"},{name:"michaelficarra",email:"npm@michael.ficarra.me"},{name:"nzakas",email:"nicholas@nczconsulting.com"}],name:"estraverse",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/estools/estraverse.git"},scripts:{lint:"jshint estraverse.js",test:"npm run-script lint && npm run-script unit-test","unit-test":"mocha --compilers js:babel-register"},version:"4.2.0"}},{}],21:[function(require,module,exports){(function(){"use strict";function isExpression(node){if(node==null){return false}switch(node.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return true}return false}function isIterationStatement(node){if(node==null){return false}switch(node.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return true}return false}function isStatement(node){if(node==null){return false}switch(node.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return true}return false}function isSourceElement(node){return isStatement(node)||node!=null&&node.type==="FunctionDeclaration"}function trailingStatement(node){switch(node.type){case"IfStatement":if(node.alternate!=null){return node.alternate}return node.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return node.body}return null}function isProblematicIfStatement(node){var current;if(node.type!=="IfStatement"){return false}if(node.alternate==null){return false}current=node.consequent;do{if(current.type==="IfStatement"){if(current.alternate==null){return true}}current=trailingStatement(current)}while(current);return false}module.exports={isExpression:isExpression,isStatement:isStatement,isIterationStatement:isIterationStatement,isSourceElement:isSourceElement,isProblematicIfStatement:isProblematicIfStatement,trailingStatement:trailingStatement}})()},{}],22:[function(require,module,exports){(function(){"use strict";var ES6Regex,ES5Regex,NON_ASCII_WHITESPACES,IDENTIFIER_START,IDENTIFIER_PART,ch;ES5Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/};ES6Regex={
NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function isDecimalDigit(ch){return 48<=ch&&ch<=57}function isHexDigit(ch){return 48<=ch&&ch<=57||97<=ch&&ch<=102||65<=ch&&ch<=70}function isOctalDigit(ch){return ch>=48&&ch<=55}NON_ASCII_WHITESPACES=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&NON_ASCII_WHITESPACES.indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function fromCodePoint(cp){if(cp<=65535){return String.fromCharCode(cp)}var cu1=String.fromCharCode(Math.floor((cp-65536)/1024)+55296);var cu2=String.fromCharCode((cp-65536)%1024+56320);return cu1+cu2}IDENTIFIER_START=new Array(128);for(ch=0;ch<128;++ch){IDENTIFIER_START[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||ch===36||ch===95}IDENTIFIER_PART=new Array(128);for(ch=0;ch<128;++ch){IDENTIFIER_PART[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||ch>=48&&ch<=57||ch===36||ch===95}function isIdentifierStartES5(ch){return ch<128?IDENTIFIER_START[ch]:ES5Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES5(ch){return ch<128?IDENTIFIER_PART[ch]:ES5Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}function isIdentifierStartES6(ch){return ch<128?IDENTIFIER_START[ch]:ES6Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES6(ch){return ch<128?IDENTIFIER_PART[ch]:ES6Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}module.exports={isDecimalDigit:isDecimalDigit,isHexDigit:isHexDigit,isOctalDigit:isOctalDigit,isWhiteSpace:isWhiteSpace,isLineTerminator:isLineTerminator,isIdentifierStartES5:isIdentifierStartES5,isIdentifierPartES5:isIdentifierPartES5,isIdentifierStartES6:isIdentifierStartES6,isIdentifierPartES6:isIdentifierPartES6}})()},{}],23:[function(require,module,exports){(function(){"use strict";var code=require("./code");function isStrictModeReservedWordES6(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return true;default:return false}}function isKeywordES5(id,strict){if(!strict&&id==="yield"){return false}return isKeywordES6(id,strict)}function isKeywordES6(id,strict){if(strict&&isStrictModeReservedWordES6(id)){return true}switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function isReservedWordES5(id,strict){return id==="null"||id==="true"||id==="false"||isKeywordES5(id,strict)}function isReservedWordES6(id,strict){return id==="null"||id==="true"||id==="false"||isKeywordES6(id,strict)}function isRestrictedWord(id){return id==="eval"||id==="arguments"}function isIdentifierNameES5(id){var i,iz,ch;if(id.length===0){return false}ch=id.charCodeAt(0);if(!code.isIdentifierStartES5(ch)){return false}for(i=1,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(!code.isIdentifierPartES5(ch)){return false}}return true}function decodeUtf16(lead,trail){return(lead-55296)*1024+(trail-56320)+65536}function isIdentifierNameES6(id){var i,iz,ch,lowCh,check;if(id.length===0){return false}check=code.isIdentifierStartES6;for(i=0,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(55296<=ch&&ch<=56319){++i;if(i>=iz){return false}lowCh=id.charCodeAt(i);if(!(56320<=lowCh&&lowCh<=57343)){return false}ch=decodeUtf16(ch,lowCh)}if(!check(ch)){return false}check=code.isIdentifierPartES6}return true}function isIdentifierES5(id,strict){return isIdentifierNameES5(id)&&!isReservedWordES5(id,strict)}function isIdentifierES6(id,strict){return isIdentifierNameES6(id)&&!isReservedWordES6(id,strict)}module.exports={isKeywordES5:isKeywordES5,isKeywordES6:isKeywordES6,isReservedWordES5:isReservedWordES5,isReservedWordES6:isReservedWordES6,isRestrictedWord:isRestrictedWord,isIdentifierNameES5:isIdentifierNameES5,isIdentifierNameES6:isIdentifierNameES6,isIdentifierES5:isIdentifierES5,isIdentifierES6:isIdentifierES6}})()},{"./code":22}],24:[function(require,module,exports){(function(){"use strict";exports.ast=require("./ast");exports.code=require("./code");exports.keyword=require("./keyword")})()},{"./ast":21,"./code":22,"./keyword":23}],25:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];handler.apply(this,args)}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else{while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])ret=0;else if(isFunction(emitter._events[type]))ret=1;else ret=emitter._events[type].length;return ret};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],26:[function(require,module,exports){(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")}return factory(w)}}else{factory(global)}})(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var document=window.document;var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var version="2.2.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&realStringObj-parseFloat(realStringObj)+1>=0},isPlainObject:function(obj){var key;if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype||{},"isPrototypeOf")){return false}for(key in obj){}return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(callback.call(obj[i],i,obj[i])===false){break}}}else{for(i in obj){if(callback.call(obj[i],i,obj[i])===false){break}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArrayLike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]}jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj}var Sizzle=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536
;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}if(!seed){if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if(m=match[1]){if(nodeType===9){if(elem=context.getElementById(m)){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nodeType!==1){newContext=context;newSelector=selector}else if(context.nodeName.toLowerCase()!=="object"){if(nid=context.getAttribute("id")){nid=nid.replace(rescape,"\\$&")}else{context.setAttribute("id",nid=expando)}groups=tokenize(selector);i=groups.length;nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";while(i--){groups[i]=nidselect+" "+toSelector(groups[i])}newSelector=groups.join(",");newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(nid===expando){context.removeAttribute("id")}}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return cache[key+" "]=value}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if((parent=document.defaultView)&&parent.top!==parent){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false)}else if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(document.createComment(""));return!div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(document.querySelectorAll)){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return document};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=false;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex}if(diff===false){while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff]}if(node===elem){break}}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang")){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},parent:function(elem){return!Expr.pseudos["empty"](elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if((oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}else{uniqueCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1,len=elems.length;if(outermost){outermostContext=context===document||context||outermost}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!==document){setDocument(elem);xml=!documentIsHTML}while(matcher=elementMatchers[j++]){if(matcher(elem,context||document,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched};var siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n)}}return matched};var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector){return this}root=root||rootjQuery;if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||root).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return root.ready!==undefined?root.ready(selector):selector(jQuery)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({
has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched)}if(this.length>1){if(!guaranteedUnique[name]){jQuery.uniqueSort(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});var rnotwhite=/\S+/g;function createOptions(options){var object={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=options.once;fired=firing=true;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){if(list[firingIndex].apply(memory[0],memory[1])===false&&options.stopOnFalse){firingIndex=list.length;memory=false}}}if(!options.memory){memory=false}firing=false;if(locked){if(memory){list=[]}else{list=""}}},self={add:function(){if(list){if(memory&&!firing){firingIndex=list.length-1;queue.push(memory)}(function add(args){jQuery.each(args,function(_,arg){if(jQuery.isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&jQuery.type(arg)!=="string"){add(arg)}})})(arguments);if(memory&&!firing){fire()}}return this},remove:function(){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(index<=firingIndex){firingIndex--}}});return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){if(list){list=[]}return this},disable:function(){locked=queue=[];list=memory="";return this},disabled:function(){return!list},lock:function(){locked=queue=[];if(!memory){list=memory=""}return this},locked:function(){return!!locked},fireWith:function(context,args){if(!locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire()}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject)}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll){window.setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed)}}return readyList.promise(obj)};jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){access(elems,fn,i,key[i],true,emptyGet,raw)}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};var acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!+owner.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1;Data.prototype={register:function(owner,initial){var value=initial||{};if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,writable:true,configurable:true})}return owner[this.expando]},cache:function(owner){if(!acceptData(owner)){return{}}var value=owner[this.expando];if(!value){value={};if(acceptData(owner)){if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,configurable:true})}}}return value},set:function(owner,data,value){var prop,cache=this.cache(owner);if(typeof data==="string"){cache[data]=value}else{for(prop in data){cache[prop]=data[prop]}}return cache},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;if(key===undefined||key&&typeof key==="string"&&value===undefined){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==undefined?value:key},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(cache===undefined){return}if(key===undefined){this.register(owner)}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:name.match(rnotwhite)||[]}}i=name.length;while(i--){delete cache[name[i]]}}if(key===undefined||jQuery.isEmptyObject(cache)){if(owner.nodeType){owner[this.expando]=undefined}else{delete owner[this.expando]}}},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data;var dataUser=new Data;var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}dataUser.set(elem,key,data)}else{data=undefined}}return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}dataPriv.set(elem,"hasDataAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){dataUser.set(this,key)})}return access(this,function(value){var data,camelKey;if(elem&&value===undefined){data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase());if(data!==undefined){return data}camelKey=jQuery.camelCase(key);data=dataUser.get(elem,camelKey);if(data!==undefined){return data}data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data}return}camelKey=jQuery.camelCase(key);this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value);if(key.indexOf("-")>-1&&data!==undefined){dataUser.set(this,key,value)}})},null,value,arguments.length>1,null,true)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=dataPriv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=dataPriv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i");var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3];valueParts=valueParts||[];initialInUnit=+initial||1;do{scale=scale||".5";initialInUnit=initialInUnit/scale;jQuery.style(elem,prop,initialInUnit+unit)}while(scale!==(scale=currentValue()/initial)&&scale!==1&&--maxIterations)}if(valueParts){initialInUnit=+initialInUnit||+initial||0;adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted}}return adjusted}var rcheckableType=/^(?:checkbox|radio)$/i;var rtagName=/<([\w:-]+)/;var rscriptType=/^$|\/(?:java|ecma)script/i;var wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var ret=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!=="undefined"?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}}var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}}}fragment.textContent="";i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)>-1){if(ignored){ignored.push(elem)}continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}return fragment}(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue})();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){on(elem,type,selector,data,types[type],one)}return elem}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return elem}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){dataPriv.remove(elem,"handle events")}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.rnamespace||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(event.type!=="click"||isNaN(event.button)||event.button<1)){for(;cur!==this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:("altKey bubbles cancelable ctrlKey currentTarget detail eventPhase "+"metaKey relatedTarget shiftKey target timeStamp view which").split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:("button buttons clientX clientY offsetX offsetY pageX pageY "+"screenX screenY toElement").split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(event.target.nodeType===3){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return}if(dataPriv.hasData(src)){pdataOld=dataPriv.access(src);pdataCur=dataPriv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur)}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value)){return collection.each(function(index){var self=collection.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}domManip(self,args,callback,ignored)})}if(l){fragment=buildFragment(args,collection[0].ownerDocument,false,collection,ignored);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(collection[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""))}}}}}}return collection}function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++){if(!keepData&&node.nodeType===1){jQuery.cleanData(getAll(node))}if(node.parentNode){if(keepData&&jQuery.contains(node.ownerDocument,node)){setGlobalEval(getAll(node,"script"))}node.parentNode.removeChild(node)}}return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}return clone},cleanData:function(elems){
var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}elem[dataPriv.expando]=undefined}if(elem[dataUser.expando]){elem[dataUser.expando]=undefined}}}}});jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,true)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value}})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent=""}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;if(jQuery.inArray(this,ignored)<0){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this)}}},ignored)}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}var rmargin=/^margin/;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window}return view.getComputedStyle(elem)};var swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var documentElement=document.documentElement;(function(){var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;"+"padding:0;margin-top:1px;position:absolute";container.appendChild(div);function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;"+"position:relative;display:block;"+"margin:auto;border:1px;padding:1px;"+"top:1%;width:50%";div.innerHTML="";documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%";reliableMarginLeftVal=divStyle.marginLeft==="2px";boxSizingReliableVal=divStyle.width==="4px";div.style.marginRight="50%";pixelMarginRightVal=divStyle.marginRight==="4px";documentElement.removeChild(container)}jQuery.extend(support,{pixelPosition:function(){computeStyleTests();return pixelPositionVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computeStyleTests()}return boxSizingReliableVal},pixelMarginRight:function(){if(boxSizingReliableVal==null){computeStyleTests()}return pixelMarginRightVal},reliableMarginLeft:function(){if(boxSizingReliableVal==null){computeStyleTests()}return reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;"+"display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";documentElement.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight);documentElement.removeChild(container);div.removeChild(marginDiv);return ret}})})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:undefined;if((ret===""||ret===undefined)&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(computed){if(!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;function vendorPropName(name){if(name in emptyStyle){return name}var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name}}}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=dataPriv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{float:"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);type="number"}if(value==null||value!==value){return}if(type==="number"){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||isFinite(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles);if(subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"){elem.style[name]=value;value=jQuery.css(elem,name)}return setPositiveNumber(elem,value,subtract)}}});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.nodeType===1&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){window.setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block"}}if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden}}else{dataShow=dataPriv.access(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;dataPriv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(jQuery.isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)}return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween}]},tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.match(rnotwhite)}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback)}},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){if(prepend){Animation.prefilters.unshift(callback)}else{Animation.prefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||dataPriv.get(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){window.clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t"})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:undefined)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return}if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}elem.setAttribute(name,value+"");return value}if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=false}elem.removeAttribute(name)}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return}if(nType!==1||!jQuery.isXMLDoc(elem)){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}return elem[name]=value}if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}return elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null},set:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))})}if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while(clazz=classes[j++]){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue)}}}}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))})}if(!arguments.length){return this.attr("class","")}if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while(clazz=classes[j++]){while(cur.indexOf(" "+clazz+" ")>-1){cur=cur.replace(" "+clazz+" "," ")}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue)}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)})}return this.each(function(){var className,i,self,classNames;if(type==="string"){i=0;self=jQuery(this);classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(value===undefined||type==="boolean"){className=getClass(this);if(className){dataPriv.set(this,"__className__",className)}if(this.setAttribute){this.setAttribute("class",className||value===false?"":dataPriv.get(this,"__className__")||"")}}})},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while(elem=this[i++]){if(elem.nodeType===1&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){
val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ")}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1){optionSet=true}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true});jQuery.event.trigger(e,null,elem)}});jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});support.focusin="onfocusin"in window;if(!support.focusin){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);dataPriv.remove(doc,fix)}else{dataPriv.access(doc,fix,attaches)}}}})}var location=window.location;var nonce=jQuery.now();var rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")};jQuery.parseXML=function(data){var xml;if(!data||typeof data!=="string"){return null}try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=undefined}if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href;function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(conv!==true){if(conv&&s.throws){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url;urlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!==urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=true}}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(state===2){return jqXHR}if(s.async&&s.timeout>0){timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){window.clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,throws:true})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)};jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"&&v!=null?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null;if(type==="abort"){xhr.abort()}else if(type==="error"){if(typeof xhr.status!=="number"){complete(0,"error")}else{complete(xhr.status,xhr.statusText)}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,(xhr.responseType||"text")!=="text"||typeof xhr.responseText!=="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders())}}}};xhr.onload=callback();errorCallback=xhr.onerror=callback("error");if(xhr.onabort!==undefined){xhr.onabort=errorCallback}else{xhr.onreadystatechange=function(){if(xhr.readyState===4){window.setTimeout(function(){if(callback){errorCallback()}})}}}callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET"}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){if(overwritten===undefined){jQuery(window).removeProp(callbackName)}else{window[callbackName]=overwritten}if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,type,response,self=this,off=url.indexOf(" ");if(off>-1){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}if(self.length>0){jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,jQuery.extend({},curOffset))}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}box=elem.getBoundingClientRect();win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.offsetParent}return offsetParent||documentElement})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset)}else{elem[method]=val}},method,val,arguments.length)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}});jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(!noGlobal){window.jQuery=window.$=jQuery}return jQuery})},{}],27:[function(require,module,exports){"use strict";var each=require("./src/each"),escapeRegExp=require("./src/escapeRegExp"),extend=require("./src/extend"),filter=require("./src/filter"),forOwn=require("./src/forOwn"),isArray=require("./src/isArray"),isBoolean=require("./src/isBoolean"),isFunction=require("./src/isFunction"),isNumber=require("./src/isNumber"),isPlainObject=require("./src/isPlainObject"),isString=require("./src/isString"),map=require("./src/map");module.exports={each:each,escapeRegExp:escapeRegExp,extend:extend,filter:filter,forOwn:forOwn,isArray:isArray,isBoolean:isBoolean,isFunction:isFunction,isNumber:isNumber,isPlainObject:isPlainObject,isString:isString,map:map}},{"./src/each":28,"./src/escapeRegExp":29,"./src/extend":30,"./src/filter":31,"./src/forOwn":32,"./src/isArray":34,"./src/isBoolean":35,"./src/isFunction":36,"./src/isNumber":37,"./src/isPlainObject":38,"./src/isString":39,"./src/map":40}],28:[function(require,module,exports){"use strict";var hasOwn={}.hasOwnProperty,isArray=require("./isArray");module.exports=function(object,iterator,thisArg){var key,length;if(!object){return}if(isArray(object)||hasOwn.call(object,"length")){for(key=0,length=object.length;key<length;key++){if(iterator.call(thisArg,object[key],key,object)===false){break}}return}for(key in object){if(hasOwn.call(object,key)){if(iterator.call(thisArg,object[key],key,object)===false){break}}}}},{"./isArray":34}],29:[function(require,module,exports){"use strict";var REGEX=/[|\\{}()[\]^$+*?.]/g;module.exports=function(string){if(typeof string!=="string"){throw new TypeError("Expected a string")}return string.replace(REGEX,"\\$&")}},{}],30:[function(require,module,exports){"use strict";var each=require("./each"),forOwn=require("./forOwn");module.exports=function(object){var sources=[].slice.call(arguments,1);each(sources,function(source){forOwn(source,function(value,key){object[key]=value})});return object}},{"./each":28,"./forOwn":32}],31:[function(require,module,exports){"use strict";var each=require("./each");module.exports=function(collection,iteratee,thisArg){var result=[];each(collection,function(value,key){if(iteratee.call(thisArg,value,key,collection)){result.push(value)}});return result}},{"./each":28}],32:[function(require,module,exports){"use strict";var hasOwn={}.hasOwnProperty;module.exports=function(object,iterator,thisArg){var key;for(key in object){if(hasOwn.call(object,key)){if(iterator.call(thisArg,object[key],key,object)===false){break}}}}},{}],33:[function(require,module,exports){"use strict";var REGEX=/\[object ([^\]]+)\]/;module.exports=function(object){return{}.toString.call(object).match(REGEX)[1]}},{}],34:[function(require,module,exports){"use strict";var getType=require("./getType");module.exports=function(object){return getType(object)==="Array"}},{"./getType":33}],35:[function(require,module,exports){"use strict";var getType=require("./getType");module.exports=function(object){return getType(object)==="Boolean"}},{"./getType":33}],36:[function(require,module,exports){"use strict";var getType=require("./getType");module.exports=function(object){return getType(object)==="Function"}},{"./getType":33}],
37:[function(require,module,exports){"use strict";var getType=require("./getType");module.exports=function(object){return getType(object)==="Number"}},{"./getType":33}],38:[function(require,module,exports){"use strict";var getType=require("./getType");module.exports=function(object){return getType(object)==="Object"}},{"./getType":33}],39:[function(require,module,exports){"use strict";var getType=require("./getType");module.exports=function(object){return getType(object)==="String"}},{"./getType":33}],40:[function(require,module,exports){"use strict";var each=require("./each");module.exports=function(collection,iteratee,thisArg){var result=[];each(collection,function(value,key){result[key]=iteratee.call(thisArg,value,key,collection)});return result}},{"./each":28}],41:[function(require,module,exports){"use strict";var Parser=require("./src/Parser"),Parsing=require("./src/Parsing");module.exports=new Parsing(Parser)},{"./src/Parser":45,"./src/Parsing":46}],42:[function(require,module,exports){"use strict";var _=require("microdash"),copy=require("./copy"),getColumnNumber=require("./getColumnNumber"),getLineNumber=require("./getLineNumber"),undef;function Component(parser,matchCache,qualifierName,qualifier,arg,args,name,captureOffsetAs){this.arg=arg;this.args=args;this.captureOffsetAs=args.captureOffsetAs||captureOffsetAs;this.matchCache=matchCache;this.name=name;this.parser=parser;this.qualifier=qualifier;this.qualifierName=qualifierName}_.extend(Component.prototype,{getOffsetCaptureName:function(){return this.captureOffsetAs},match:function(text,offset,options){var component=this,match=component.matchCache[offset],subMatch;if(match!==undef){return match}subMatch=component.qualifier(text,offset,component.arg,component.args,options);if(subMatch===null){component.matchCache[offset]=null;return null}if(options.ignoreWhitespace!==false){component.parser.logFurthestMatch(subMatch,offset+subMatch.textOffset)}else{component.parser.logFurthestIgnoreMatch(subMatch,offset+subMatch.textOffset)}if(component.name!==null||component.args.allowMerge===false||component.args.captureOffsetAs){match=createSubMatch(text,subMatch,component,offset)}else{if(_.isArray(subMatch.components)){match=mergeCaptures(subMatch,component,text,offset)}else{match=subMatch}}component.matchCache[offset]=match;return match}});function allElementsAreStrings(array){var allStrings=true;_.each(array,function(element){if(!_.isString(element)){allStrings=false;return false}});return allStrings}function mergeCaptures(subMatch,component,text,offset){var match;if(allElementsAreStrings(subMatch.components)){match={components:subMatch.components.join(""),textLength:subMatch.textLength}}else{match={components:{},textLength:subMatch.textLength};_.each(subMatch.components,function(value){if(_.isPlainObject(value)){copy(match.components,value)}});if(component.captureOffsetAs&&subMatch.components.length>1){match.components[component.captureOffsetAs]={length:subMatch.textLength,line:getLineNumber(text,offset+subMatch.textOffset),column:getColumnNumber(text,offset+subMatch.textOffset),offset:offset+subMatch.textOffset}}}if(subMatch.name){match.components.name=subMatch.name}match.textOffset=subMatch.textOffset;return match}function createSubMatch(text,subMatch,component,offset){var match={components:{},isEmpty:subMatch.isEmpty||false,textLength:subMatch.textLength,textOffset:subMatch.textOffset};if(subMatch.name){match.components.name=subMatch.name}if(component.name!==null){match.components[component.name]=subMatch.components}if(component.captureOffsetAs){(function(offset){match.components[component.captureOffsetAs]={length:subMatch.textLength,line:getLineNumber(text,offset),column:getColumnNumber(text,offset),offset:offset}})(offset+match.textOffset)}return match}module.exports=Component},{"./copy":48,"./getColumnNumber":49,"./getLineNumber":50,microdash:27}],43:[function(require,module,exports){"use strict";var _=require("microdash"),util=require("util");function Exception(message){this.message=message}util.inherits(Exception,Error);_.extend(Exception.prototype,{type:"Exception",getMessage:function(){return this.message}});module.exports=Exception},{microdash:27,util:172}],44:[function(require,module,exports){"use strict";var _=require("microdash"),getLineNumber=require("../getLineNumber"),util=require("util"),Exception=require("./Exception");function ParseException(message,text,furthestMatch,furthestMatchOffset,furthestIgnoreMatch,furthestIgnoreMatchOffset){Exception.call(this,message);this.furthestIgnoreMatch=furthestIgnoreMatch;this.furthestIgnoreMatchOffset=furthestIgnoreMatchOffset;this.furthestMatch=furthestMatch;this.furthestMatchOffset=furthestMatchOffset;this.text=text}util.inherits(ParseException,Exception);_.extend(ParseException.prototype,{getFurthestMatchEnd:function(){var exception=this;if(exception.furthestIgnoreMatchOffset>exception.furthestMatchOffset){return exception.furthestIgnoreMatchOffset+exception.furthestIgnoreMatch.textLength}return exception.furthestMatchOffset+exception.furthestMatch.textLength},getLineNumber:function(){var exception=this;return getLineNumber(exception.text,exception.getFurthestMatchEnd())},getText:function(){return this.text},unexpectedEndOfInput:function(){var exception=this;return exception.getFurthestMatchEnd()===exception.text.length}});module.exports=ParseException},{"../getLineNumber":50,"./Exception":43,microdash:27,util:172}],45:[function(require,module,exports){"use strict";var _=require("microdash"),hasOwn={}.hasOwnProperty,Component=require("./Component"),Exception=require("./Exception/Exception"),ParseException=require("./Exception/Parse"),Rule=require("./Rule");function Parser(grammarSpec,stderr,options){options=options||{};this.errorHandler=null;this.furthestIgnoreMatch=null;this.furthestIgnoreMatchOffset=-1;this.furthestMatch=null;this.furthestMatchOffset=-1;this.grammarSpec=grammarSpec;this.matchCaches=[];this.options=options;this.rules=null;this.state=null;this.stderr=stderr;(function(parser){function anchorRegex(regex){if(regex.source.charAt(0)!=="^"){regex=new RegExp("^(?:"+regex.source+")",regex.toString().match(/[^\/]*$/)[0])}return regex}function createMatchCache(){var matchCache={};parser.matchCaches.push(matchCache);return matchCache}var qualifiers={allOf:function(text,offset,arg,args,options){var matches=[],textLength=0,textOffset=null;_.each(arg,function(component){var componentMatch=component.match(text,offset+(textOffset||0)+textLength,options);if(componentMatch===null){matches=null;return false}textLength+=componentMatch.textLength;matches.push(componentMatch.components);if(textOffset===null){if(!componentMatch.isEmpty){textOffset=componentMatch.textOffset}}else{textLength+=componentMatch.textOffset}});return matches?{components:matches,textLength:textLength,textOffset:textOffset||0}:null},oneOf:function(text,offset,arg,args,options){var match=null;_.each(arg,function(component){var componentMatch=component.match(text,offset,options);if(componentMatch!==null){match=componentMatch;return false}});return match},oneOrMoreOf:function(text,offset,arg,args,options){var componentMatch,matches=[],textLength=0,textOffset=null;while((componentMatch=arg.match(text,offset+(textOffset||0)+textLength,options))!==null){textLength+=componentMatch.textLength;matches.push(componentMatch.components);if(textOffset===null){textOffset=componentMatch.textOffset}else{textLength+=componentMatch.textOffset}}return matches.length>0?{components:matches,textLength:textLength,textOffset:textOffset||0}:null},optionally:function(text,offset,arg,args,options){var match=arg.match(text,offset,options);if(match){if(args.wrapInArray){return{components:[match.components],textLength:match.textLength,textOffset:match.textOffset}}return match}return{isEmpty:true,components:args.wrapInArray?[]:"",textLength:0,textOffset:0}},rule:function(text,offset,arg,args,options){var expectedText=hasOwn.call(args,"text")?args.text:null,match=arg.match(text,offset,options);if(match===null){return null}return expectedText===null||text.substr(offset+match.textOffset,match.textLength)===expectedText?match:null},what:function(text,offset,arg,args,options){var captureIndex,match,result,whitespaceLength=0;function skipWhitespace(){var match;if(parser.ignoreRule&&options.ignoreWhitespace!==false&&args.ignoreWhitespace!==false){while(match=parser.ignoreRule.match(text,offset+whitespaceLength,{ignoreWhitespace:false})){whitespaceLength+=match.textLength}}}function replace(string){if(args.replace){_.each(args.replace,function(data){string=string.replace(data.pattern,data.replacement)})}return string}if(_.isString(arg)){skipWhitespace();if(text.substr(offset+whitespaceLength,arg.length)===arg){return{components:arg,textLength:arg.length,textOffset:whitespaceLength}}}else if(arg instanceof RegExp){skipWhitespace();match=text.substr(offset+whitespaceLength).match(arg);if(match){captureIndex=args.captureIndex||0;return{components:replace(match[captureIndex]),textLength:match[0].length,textOffset:whitespaceLength}}}else if(arg instanceof Component){result=arg.match(text,offset,options);if(_.isString(result)){result=replace(result)}else if(result&&_.isString(result.components)){result.components=replace(result.components)}return result}else if(_.isFunction(arg)){skipWhitespace();return arg(text,offset,whitespaceLength,options)}else{throw new Exception('Parser "what" qualifier :: Invalid argument "'+arg+'"')}return null},zeroOrMoreOf:function(text,offset,arg,args,options){var componentMatch,matches=[],textLength=0,textOffset=null;while(componentMatch=arg.match(text,offset+(textOffset||0)+textLength,options)){textLength+=componentMatch.textLength;matches.push(componentMatch.components);if(textOffset===null){textOffset=componentMatch.textOffset}else{textLength+=componentMatch.textOffset}}return{components:matches,textLength:textLength,textOffset:textOffset||0}}},originalRules={},rules={};rules["<BOF>"]=new Rule(parser,"<BOF>",null,null);rules["<BOF>"].setComponent(new Component(parser,createMatchCache(),"what",qualifiers.what,function(text,offset,textOffset){return offset===0?{components:"",textLength:0,textOffset:textOffset}:null},{},null));rules["<EOF>"]=new Rule(parser,"<EOF>",null,null);rules["<EOF>"].setComponent(new Component(parser,createMatchCache(),"what",qualifiers.what,function(text,offset,textOffset){return offset+textOffset===text.length?{components:"",textLength:0,textOffset:textOffset}:null},{},null));function createRule(ruleSpec,name){return new Rule(parser,name,ruleSpec.captureAs||null,ruleSpec.ifNoMatch||null,ruleSpec.processor||null,ruleSpec.options||null)}_.each(grammarSpec.rules,function(ruleSpec,name){var rule=createRule(ruleSpec,name);originalRules[name]=rule;rules[name]=rule});_.each(options.rules||{},function(ruleSpec,name){rules[name]=createRule(ruleSpec,name)});function defineRule(ruleSpec,ruleName,rules,selfReferencingRuleMap){function createComponent(componentSpec){var arg,args={},name=null,qualifierName=null;if(_.isArray(componentSpec)){qualifierName="allOf";arg=[];_.each(componentSpec,function(componentSpec,index){arg[index]=createComponent(componentSpec)})}else if(_.isString(componentSpec)){qualifierName="rule";arg=rules[componentSpec];if(!arg){throw new Exception('Parser :: Invalid component - no rule with name "'+componentSpec+'" exists')}}else if(componentSpec instanceof RegExp){componentSpec=anchorRegex(componentSpec);qualifierName="what";arg=componentSpec}else if(_.isPlainObject(componentSpec)){_.each(qualifiers,function(qualifier,name){var value;if(hasOwn.call(componentSpec,name)){value=componentSpec[name];qualifierName=name;if(qualifierName==="oneOf"){arg=[];_.each(value,function(value,index){arg[index]=createComponent(value)})}else if(qualifierName==="optionally"){arg=createComponent(value)}else{arg=value instanceof RegExp?anchorRegex(value):createComponent(value)}return false}});if(!qualifierName){if(Object.keys(componentSpec).length!==1){throw new Exception("Parser :: Invalid component - no valid qualifier referenced by spec: "+JSON.stringify(componentSpec))}(function(){var name=Object.keys(componentSpec)[0];qualifierName="rule";arg=rules[name];if(!arg){throw new Exception('Parser :: Invalid component - no rule with name "'+name+'" exists')}args.text=componentSpec[name]})()}_.each(componentSpec,function(value,name){if(name!==qualifierName&&name!=="name"){args[name]=value}});if(hasOwn.call(componentSpec,"name")){name=componentSpec.name}}else{throw new Exception('Parser :: Invalid componentSpec "'+componentSpec+'" specified')}if(qualifierName==="rule"&&arg.name===ruleName&&hasOwn.call(selfReferencingRuleMap,ruleName)){arg=selfReferencingRuleMap[ruleName]}if(!qualifiers[qualifierName]){throw new Exception('Parser :: Invalid component - qualifier name "'+qualifierName+'" is invalid')}return new Component(parser,createMatchCache(),qualifierName,qualifiers[qualifierName],arg,args,name,parser.options.captureAllOffsets?grammarSpec.offsets||"offset":null)}rules[ruleName].setComponent(createComponent(ruleSpec.components||ruleSpec))}_.each(grammarSpec.rules,function(ruleSpec,ruleName){if(hasOwn.call(options.rules||{},ruleName)){defineRule(ruleSpec,ruleName,originalRules,rules);return}defineRule(ruleSpec,ruleName,rules,rules)});_.each(options.rules||{},function(ruleSpec,ruleName){defineRule(ruleSpec,ruleName,rules,originalRules)});parser.rules=rules;parser.ignoreRule=rules[grammarSpec.ignore]||null;parser.startRule=rules[grammarSpec.start]})(this)}_.extend(Parser.prototype,{clearMatchCache:function(){_.each(this.matchCaches,function(matchCache){_.each(matchCache,function(value,name){delete matchCache[name]})})},getErrorHandler:function(){var parser=this;if(!parser.errorHandler&&parser.grammarSpec.ErrorHandler){parser.errorHandler=new parser.grammarSpec.ErrorHandler(parser.stderr,parser.getState())}return parser.errorHandler},getState:function(){var parser=this;if(!parser.state&&parser.grammarSpec.State){parser.state=new parser.grammarSpec.State}return parser.state},logFurthestIgnoreMatch:function(match,offset){var parser=this;if(offset>=parser.furthestIgnoreMatchOffset&&match.textLength>0){parser.furthestIgnoreMatch=match;parser.furthestIgnoreMatchOffset=offset}},logFurthestMatch:function(match,offset){var parser=this;if(offset>=parser.furthestMatchOffset&&match.textLength>0){parser.furthestMatch=match;parser.furthestMatchOffset=offset}},parse:function(text,options,startRule){var parser=this,errorHandler=parser.getErrorHandler(),rule=startRule?parser.rules[startRule]:parser.startRule,match;parser.clearMatchCache();parser.furthestIgnoreMatch=null;parser.furthestIgnoreMatchOffset=-1;parser.furthestMatch=null;parser.furthestMatchOffset=-1;match=rule.match(text,0,options);if(errorHandler&&(match===null||match.textLength<text.length)){errorHandler.handle(new ParseException("Parser.parse() :: Unexpected "+(match?'"'+text.charAt(match.textLength)+'"':"$end"),text,parser.furthestMatch,parser.furthestMatchOffset,parser.furthestIgnoreMatch,parser.furthestIgnoreMatchOffset))}return match!==null?match.components:null}});module.exports=Parser},{"./Component":42,"./Exception/Exception":43,"./Exception/Parse":44,"./Rule":47,microdash:27}],46:[function(require,module,exports){"use strict";var _=require("microdash");function Parsing(Parser){this.Parser=Parser}_.extend(Parsing.prototype,{create:function(grammarSpec,stderr,options){return new this.Parser(grammarSpec,stderr,options)}});module.exports=Parsing},{microdash:27}],47:[function(require,module,exports){"use strict";var _=require("microdash"),copy=require("./copy");function Rule(parser,name,captureName,ifNoMatch,processor,options){this.captureName=captureName;this.component=null;this.ifNoMatch=ifNoMatch;this.name=name;this.options=options;this.parser=parser;this.processor=processor}_.extend(Rule.prototype,{match:function(text,offset,options){var capturedOffset,component,rule=this,match;options=options||{};match=rule.component.match(text,offset,options);if(match===null){return null}if(typeof match.components==="object"){copy(match.components,rule.options)}if(rule.ifNoMatch&&(!(component=match.components[rule.ifNoMatch.component])||component.length===0)){match={components:match.components[rule.ifNoMatch.capture],textOffset:match.textOffset,textLength:match.textLength}}else{if(!_.isString(match.components)&&!match.components.name){match.components.name=rule.captureName||rule.name}}if(rule.processor){if(rule.component.getOffsetCaptureName()){capturedOffset=match.components[rule.component.getOffsetCaptureName()]}match.components=rule.processor(match.components,function(text,options,startRule){var reentrantMatch=rule.parser.parse(text,options,startRule);rule.parser.clearMatchCache();return reentrantMatch});if(rule.component.getOffsetCaptureName()){match.components[rule.component.getOffsetCaptureName()]=capturedOffset}}return match},setComponent:function(component){this.component=component}});module.exports=Rule},{"./copy":48,microdash:27}],48:[function(require,module,exports){"use strict";var hasOwn={}.hasOwnProperty;function copy(to,from){var key;for(key in from){if(hasOwn.call(from,key)){to[key]=from[key]}}}module.exports=copy},{}],49:[function(require,module,exports){"use strict";var regex=/[\s\S]*^/m;function getColumnNumber(text,offset){return text.substr(0,offset).replace(regex,"").length+1}module.exports=getColumnNumber},{}],50:[function(require,module,exports){"use strict";function getLineNumber(text,offset){function getCount(string,substring){return string.split(substring).length}return getCount(text.substr(0,offset),"\n")}module.exports=getLineNumber},{}],51:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require("_process"))},{_process:160}],52:[function(require,module,exports){"use strict";var Resumable=require("./src/Resumable"),Transpiler=require("./src/Transpiler");module.exports=new Resumable(new Transpiler)},{"./src/Resumable":71,"./src/Transpiler":91}],53:[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.acorn=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var pp=_state.Parser.prototype;pp.checkPropClash=function(prop,propHash){if(this.options.ecmaVersion>=6&&(prop.computed||prop.method||prop.shorthand))return;var key=prop.key;var name=undefined;switch(key.type){case"Identifier":name=key.name;break;case"Literal":name=String(key.value);break;default:return}var kind=prop.kind;if(this.options.ecmaVersion>=6){if(name==="__proto__"&&kind==="init"){if(propHash.proto)this.raise(key.start,"Redefinition of __proto__ property");propHash.proto=true}return}name="$"+name;var other=propHash[name];if(other){var isGetSet=kind!=="init";if((this.strict||isGetSet)&&other[kind]||!(isGetSet^other.init))this.raise(key.start,"Redefinition of property")}else{other=propHash[name]={init:false,get:false,set:false}}other[kind]=true};pp.parseExpression=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeAssign(noIn,refDestructuringErrors);if(this.type===_tokentype.types.comma){var node=this.startNodeAt(startPos,startLoc);node.expressions=[expr];while(this.eat(_tokentype.types.comma))node.expressions.push(this.parseMaybeAssign(noIn,refDestructuringErrors));return this.finishNode(node,"SequenceExpression")}return expr};pp.parseMaybeAssign=function(noIn,refDestructuringErrors,afterLeftParse){if(this.type==_tokentype.types._yield&&this.inGenerator)return this.parseYield();var validateDestructuring=false;if(!refDestructuringErrors){refDestructuringErrors={shorthandAssign:0,trailingComma:0};validateDestructuring=true}var startPos=this.start,startLoc=this.startLoc;if(this.type==_tokentype.types.parenL||this.type==_tokentype.types.name)this.potentialArrowAt=this.start;var left=this.parseMaybeConditional(noIn,refDestructuringErrors);if(afterLeftParse)left=afterLeftParse.call(this,left,startPos,startLoc);if(this.type.isAssign){if(validateDestructuring)this.checkPatternErrors(refDestructuringErrors,true);var node=this.startNodeAt(startPos,startLoc);node.operator=this.value;node.left=this.type===_tokentype.types.eq?this.toAssignable(left):left;refDestructuringErrors.shorthandAssign=0;this.checkLVal(left);this.next();node.right=this.parseMaybeAssign(noIn);return this.finishNode(node,"AssignmentExpression")}else{if(validateDestructuring)this.checkExpressionErrors(refDestructuringErrors,true)}return left};pp.parseMaybeConditional=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprOps(noIn,refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;if(this.eat(_tokentype.types.question)){var node=this.startNodeAt(startPos,startLoc);node.test=expr;node.consequent=this.parseMaybeAssign();this.expect(_tokentype.types.colon);node.alternate=this.parseMaybeAssign(noIn);return this.finishNode(node,"ConditionalExpression")}return expr};pp.parseExprOps=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeUnary(refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;return this.parseExprOp(expr,startPos,startLoc,-1,noIn)};pp.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,noIn){var prec=this.type.binop;if(prec!=null&&(!noIn||this.type!==_tokentype.types._in)){if(prec>minPrec){var node=this.startNodeAt(leftStartPos,leftStartLoc);node.left=left;node.operator=this.value;var op=this.type;this.next();var startPos=this.start,startLoc=this.startLoc;node.right=this.parseExprOp(this.parseMaybeUnary(),startPos,startLoc,prec,noIn);this.finishNode(node,op===_tokentype.types.logicalOR||op===_tokentype.types.logicalAND?"LogicalExpression":"BinaryExpression");return this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,noIn)}}return left};pp.parseMaybeUnary=function(refDestructuringErrors){if(this.type.prefix){var node=this.startNode(),update=this.type===_tokentype.types.incDec;node.operator=this.value;node.prefix=true;this.next();node.argument=this.parseMaybeUnary();this.checkExpressionErrors(refDestructuringErrors,true);if(update)this.checkLVal(node.argument);else if(this.strict&&node.operator==="delete"&&node.argument.type==="Identifier")this.raise(node.start,"Deleting local variable in strict mode");return this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprSubscripts(refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;while(this.type.postfix&&!this.canInsertSemicolon()){var node=this.startNodeAt(startPos,startLoc);node.operator=this.value;node.prefix=false;node.argument=expr;this.checkLVal(expr);this.next();expr=this.finishNode(node,"UpdateExpression")}return expr};pp.parseExprSubscripts=function(refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprAtom(refDestructuringErrors);var skipArrowSubscripts=expr.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")";if(this.checkExpressionErrors(refDestructuringErrors)||skipArrowSubscripts)return expr;return this.parseSubscripts(expr,startPos,startLoc)};pp.parseSubscripts=function(base,startPos,startLoc,noCalls){for(;;){if(this.eat(_tokentype.types.dot)){var node=this.startNodeAt(startPos,startLoc);node.object=base;node.property=this.parseIdent(true);node.computed=false;base=this.finishNode(node,"MemberExpression")}else if(this.eat(_tokentype.types.bracketL)){var node=this.startNodeAt(startPos,startLoc);node.object=base;node.property=this.parseExpression();node.computed=true;this.expect(_tokentype.types.bracketR);base=this.finishNode(node,"MemberExpression")}else if(!noCalls&&this.eat(_tokentype.types.parenL)){var node=this.startNodeAt(startPos,startLoc);node.callee=base;node.arguments=this.parseExprList(_tokentype.types.parenR,false);base=this.finishNode(node,"CallExpression")}else if(this.type===_tokentype.types.backQuote){var node=this.startNodeAt(startPos,startLoc);node.tag=base;node.quasi=this.parseTemplate();base=this.finishNode(node,"TaggedTemplateExpression")}else{return base}}};pp.parseExprAtom=function(refDestructuringErrors){var node=undefined,canBeArrow=this.potentialArrowAt==this.start;switch(this.type){case _tokentype.types._super:if(!this.inFunction)this.raise(this.start,"'super' outside of function or class");case _tokentype.types._this:var type=this.type===_tokentype.types._this?"ThisExpression":"Super";node=this.startNode();this.next();return this.finishNode(node,type);case _tokentype.types._yield:if(this.inGenerator)this.unexpected();case _tokentype.types.name:var startPos=this.start,startLoc=this.startLoc;var id=this.parseIdent(this.type!==_tokentype.types.name);if(canBeArrow&&!this.canInsertSemicolon()&&this.eat(_tokentype.types.arrow))return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id]);return id;case _tokentype.types.regexp:var value=this.value;node=this.parseLiteral(value.value);node.regex={pattern:value.pattern,flags:value.flags};return node;case _tokentype.types.num:case _tokentype.types.string:return this.parseLiteral(this.value);case _tokentype.types._null:case _tokentype.types._true:case _tokentype.types._false:node=this.startNode();node.value=this.type===_tokentype.types._null?null:this.type===_tokentype.types._true;node.raw=this.type.keyword;this.next();return this.finishNode(node,"Literal");case _tokentype.types.parenL:return this.parseParenAndDistinguishExpression(canBeArrow);case _tokentype.types.bracketL:node=this.startNode();this.next();if(this.options.ecmaVersion>=7&&this.type===_tokentype.types._for){return this.parseComprehension(node,false)}node.elements=this.parseExprList(_tokentype.types.bracketR,true,true,refDestructuringErrors);return this.finishNode(node,"ArrayExpression");case _tokentype.types.braceL:return this.parseObj(false,refDestructuringErrors);case _tokentype.types._function:node=this.startNode();this.next();return this.parseFunction(node,false);case _tokentype.types._class:return this.parseClass(this.startNode(),false);case _tokentype.types._new:return this.parseNew();case _tokentype.types.backQuote:return this.parseTemplate();default:this.unexpected()}};pp.parseLiteral=function(value){var node=this.startNode();node.value=value;node.raw=this.input.slice(this.start,this.end);this.next();return this.finishNode(node,"Literal")};pp.parseParenExpression=function(){this.expect(_tokentype.types.parenL);var val=this.parseExpression();this.expect(_tokentype.types.parenR);return val};pp.parseParenAndDistinguishExpression=function(canBeArrow){var startPos=this.start,startLoc=this.startLoc,val=undefined;if(this.options.ecmaVersion>=6){this.next();if(this.options.ecmaVersion>=7&&this.type===_tokentype.types._for){return this.parseComprehension(this.startNodeAt(startPos,startLoc),true)}var innerStartPos=this.start,innerStartLoc=this.startLoc;var exprList=[],first=true;var refDestructuringErrors={shorthandAssign:0,trailingComma:0},spreadStart=undefined,innerParenStart=undefined;while(this.type!==_tokentype.types.parenR){first?first=false:this.expect(_tokentype.types.comma);if(this.type===_tokentype.types.ellipsis){spreadStart=this.start;exprList.push(this.parseParenItem(this.parseRest()));break}else{if(this.type===_tokentype.types.parenL&&!innerParenStart){innerParenStart=this.start}exprList.push(this.parseMaybeAssign(false,refDestructuringErrors,this.parseParenItem))}}var innerEndPos=this.start,innerEndLoc=this.startLoc;this.expect(_tokentype.types.parenR);if(canBeArrow&&!this.canInsertSemicolon()&&this.eat(_tokentype.types.arrow)){this.checkPatternErrors(refDestructuringErrors,true);if(innerParenStart)this.unexpected(innerParenStart);return this.parseParenArrowList(startPos,startLoc,exprList)}if(!exprList.length)this.unexpected(this.lastTokStart);if(spreadStart)this.unexpected(spreadStart);this.checkExpressionErrors(refDestructuringErrors,true);if(exprList.length>1){val=this.startNodeAt(innerStartPos,innerStartLoc);val.expressions=exprList;this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)}else{val=exprList[0]}}else{
val=this.parseParenExpression()}if(this.options.preserveParens){var par=this.startNodeAt(startPos,startLoc);par.expression=val;return this.finishNode(par,"ParenthesizedExpression")}else{return val}};pp.parseParenItem=function(item){return item};pp.parseParenArrowList=function(startPos,startLoc,exprList){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList)};var empty=[];pp.parseNew=function(){var node=this.startNode();var meta=this.parseIdent(true);if(this.options.ecmaVersion>=6&&this.eat(_tokentype.types.dot)){node.meta=meta;node.property=this.parseIdent(true);if(node.property.name!=="target")this.raise(node.property.start,"The only valid meta property for new is new.target");if(!this.inFunction)this.raise(node.start,"new.target can only be used in functions");return this.finishNode(node,"MetaProperty")}var startPos=this.start,startLoc=this.startLoc;node.callee=this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,true);if(this.eat(_tokentype.types.parenL))node.arguments=this.parseExprList(_tokentype.types.parenR,false);else node.arguments=empty;return this.finishNode(node,"NewExpression")};pp.parseTemplateElement=function(){var elem=this.startNode();elem.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value};this.next();elem.tail=this.type===_tokentype.types.backQuote;return this.finishNode(elem,"TemplateElement")};pp.parseTemplate=function(){var node=this.startNode();this.next();node.expressions=[];var curElt=this.parseTemplateElement();node.quasis=[curElt];while(!curElt.tail){this.expect(_tokentype.types.dollarBraceL);node.expressions.push(this.parseExpression());this.expect(_tokentype.types.braceR);node.quasis.push(curElt=this.parseTemplateElement())}this.next();return this.finishNode(node,"TemplateLiteral")};pp.parseObj=function(isPattern,refDestructuringErrors){var node=this.startNode(),first=true,propHash={};node.properties=[];this.next();while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var prop=this.startNode(),isGenerator=undefined,startPos=undefined,startLoc=undefined;if(this.options.ecmaVersion>=6){prop.method=false;prop.shorthand=false;if(isPattern||refDestructuringErrors){startPos=this.start;startLoc=this.startLoc}if(!isPattern)isGenerator=this.eat(_tokentype.types.star)}this.parsePropertyName(prop);this.parsePropertyValue(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors);this.checkPropClash(prop,propHash);node.properties.push(this.finishNode(prop,"Property"))}return this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")};pp.parsePropertyValue=function(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors){if(this.eat(_tokentype.types.colon)){prop.value=isPattern?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(false,refDestructuringErrors);prop.kind="init"}else if(this.options.ecmaVersion>=6&&this.type===_tokentype.types.parenL){if(isPattern)this.unexpected();prop.kind="init";prop.method=true;prop.value=this.parseMethod(isGenerator)}else if(this.options.ecmaVersion>=5&&!prop.computed&&prop.key.type==="Identifier"&&(prop.key.name==="get"||prop.key.name==="set")&&(this.type!=_tokentype.types.comma&&this.type!=_tokentype.types.braceR)){if(isGenerator||isPattern)this.unexpected();prop.kind=prop.key.name;this.parsePropertyName(prop);prop.value=this.parseMethod(false);var paramCount=prop.kind==="get"?0:1;if(prop.value.params.length!==paramCount){var start=prop.value.start;if(prop.kind==="get")this.raise(start,"getter should have no params");else this.raise(start,"setter should have exactly one param")}if(prop.kind==="set"&&prop.value.params[0].type==="RestElement")this.raise(prop.value.params[0].start,"Setter cannot use rest params")}else if(this.options.ecmaVersion>=6&&!prop.computed&&prop.key.type==="Identifier"){prop.kind="init";if(isPattern){if(this.keywords.test(prop.key.name)||(this.strict?this.reservedWordsStrictBind:this.reservedWords).test(prop.key.name))this.raise(prop.key.start,"Binding "+prop.key.name);prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)}else if(this.type===_tokentype.types.eq&&refDestructuringErrors){if(!refDestructuringErrors.shorthandAssign)refDestructuringErrors.shorthandAssign=this.start;prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)}else{prop.value=prop.key}prop.shorthand=true}else this.unexpected()};pp.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(_tokentype.types.bracketL)){prop.computed=true;prop.key=this.parseMaybeAssign();this.expect(_tokentype.types.bracketR);return prop.key}else{prop.computed=false}}return prop.key=this.type===_tokentype.types.num||this.type===_tokentype.types.string?this.parseExprAtom():this.parseIdent(true)};pp.initFunction=function(node){node.id=null;if(this.options.ecmaVersion>=6){node.generator=false;node.expression=false}};pp.parseMethod=function(isGenerator){var node=this.startNode();this.initFunction(node);this.expect(_tokentype.types.parenL);node.params=this.parseBindingList(_tokentype.types.parenR,false,false);if(this.options.ecmaVersion>=6)node.generator=isGenerator;this.parseFunctionBody(node,false);return this.finishNode(node,"FunctionExpression")};pp.parseArrowExpression=function(node,params){this.initFunction(node);node.params=this.toAssignableList(params,true);this.parseFunctionBody(node,true);return this.finishNode(node,"ArrowFunctionExpression")};pp.parseFunctionBody=function(node,isArrowFunction){var isExpression=isArrowFunction&&this.type!==_tokentype.types.braceL;if(isExpression){node.body=this.parseMaybeAssign();node.expression=true}else{var oldInFunc=this.inFunction,oldInGen=this.inGenerator,oldLabels=this.labels;this.inFunction=true;this.inGenerator=node.generator;this.labels=[];node.body=this.parseBlock(true);node.expression=false;this.inFunction=oldInFunc;this.inGenerator=oldInGen;this.labels=oldLabels}if(this.strict||!isExpression&&node.body.body.length&&this.isUseStrict(node.body.body[0])){var oldStrict=this.strict;this.strict=true;if(node.id)this.checkLVal(node.id,true);this.checkParams(node);this.strict=oldStrict}else if(isArrowFunction){this.checkParams(node)}};pp.checkParams=function(node){var nameHash={};for(var i=0;i<node.params.length;i++){this.checkLVal(node.params[i],true,nameHash)}};pp.parseExprList=function(close,allowTrailingComma,allowEmpty,refDestructuringErrors){var elts=[],first=true;while(!this.eat(close)){if(!first){this.expect(_tokentype.types.comma);if(this.type===close&&refDestructuringErrors&&!refDestructuringErrors.trailingComma){refDestructuringErrors.trailingComma=this.lastTokStart}if(allowTrailingComma&&this.afterTrailingComma(close))break}else first=false;var elt=undefined;if(allowEmpty&&this.type===_tokentype.types.comma)elt=null;else if(this.type===_tokentype.types.ellipsis)elt=this.parseSpread(refDestructuringErrors);else elt=this.parseMaybeAssign(false,refDestructuringErrors);elts.push(elt)}return elts};pp.parseIdent=function(liberal){var node=this.startNode();if(liberal&&this.options.allowReserved=="never")liberal=false;if(this.type===_tokentype.types.name){if(!liberal&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1))this.raise(this.start,"The keyword '"+this.value+"' is reserved");node.name=this.value}else if(liberal&&this.type.keyword){node.name=this.type.keyword}else{this.unexpected()}this.next();return this.finishNode(node,"Identifier")};pp.parseYield=function(){var node=this.startNode();this.next();if(this.type==_tokentype.types.semi||this.canInsertSemicolon()||this.type!=_tokentype.types.star&&!this.type.startsExpr){node.delegate=false;node.argument=null}else{node.delegate=this.eat(_tokentype.types.star);node.argument=this.parseMaybeAssign()}return this.finishNode(node,"YieldExpression")};pp.parseComprehension=function(node,isGenerator){node.blocks=[];while(this.type===_tokentype.types._for){var block=this.startNode();this.next();this.expect(_tokentype.types.parenL);block.left=this.parseBindingAtom();this.checkLVal(block.left,true);this.expectContextual("of");block.right=this.parseExpression();this.expect(_tokentype.types.parenR);node.blocks.push(this.finishNode(block,"ComprehensionBlock"))}node.filter=this.eat(_tokentype.types._if)?this.parseParenExpression():null;node.body=this.parseExpression();this.expect(isGenerator?_tokentype.types.parenR:_tokentype.types.bracketR);node.generator=isGenerator;return this.finishNode(node,"ComprehensionExpression")}},{"./state":10,"./tokentype":14}],2:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isIdentifierStart=isIdentifierStart;exports.isIdentifierChar=isIdentifierChar;var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"};exports.reservedWords=reservedWords;var ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this";var keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" let const class extends export import yield super"};exports.keywords=keywords;var nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";var nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏ᦰ-ᧀᧈᧉ᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︭︳︴﹍-﹏０-９＿";var nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]");var nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,98,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,955,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,38,17,2,24,133,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,32,4,287,47,21,1,2,0,185,46,82,47,21,0,60,42,502,63,32,0,449,56,1288,920,104,110,2962,1070,13266,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,16355,541];var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,16,9,83,11,168,11,6,9,8,2,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,112,16,16,9,82,12,9,9,535,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,4305,6,792618,239];function isInAstralSet(code,set){var pos=65536;for(var i=0;i<set.length;i+=2){pos+=set[i];if(pos>code)return false;pos+=set[i+1];if(pos>=code)return true}}function isIdentifierStart(code,astral){if(code<65)return code===36;if(code<91)return true;if(code<97)return code===95;if(code<123)return true;if(code<=65535)return code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code));if(astral===false)return false;return isInAstralSet(code,astralIdentifierStartCodes)}function isIdentifierChar(code,astral){if(code<48)return code===36;if(code<58)return true;if(code<65)return false;if(code<91)return true;if(code<97)return code===95;if(code<123)return true;if(code<=65535)return code>=170&&nonASCIIidentifier.test(String.fromCharCode(code));if(astral===false)return false;return isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes)}},{}],3:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.parse=parse;exports.parseExpressionAt=parseExpressionAt;exports.tokenizer=tokenizer;var _state=_dereq_("./state");_dereq_("./parseutil");_dereq_("./statement");_dereq_("./lval");_dereq_("./expression");_dereq_("./location");exports.Parser=_state.Parser;exports.plugins=_state.plugins;var _options=_dereq_("./options");exports.defaultOptions=_options.defaultOptions;var _locutil=_dereq_("./locutil");exports.Position=_locutil.Position;exports.SourceLocation=_locutil.SourceLocation;exports.getLineInfo=_locutil.getLineInfo;var _node=_dereq_("./node");exports.Node=_node.Node;var _tokentype=_dereq_("./tokentype");exports.TokenType=_tokentype.TokenType;exports.tokTypes=_tokentype.types;var _tokencontext=_dereq_("./tokencontext");exports.TokContext=_tokencontext.TokContext;exports.tokContexts=_tokencontext.types;var _identifier=_dereq_("./identifier");exports.isIdentifierChar=_identifier.isIdentifierChar;exports.isIdentifierStart=_identifier.isIdentifierStart;var _tokenize=_dereq_("./tokenize");exports.Token=_tokenize.Token;var _whitespace=_dereq_("./whitespace");exports.isNewLine=_whitespace.isNewLine;exports.lineBreak=_whitespace.lineBreak;exports.lineBreakG=_whitespace.lineBreakG;var version="2.7.0";exports.version=version;function parse(input,options){return new _state.Parser(options,input).parse()}function parseExpressionAt(input,pos,options){var p=new _state.Parser(options,input,pos);p.nextToken();return p.parseExpression()}function tokenizer(input,options){return new _state.Parser(options,input)}},{"./expression":1,"./identifier":2,"./location":4,"./locutil":5,"./lval":6,"./node":7,"./options":8,"./parseutil":9,"./state":10,"./statement":11,"./tokencontext":12,"./tokenize":13,"./tokentype":14,"./whitespace":16}],4:[function(_dereq_,module,exports){"use strict";var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var pp=_state.Parser.prototype;pp.raise=function(pos,message){var loc=_locutil.getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);err.pos=pos;err.loc=loc;err.raisedAt=this.pos;throw err};pp.curPosition=function(){if(this.options.locations){return new _locutil.Position(this.curLine,this.pos-this.lineStart)}}},{"./locutil":5,"./state":10}],5:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.getLineInfo=getLineInfo;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _whitespace=_dereq_("./whitespace");var Position=function(){function Position(line,col){_classCallCheck(this,Position);this.line=line;this.column=col}Position.prototype.offset=function offset(n){return new Position(this.line,this.column+n)};return Position}();exports.Position=Position;var SourceLocation=function SourceLocation(p,start,end){_classCallCheck(this,SourceLocation);this.start=start;this.end=end;if(p.sourceFile!==null)this.source=p.sourceFile};exports.SourceLocation=SourceLocation;function getLineInfo(input,offset){for(var line=1,cur=0;;){_whitespace.lineBreakG.lastIndex=cur;var match=_whitespace.lineBreakG.exec(input);if(match&&match.index<offset){++line;cur=match.index+match[0].length}else{return new Position(line,offset-cur)}}}},{"./whitespace":16}],6:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _util=_dereq_("./util");var pp=_state.Parser.prototype;pp.toAssignable=function(node,isBinding){if(this.options.ecmaVersion>=6&&node){switch(node.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":node.type="ObjectPattern";for(var i=0;i<node.properties.length;i++){var prop=node.properties[i];if(prop.kind!=="init")this.raise(prop.key.start,"Object pattern can't contain getter or setter");this.toAssignable(prop.value,isBinding)}break;case"ArrayExpression":node.type="ArrayPattern";this.toAssignableList(node.elements,isBinding);break;case"AssignmentExpression":if(node.operator==="="){node.type="AssignmentPattern";delete node.operator}else{this.raise(node.left.end,"Only '=' operator can be used for specifying default value.");break}case"AssignmentPattern":if(node.right.type==="YieldExpression")this.raise(node.right.start,"Yield expression cannot be a default value");break;case"ParenthesizedExpression":node.expression=this.toAssignable(node.expression,isBinding);break;case"MemberExpression":if(!isBinding)break;default:this.raise(node.start,"Assigning to rvalue")}}return node};pp.toAssignableList=function(exprList,isBinding){var end=exprList.length;if(end){var last=exprList[end-1];if(last&&last.type=="RestElement"){--end}else if(last&&last.type=="SpreadElement"){last.type="RestElement";var arg=last.argument;this.toAssignable(arg,isBinding);if(arg.type!=="Identifier"&&arg.type!=="MemberExpression"&&arg.type!=="ArrayPattern")this.unexpected(arg.start);--end}if(isBinding&&last.type==="RestElement"&&last.argument.type!=="Identifier")this.unexpected(last.argument.start)}for(var i=0;i<end;i++){var elt=exprList[i];if(elt)this.toAssignable(elt,isBinding)}return exprList};pp.parseSpread=function(refDestructuringErrors){var node=this.startNode();this.next();node.argument=this.parseMaybeAssign(refDestructuringErrors);return this.finishNode(node,"SpreadElement")};pp.parseRest=function(allowNonIdent){var node=this.startNode();this.next();if(allowNonIdent)node.argument=this.type===_tokentype.types.name?this.parseIdent():this.unexpected();else node.argument=this.type===_tokentype.types.name||this.type===_tokentype.types.bracketL?this.parseBindingAtom():this.unexpected();return this.finishNode(node,"RestElement")};pp.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case _tokentype.types.name:return this.parseIdent();case _tokentype.types.bracketL:var node=this.startNode();this.next();node.elements=this.parseBindingList(_tokentype.types.bracketR,true,true);return this.finishNode(node,"ArrayPattern");case _tokentype.types.braceL:return this.parseObj(true);default:this.unexpected()}};pp.parseBindingList=function(close,allowEmpty,allowTrailingComma,allowNonIdent){var elts=[],first=true;while(!this.eat(close)){if(first)first=false;else this.expect(_tokentype.types.comma);if(allowEmpty&&this.type===_tokentype.types.comma){elts.push(null)}else if(allowTrailingComma&&this.afterTrailingComma(close)){break}else if(this.type===_tokentype.types.ellipsis){var rest=this.parseRest(allowNonIdent);this.parseBindingListItem(rest);elts.push(rest);this.expect(close);break}else{var elem=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(elem);elts.push(elem)}}return elts};pp.parseBindingListItem=function(param){return param};pp.parseMaybeDefault=function(startPos,startLoc,left){left=left||this.parseBindingAtom();if(this.options.ecmaVersion<6||!this.eat(_tokentype.types.eq))return left;var node=this.startNodeAt(startPos,startLoc);node.left=left;node.right=this.parseMaybeAssign();return this.finishNode(node,"AssignmentPattern")};pp.checkLVal=function(expr,isBinding,checkClashes){switch(expr.type){case"Identifier":if(this.strict&&this.reservedWordsStrictBind.test(expr.name))this.raise(expr.start,(isBinding?"Binding ":"Assigning to ")+expr.name+" in strict mode");if(checkClashes){if(_util.has(checkClashes,expr.name))this.raise(expr.start,"Argument name clash");checkClashes[expr.name]=true}break;case"MemberExpression":if(isBinding)this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0;i<expr.properties.length;i++){this.checkLVal(expr.properties[i].value,isBinding,checkClashes)}break;case"ArrayPattern":for(var i=0;i<expr.elements.length;i++){var elem=expr.elements[i];if(elem)this.checkLVal(elem,isBinding,checkClashes)}break;case"AssignmentPattern":this.checkLVal(expr.left,isBinding,checkClashes);break;case"RestElement":this.checkLVal(expr.argument,isBinding,checkClashes);break;case"ParenthesizedExpression":this.checkLVal(expr.expression,isBinding,checkClashes);break;default:this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" rvalue")}}},{"./state":10,"./tokentype":14,"./util":15}],7:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var Node=function Node(parser,pos,loc){_classCallCheck(this,Node);this.type="";this.start=pos;this.end=0;if(parser.options.locations)this.loc=new _locutil.SourceLocation(parser,loc);if(parser.options.directSourceFile)this.sourceFile=parser.options.directSourceFile;if(parser.options.ranges)this.range=[pos,0]};exports.Node=Node;var pp=_state.Parser.prototype;pp.startNode=function(){return new Node(this,this.start,this.startLoc)};pp.startNodeAt=function(pos,loc){return new Node(this,pos,loc)};function finishNodeAt(node,type,pos,loc){node.type=type;node.end=pos;if(this.options.locations)node.loc.end=loc;if(this.options.ranges)node.range[1]=pos;return node}pp.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.lastTokEnd,this.lastTokEndLoc)};pp.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)}},{"./locutil":5,"./state":10}],8:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.getOptions=getOptions;var _util=_dereq_("./util");var _locutil=_dereq_("./locutil");var defaultOptions={ecmaVersion:5,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:false,allowImportExportEverywhere:false,allowHashBang:false,locations:false,onToken:null,onComment:null,ranges:false,program:null,sourceFile:null,directSourceFile:null,preserveParens:false,plugins:{}};exports.defaultOptions=defaultOptions;function getOptions(opts){var options={};for(var opt in defaultOptions){options[opt]=opts&&_util.has(opts,opt)?opts[opt]:defaultOptions[opt]}if(options.allowReserved==null)options.allowReserved=options.ecmaVersion<5;if(_util.isArray(options.onToken)){(function(){var tokens=options.onToken;options.onToken=function(token){return tokens.push(token)}})()}if(_util.isArray(options.onComment))options.onComment=pushComment(options,options.onComment);return options}function pushComment(options,array){return function(block,text,start,end,startLoc,endLoc){var comment={type:block?"Block":"Line",value:text,start:start,end:end};if(options.locations)comment.loc=new _locutil.SourceLocation(this,startLoc,endLoc);if(options.ranges)comment.range=[start,end];array.push(comment)}}},{"./locutil":5,"./util":15}],9:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _whitespace=_dereq_("./whitespace");var pp=_state.Parser.prototype;pp.isUseStrict=function(stmt){return this.options.ecmaVersion>=5&&stmt.type==="ExpressionStatement"&&stmt.expression.type==="Literal"&&stmt.expression.raw.slice(1,-1)==="use strict"};pp.eat=function(type){if(this.type===type){this.next();return true}else{return false}};pp.isContextual=function(name){return this.type===_tokentype.types.name&&this.value===name};pp.eatContextual=function(name){return this.value===name&&this.eat(_tokentype.types.name)};pp.expectContextual=function(name){if(!this.eatContextual(name))this.unexpected()};pp.canInsertSemicolon=function(){return this.type===_tokentype.types.eof||this.type===_tokentype.types.braceR||_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp.insertSemicolon=function(){if(this.canInsertSemicolon()){if(this.options.onInsertedSemicolon)this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc);return true}};pp.semicolon=function(){if(!this.eat(_tokentype.types.semi)&&!this.insertSemicolon())this.unexpected()};pp.afterTrailingComma=function(tokType){if(this.type==tokType){if(this.options.onTrailingComma)this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc);this.next();return true}};pp.expect=function(type){this.eat(type)||this.unexpected()};pp.unexpected=function(pos){this.raise(pos!=null?pos:this.start,"Unexpected token")};pp.checkPatternErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors&&refDestructuringErrors.trailingComma;if(!andThrow)return!!pos;if(pos)this.raise(pos,"Trailing comma is not permitted in destructuring patterns")};pp.checkExpressionErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors&&refDestructuringErrors.shorthandAssign;if(!andThrow)return!!pos;if(pos)this.raise(pos,"Shorthand property assignments are valid only in destructuring patterns")}},{"./state":10,"./tokentype":14,"./whitespace":16}],10:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _identifier=_dereq_("./identifier");var _tokentype=_dereq_("./tokentype");var _whitespace=_dereq_("./whitespace");var _options=_dereq_("./options");var plugins={};exports.plugins=plugins;function keywordRegexp(words){return new RegExp("^("+words.replace(/ /g,"|")+")$")}var Parser=function(){function Parser(options,input,startPos){_classCallCheck(this,Parser);this.options=options=_options.getOptions(options);this.sourceFile=options.sourceFile;this.keywords=keywordRegexp(_identifier.keywords[options.ecmaVersion>=6?6:5]);var reserved=options.allowReserved?"":_identifier.reservedWords[options.ecmaVersion]+(options.sourceType=="module"?" await":"");this.reservedWords=keywordRegexp(reserved);var reservedStrict=(reserved?reserved+" ":"")+_identifier.reservedWords.strict;this.reservedWordsStrict=keywordRegexp(reservedStrict);this.reservedWordsStrictBind=keywordRegexp(reservedStrict+" "+_identifier.reservedWords.strictBind);this.input=String(input);this.containsEsc=false;this.loadPlugins(options.plugins);if(startPos){this.pos=startPos;this.lineStart=Math.max(0,this.input.lastIndexOf("\n",startPos));this.curLine=this.input.slice(0,this.lineStart).split(_whitespace.lineBreak).length}else{this.pos=this.lineStart=0;this.curLine=1}this.type=_tokentype.types.eof;this.value=null;this.start=this.end=this.pos;this.startLoc=this.endLoc=this.curPosition();this.lastTokEndLoc=this.lastTokStartLoc=null;this.lastTokStart=this.lastTokEnd=this.pos;this.context=this.initialContext();this.exprAllowed=true;this.strict=this.inModule=options.sourceType==="module";this.potentialArrowAt=-1;this.inFunction=this.inGenerator=false;this.labels=[];if(this.pos===0&&options.allowHashBang&&this.input.slice(0,2)==="#!")this.skipLineComment(2)}Parser.prototype.isKeyword=function isKeyword(word){return this.keywords.test(word)};Parser.prototype.isReservedWord=function isReservedWord(word){return this.reservedWords.test(word)};Parser.prototype.extend=function extend(name,f){this[name]=f(this[name])};Parser.prototype.loadPlugins=function loadPlugins(pluginConfigs){for(var _name in pluginConfigs){var plugin=plugins[_name];if(!plugin)throw new Error("Plugin '"+_name+"' not found");plugin(this,pluginConfigs[_name])}};Parser.prototype.parse=function parse(){var node=this.options.program||this.startNode();this.nextToken();return this.parseTopLevel(node)};return Parser}();exports.Parser=Parser},{"./identifier":2,"./options":8,"./tokentype":14,"./whitespace":16}],11:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _whitespace=_dereq_("./whitespace");var pp=_state.Parser.prototype;pp.parseTopLevel=function(node){var first=true;if(!node.body)node.body=[];while(this.type!==_tokentype.types.eof){var stmt=this.parseStatement(true,true);node.body.push(stmt);if(first){if(this.isUseStrict(stmt))this.setStrict(true);first=false}}this.next();if(this.options.ecmaVersion>=6){node.sourceType=this.options.sourceType}return this.finishNode(node,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp.parseStatement=function(declaration,topLevel){var starttype=this.type,node=this.startNode();switch(starttype){case _tokentype.types._break:case _tokentype.types._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case _tokentype.types._debugger:return this.parseDebuggerStatement(node);case _tokentype.types._do:return this.parseDoStatement(node);case _tokentype.types._for:return this.parseForStatement(node);case _tokentype.types._function:if(!declaration&&this.options.ecmaVersion>=6)this.unexpected();return this.parseFunctionStatement(node);case _tokentype.types._class:if(!declaration)this.unexpected();return this.parseClass(node,true);case _tokentype.types._if:return this.parseIfStatement(node);case _tokentype.types._return:return this.parseReturnStatement(node);case _tokentype.types._switch:return this.parseSwitchStatement(node);case _tokentype.types._throw:return this.parseThrowStatement(node);case _tokentype.types._try:return this.parseTryStatement(node);case _tokentype.types._let:case _tokentype.types._const:if(!declaration)this.unexpected();case _tokentype.types._var:return this.parseVarStatement(node,starttype);case _tokentype.types._while:return this.parseWhileStatement(node);case _tokentype.types._with:return this.parseWithStatement(node);case _tokentype.types.braceL:return this.parseBlock();case _tokentype.types.semi:return this.parseEmptyStatement(node);case _tokentype.types._export:case _tokentype.types._import:if(!this.options.allowImportExportEverywhere){if(!topLevel)this.raise(this.start,"'import' and 'export' may only appear at the top level");if(!this.inModule)this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")}return starttype===_tokentype.types._import?this.parseImport(node):this.parseExport(node);default:var maybeName=this.value,expr=this.parseExpression();if(starttype===_tokentype.types.name&&expr.type==="Identifier"&&this.eat(_tokentype.types.colon))return this.parseLabeledStatement(node,maybeName,expr);else return this.parseExpressionStatement(node,expr)}};pp.parseBreakContinueStatement=function(node,keyword){var isBreak=keyword=="break";this.next()
;if(this.eat(_tokentype.types.semi)||this.insertSemicolon())node.label=null;else if(this.type!==_tokentype.types.name)this.unexpected();else{node.label=this.parseIdent();this.semicolon()}for(var i=0;i<this.labels.length;++i){var lab=this.labels[i];if(node.label==null||lab.name===node.label.name){if(lab.kind!=null&&(isBreak||lab.kind==="loop"))break;if(node.label&&isBreak)break}}if(i===this.labels.length)this.raise(node.start,"Unsyntactic "+keyword);return this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")};pp.parseDebuggerStatement=function(node){this.next();this.semicolon();return this.finishNode(node,"DebuggerStatement")};pp.parseDoStatement=function(node){this.next();this.labels.push(loopLabel);node.body=this.parseStatement(false);this.labels.pop();this.expect(_tokentype.types._while);node.test=this.parseParenExpression();if(this.options.ecmaVersion>=6)this.eat(_tokentype.types.semi);else this.semicolon();return this.finishNode(node,"DoWhileStatement")};pp.parseForStatement=function(node){this.next();this.labels.push(loopLabel);this.expect(_tokentype.types.parenL);if(this.type===_tokentype.types.semi)return this.parseFor(node,null);if(this.type===_tokentype.types._var||this.type===_tokentype.types._let||this.type===_tokentype.types._const){var _init=this.startNode(),varKind=this.type;this.next();this.parseVar(_init,true,varKind);this.finishNode(_init,"VariableDeclaration");if((this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&_init.declarations.length===1&&!(varKind!==_tokentype.types._var&&_init.declarations[0].init))return this.parseForIn(node,_init);return this.parseFor(node,_init)}var refDestructuringErrors={shorthandAssign:0,trailingComma:0};var init=this.parseExpression(true,refDestructuringErrors);if(this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")){this.checkPatternErrors(refDestructuringErrors,true);this.toAssignable(init);this.checkLVal(init);return this.parseForIn(node,init)}else{this.checkExpressionErrors(refDestructuringErrors,true)}return this.parseFor(node,init)};pp.parseFunctionStatement=function(node){this.next();return this.parseFunction(node,true)};pp.parseIfStatement=function(node){this.next();node.test=this.parseParenExpression();node.consequent=this.parseStatement(false);node.alternate=this.eat(_tokentype.types._else)?this.parseStatement(false):null;return this.finishNode(node,"IfStatement")};pp.parseReturnStatement=function(node){if(!this.inFunction&&!this.options.allowReturnOutsideFunction)this.raise(this.start,"'return' outside of function");this.next();if(this.eat(_tokentype.types.semi)||this.insertSemicolon())node.argument=null;else{node.argument=this.parseExpression();this.semicolon()}return this.finishNode(node,"ReturnStatement")};pp.parseSwitchStatement=function(node){this.next();node.discriminant=this.parseParenExpression();node.cases=[];this.expect(_tokentype.types.braceL);this.labels.push(switchLabel);for(var cur,sawDefault=false;this.type!=_tokentype.types.braceR;){if(this.type===_tokentype.types._case||this.type===_tokentype.types._default){var isCase=this.type===_tokentype.types._case;if(cur)this.finishNode(cur,"SwitchCase");node.cases.push(cur=this.startNode());cur.consequent=[];this.next();if(isCase){cur.test=this.parseExpression()}else{if(sawDefault)this.raise(this.lastTokStart,"Multiple default clauses");sawDefault=true;cur.test=null}this.expect(_tokentype.types.colon)}else{if(!cur)this.unexpected();cur.consequent.push(this.parseStatement(true))}}if(cur)this.finishNode(cur,"SwitchCase");this.next();this.labels.pop();return this.finishNode(node,"SwitchStatement")};pp.parseThrowStatement=function(node){this.next();if(_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))this.raise(this.lastTokEnd,"Illegal newline after throw");node.argument=this.parseExpression();this.semicolon();return this.finishNode(node,"ThrowStatement")};var empty=[];pp.parseTryStatement=function(node){this.next();node.block=this.parseBlock();node.handler=null;if(this.type===_tokentype.types._catch){var clause=this.startNode();this.next();this.expect(_tokentype.types.parenL);clause.param=this.parseBindingAtom();this.checkLVal(clause.param,true);this.expect(_tokentype.types.parenR);clause.body=this.parseBlock();node.handler=this.finishNode(clause,"CatchClause")}node.finalizer=this.eat(_tokentype.types._finally)?this.parseBlock():null;if(!node.handler&&!node.finalizer)this.raise(node.start,"Missing catch or finally clause");return this.finishNode(node,"TryStatement")};pp.parseVarStatement=function(node,kind){this.next();this.parseVar(node,false,kind);this.semicolon();return this.finishNode(node,"VariableDeclaration")};pp.parseWhileStatement=function(node){this.next();node.test=this.parseParenExpression();this.labels.push(loopLabel);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,"WhileStatement")};pp.parseWithStatement=function(node){if(this.strict)this.raise(this.start,"'with' in strict mode");this.next();node.object=this.parseParenExpression();node.body=this.parseStatement(false);return this.finishNode(node,"WithStatement")};pp.parseEmptyStatement=function(node){this.next();return this.finishNode(node,"EmptyStatement")};pp.parseLabeledStatement=function(node,maybeName,expr){for(var i=0;i<this.labels.length;++i){if(this.labels[i].name===maybeName)this.raise(expr.start,"Label '"+maybeName+"' is already declared")}var kind=this.type.isLoop?"loop":this.type===_tokentype.types._switch?"switch":null;for(var i=this.labels.length-1;i>=0;i--){var label=this.labels[i];if(label.statementStart==node.start){label.statementStart=this.start;label.kind=kind}else break}this.labels.push({name:maybeName,kind:kind,statementStart:this.start});node.body=this.parseStatement(true);this.labels.pop();node.label=expr;return this.finishNode(node,"LabeledStatement")};pp.parseExpressionStatement=function(node,expr){node.expression=expr;this.semicolon();return this.finishNode(node,"ExpressionStatement")};pp.parseBlock=function(allowStrict){var node=this.startNode(),first=true,oldStrict=undefined;node.body=[];this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){var stmt=this.parseStatement(true);node.body.push(stmt);if(first&&allowStrict&&this.isUseStrict(stmt)){oldStrict=this.strict;this.setStrict(this.strict=true)}first=false}if(oldStrict===false)this.setStrict(false);return this.finishNode(node,"BlockStatement")};pp.parseFor=function(node,init){node.init=init;this.expect(_tokentype.types.semi);node.test=this.type===_tokentype.types.semi?null:this.parseExpression();this.expect(_tokentype.types.semi);node.update=this.type===_tokentype.types.parenR?null:this.parseExpression();this.expect(_tokentype.types.parenR);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,"ForStatement")};pp.parseForIn=function(node,init){var type=this.type===_tokentype.types._in?"ForInStatement":"ForOfStatement";this.next();node.left=init;node.right=this.parseExpression();this.expect(_tokentype.types.parenR);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,type)};pp.parseVar=function(node,isFor,kind){node.declarations=[];node.kind=kind.keyword;for(;;){var decl=this.startNode();this.parseVarId(decl);if(this.eat(_tokentype.types.eq)){decl.init=this.parseMaybeAssign(isFor)}else if(kind===_tokentype.types._const&&!(this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))){this.unexpected()}else if(decl.id.type!="Identifier"&&!(isFor&&(this.type===_tokentype.types._in||this.isContextual("of")))){this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value")}else{decl.init=null}node.declarations.push(this.finishNode(decl,"VariableDeclarator"));if(!this.eat(_tokentype.types.comma))break}return node};pp.parseVarId=function(decl){decl.id=this.parseBindingAtom();this.checkLVal(decl.id,true)};pp.parseFunction=function(node,isStatement,allowExpressionBody){this.initFunction(node);if(this.options.ecmaVersion>=6)node.generator=this.eat(_tokentype.types.star);if(isStatement||this.type===_tokentype.types.name)node.id=this.parseIdent();this.parseFunctionParams(node);this.parseFunctionBody(node,allowExpressionBody);return this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")};pp.parseFunctionParams=function(node){this.expect(_tokentype.types.parenL);node.params=this.parseBindingList(_tokentype.types.parenR,false,false,true)};pp.parseClass=function(node,isStatement){this.next();this.parseClassId(node,isStatement);this.parseClassSuper(node);var classBody=this.startNode();var hadConstructor=false;classBody.body=[];this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(this.eat(_tokentype.types.semi))continue;var method=this.startNode();var isGenerator=this.eat(_tokentype.types.star);var isMaybeStatic=this.type===_tokentype.types.name&&this.value==="static";this.parsePropertyName(method);method["static"]=isMaybeStatic&&this.type!==_tokentype.types.parenL;if(method["static"]){if(isGenerator)this.unexpected();isGenerator=this.eat(_tokentype.types.star);this.parsePropertyName(method)}method.kind="method";var isGetSet=false;if(!method.computed){var key=method.key;if(!isGenerator&&key.type==="Identifier"&&this.type!==_tokentype.types.parenL&&(key.name==="get"||key.name==="set")){isGetSet=true;method.kind=key.name;key=this.parsePropertyName(method)}if(!method["static"]&&(key.type==="Identifier"&&key.name==="constructor"||key.type==="Literal"&&key.value==="constructor")){if(hadConstructor)this.raise(key.start,"Duplicate constructor in the same class");if(isGetSet)this.raise(key.start,"Constructor can't have get/set modifier");if(isGenerator)this.raise(key.start,"Constructor can't be a generator");method.kind="constructor";hadConstructor=true}}this.parseClassMethod(classBody,method,isGenerator);if(isGetSet){var paramCount=method.kind==="get"?0:1;if(method.value.params.length!==paramCount){var start=method.value.start;if(method.kind==="get")this.raise(start,"getter should have no params");else this.raise(start,"setter should have exactly one param")}if(method.kind==="set"&&method.value.params[0].type==="RestElement")this.raise(method.value.params[0].start,"Setter cannot use rest params")}}node.body=this.finishNode(classBody,"ClassBody");return this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")};pp.parseClassMethod=function(classBody,method,isGenerator){method.value=this.parseMethod(isGenerator);classBody.body.push(this.finishNode(method,"MethodDefinition"))};pp.parseClassId=function(node,isStatement){node.id=this.type===_tokentype.types.name?this.parseIdent():isStatement?this.unexpected():null};pp.parseClassSuper=function(node){node.superClass=this.eat(_tokentype.types._extends)?this.parseExprSubscripts():null};pp.parseExport=function(node){this.next();if(this.eat(_tokentype.types.star)){this.expectContextual("from");node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected();this.semicolon();return this.finishNode(node,"ExportAllDeclaration")}if(this.eat(_tokentype.types._default)){var expr=this.parseMaybeAssign();var needsSemi=true;if(expr.type=="FunctionExpression"||expr.type=="ClassExpression"){needsSemi=false;if(expr.id){expr.type=expr.type=="FunctionExpression"?"FunctionDeclaration":"ClassDeclaration"}}node.declaration=expr;if(needsSemi)this.semicolon();return this.finishNode(node,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement()){node.declaration=this.parseStatement(true);node.specifiers=[];node.source=null}else{node.declaration=null;node.specifiers=this.parseExportSpecifiers();if(this.eatContextual("from")){node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected()}else{for(var i=0;i<node.specifiers.length;i++){if(this.keywords.test(node.specifiers[i].local.name)||this.reservedWords.test(node.specifiers[i].local.name)){this.unexpected(node.specifiers[i].local.start)}}node.source=null}this.semicolon()}return this.finishNode(node,"ExportNamedDeclaration")};pp.shouldParseExportStatement=function(){return this.type.keyword};pp.parseExportSpecifiers=function(){var nodes=[],first=true;this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var node=this.startNode();node.local=this.parseIdent(this.type===_tokentype.types._default);node.exported=this.eatContextual("as")?this.parseIdent(true):node.local;nodes.push(this.finishNode(node,"ExportSpecifier"))}return nodes};pp.parseImport=function(node){this.next();if(this.type===_tokentype.types.string){node.specifiers=empty;node.source=this.parseExprAtom()}else{node.specifiers=this.parseImportSpecifiers();this.expectContextual("from");node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected()}this.semicolon();return this.finishNode(node,"ImportDeclaration")};pp.parseImportSpecifiers=function(){var nodes=[],first=true;if(this.type===_tokentype.types.name){var node=this.startNode();node.local=this.parseIdent();this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportDefaultSpecifier"));if(!this.eat(_tokentype.types.comma))return nodes}if(this.type===_tokentype.types.star){var node=this.startNode();this.next();this.expectContextual("as");node.local=this.parseIdent();this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportNamespaceSpecifier"));return nodes}this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var node=this.startNode();node.imported=this.parseIdent(true);if(this.eatContextual("as")){node.local=this.parseIdent()}else{node.local=node.imported;if(this.isKeyword(node.local.name))this.unexpected(node.local.start);if(this.reservedWordsStrict.test(node.local.name))this.raise(node.local.start,"The keyword '"+node.local.name+"' is reserved")}this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportSpecifier"))}return nodes}},{"./state":10,"./tokentype":14,"./whitespace":16}],12:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _state=_dereq_("./state");var _tokentype=_dereq_("./tokentype");var _whitespace=_dereq_("./whitespace");var TokContext=function TokContext(token,isExpr,preserveSpace,override){_classCallCheck(this,TokContext);this.token=token;this.isExpr=!!isExpr;this.preserveSpace=!!preserveSpace;this.override=override};exports.TokContext=TokContext;var types={b_stat:new TokContext("{",false),b_expr:new TokContext("{",true),b_tmpl:new TokContext("${",true),p_stat:new TokContext("(",false),p_expr:new TokContext("(",true),q_tmpl:new TokContext("`",true,true,function(p){return p.readTmplToken()}),f_expr:new TokContext("function",true)};exports.types=types;var pp=_state.Parser.prototype;pp.initialContext=function(){return[types.b_stat]};pp.braceIsBlock=function(prevType){if(prevType===_tokentype.types.colon){var _parent=this.curContext();if(_parent===types.b_stat||_parent===types.b_expr)return!_parent.isExpr}if(prevType===_tokentype.types._return)return _whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start));if(prevType===_tokentype.types._else||prevType===_tokentype.types.semi||prevType===_tokentype.types.eof||prevType===_tokentype.types.parenR)return true;if(prevType==_tokentype.types.braceL)return this.curContext()===types.b_stat;return!this.exprAllowed};pp.updateContext=function(prevType){var update=undefined,type=this.type;if(type.keyword&&prevType==_tokentype.types.dot)this.exprAllowed=false;else if(update=type.updateContext)update.call(this,prevType);else this.exprAllowed=type.beforeExpr};_tokentype.types.parenR.updateContext=_tokentype.types.braceR.updateContext=function(){if(this.context.length==1){this.exprAllowed=true;return}var out=this.context.pop();if(out===types.b_stat&&this.curContext()===types.f_expr){this.context.pop();this.exprAllowed=false}else if(out===types.b_tmpl){this.exprAllowed=true}else{this.exprAllowed=!out.isExpr}};_tokentype.types.braceL.updateContext=function(prevType){this.context.push(this.braceIsBlock(prevType)?types.b_stat:types.b_expr);this.exprAllowed=true};_tokentype.types.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl);this.exprAllowed=true};_tokentype.types.parenL.updateContext=function(prevType){var statementParens=prevType===_tokentype.types._if||prevType===_tokentype.types._for||prevType===_tokentype.types._with||prevType===_tokentype.types._while;this.context.push(statementParens?types.p_stat:types.p_expr);this.exprAllowed=true};_tokentype.types.incDec.updateContext=function(){};_tokentype.types._function.updateContext=function(){if(this.curContext()!==types.b_stat)this.context.push(types.f_expr);this.exprAllowed=false};_tokentype.types.backQuote.updateContext=function(){if(this.curContext()===types.q_tmpl)this.context.pop();else this.context.push(types.q_tmpl);this.exprAllowed=false}},{"./state":10,"./tokentype":14,"./whitespace":16}],13:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _identifier=_dereq_("./identifier");var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var _whitespace=_dereq_("./whitespace");var Token=function Token(p){_classCallCheck(this,Token);this.type=p.type;this.value=p.value;this.start=p.start;this.end=p.end;if(p.options.locations)this.loc=new _locutil.SourceLocation(p,p.startLoc,p.endLoc);if(p.options.ranges)this.range=[p.start,p.end]};exports.Token=Token;var pp=_state.Parser.prototype;var isRhino=typeof Packages=="object"&&Object.prototype.toString.call(Packages)=="[object JavaPackage]";pp.next=function(){if(this.options.onToken)this.options.onToken(new Token(this));this.lastTokEnd=this.end;this.lastTokStart=this.start;this.lastTokEndLoc=this.endLoc;this.lastTokStartLoc=this.startLoc;this.nextToken()};pp.getToken=function(){this.next();return new Token(this)};if(typeof Symbol!=="undefined")pp[Symbol.iterator]=function(){var self=this;return{next:function next(){var token=self.getToken();return{done:token.type===_tokentype.types.eof,value:token}}}};pp.setStrict=function(strict){this.strict=strict;if(this.type!==_tokentype.types.num&&this.type!==_tokentype.types.string)return;this.pos=this.start;if(this.options.locations){while(this.pos<this.lineStart){this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1;--this.curLine}}this.nextToken()};pp.curContext=function(){return this.context[this.context.length-1]};pp.nextToken=function(){var curContext=this.curContext();if(!curContext||!curContext.preserveSpace)this.skipSpace();this.start=this.pos;if(this.options.locations)this.startLoc=this.curPosition();if(this.pos>=this.input.length)return this.finishToken(_tokentype.types.eof);if(curContext.override)return curContext.override(this);else this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(code){if(_identifier.isIdentifierStart(code,this.options.ecmaVersion>=6)||code===92)return this.readWord();return this.getTokenFromCode(code)};pp.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.pos);if(code<=55295||code>=57344)return code;var next=this.input.charCodeAt(this.pos+1);return(code<<10)+next-56613888};pp.skipBlockComment=function(){var startLoc=this.options.onComment&&this.curPosition();var start=this.pos,end=this.input.indexOf("*/",this.pos+=2);if(end===-1)this.raise(this.pos-2,"Unterminated comment");this.pos=end+2;if(this.options.locations){_whitespace.lineBreakG.lastIndex=start;var match=undefined;while((match=_whitespace.lineBreakG.exec(this.input))&&match.index<this.pos){++this.curLine;this.lineStart=match.index+match[0].length}}if(this.options.onComment)this.options.onComment(true,this.input.slice(start+2,end),start,this.pos,startLoc,this.curPosition())};pp.skipLineComment=function(startSkip){var start=this.pos;var startLoc=this.options.onComment&&this.curPosition();var ch=this.input.charCodeAt(this.pos+=startSkip);while(this.pos<this.input.length&&ch!==10&&ch!==13&&ch!==8232&&ch!==8233){++this.pos;ch=this.input.charCodeAt(this.pos)}if(this.options.onComment)this.options.onComment(false,this.input.slice(start+startSkip,this.pos),start,this.pos,startLoc,this.curPosition())};pp.skipSpace=function(){loop:while(this.pos<this.input.length){var ch=this.input.charCodeAt(this.pos);switch(ch){case 32:case 160:++this.pos;break;case 13:if(this.input.charCodeAt(this.pos+1)===10){++this.pos}case 10:case 8232:case 8233:++this.pos;if(this.options.locations){++this.curLine;this.lineStart=this.pos}break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break loop}break;default:if(ch>8&&ch<14||ch>=5760&&_whitespace.nonASCIIwhitespace.test(String.fromCharCode(ch))){++this.pos}else{break loop}}}};pp.finishToken=function(type,val){this.end=this.pos;if(this.options.locations)this.endLoc=this.curPosition();var prevType=this.type;this.type=type;this.value=val;this.updateContext(prevType)};pp.readToken_dot=function(){var next=this.input.charCodeAt(this.pos+1);if(next>=48&&next<=57)return this.readNumber(true);var next2=this.input.charCodeAt(this.pos+2);if(this.options.ecmaVersion>=6&&next===46&&next2===46){this.pos+=3;return this.finishToken(_tokentype.types.ellipsis)}else{++this.pos;return this.finishToken(_tokentype.types.dot)}};pp.readToken_slash=function(){var next=this.input.charCodeAt(this.pos+1);if(this.exprAllowed){++this.pos;return this.readRegexp()}if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.slash,1)};pp.readToken_mult_modulo=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(code===42?_tokentype.types.star:_tokentype.types.modulo,1)};pp.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code)return this.finishOp(code===124?_tokentype.types.logicalOR:_tokentype.types.logicalAND,2);if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(code===124?_tokentype.types.bitwiseOR:_tokentype.types.bitwiseAND,1)};pp.readToken_caret=function(){var next=this.input.charCodeAt(this.pos+1);if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.bitwiseXOR,1)};pp.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code){if(next==45&&this.input.charCodeAt(this.pos+2)==62&&_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))){this.skipLineComment(3);this.skipSpace();return this.nextToken()}return this.finishOp(_tokentype.types.incDec,2)}if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.plusMin,1)};pp.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.pos+1);var size=1;if(next===code){size=code===62&&this.input.charCodeAt(this.pos+2)===62?3:2;if(this.input.charCodeAt(this.pos+size)===61)return this.finishOp(_tokentype.types.assign,size+1);return this.finishOp(_tokentype.types.bitShift,size)}if(next==33&&code==60&&this.input.charCodeAt(this.pos+2)==45&&this.input.charCodeAt(this.pos+3)==45){if(this.inModule)this.unexpected();this.skipLineComment(4);this.skipSpace();return this.nextToken()}if(next===61)size=this.input.charCodeAt(this.pos+2)===61?3:2;return this.finishOp(_tokentype.types.relational,size)};pp.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===61)return this.finishOp(_tokentype.types.equality,this.input.charCodeAt(this.pos+2)===61?3:2);if(code===61&&next===62&&this.options.ecmaVersion>=6){this.pos+=2;return this.finishToken(_tokentype.types.arrow)}return this.finishOp(code===61?_tokentype.types.eq:_tokentype.types.prefix,1)};pp.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:++this.pos;return this.finishToken(_tokentype.types.parenL);case 41:++this.pos;return this.finishToken(_tokentype.types.parenR);case 59:++this.pos;return this.finishToken(_tokentype.types.semi);case 44:++this.pos;return this.finishToken(_tokentype.types.comma);case 91:++this.pos;return this.finishToken(_tokentype.types.bracketL);case 93:++this.pos;return this.finishToken(_tokentype.types.bracketR);case 123:++this.pos;return this.finishToken(_tokentype.types.braceL);case 125:++this.pos;return this.finishToken(_tokentype.types.braceR);case 58:++this.pos;return this.finishToken(_tokentype.types.colon);case 63:++this.pos;return this.finishToken(_tokentype.types.question);case 96:if(this.options.ecmaVersion<6)break;++this.pos;return this.finishToken(_tokentype.types.backQuote);case 48:var next=this.input.charCodeAt(this.pos+1);if(next===120||next===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(next===111||next===79)return this.readRadixNumber(8);if(next===98||next===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(false);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 126:return this.finishOp(_tokentype.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")};pp.finishOp=function(type,size){var str=this.input.slice(this.pos,this.pos+size);this.pos+=size;return this.finishToken(type,str)};function tryCreateRegexp(src,flags,throwErrorAt,parser){try{return new RegExp(src,flags)}catch(e){if(throwErrorAt!==undefined){if(e instanceof SyntaxError)parser.raise(throwErrorAt,"Error parsing regular expression: "+e.message);throw e}}}var regexpUnicodeSupport=!!tryCreateRegexp("￿","u");pp.readRegexp=function(){var _this=this;var escaped=undefined,inClass=undefined,start=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(start,"Unterminated regular expression");var ch=this.input.charAt(this.pos);if(_whitespace.lineBreak.test(ch))this.raise(start,"Unterminated regular expression");if(!escaped){if(ch==="[")inClass=true;else if(ch==="]"&&inClass)inClass=false;else if(ch==="/"&&!inClass)break;escaped=ch==="\\"}else escaped=false;++this.pos}var content=this.input.slice(start,this.pos);++this.pos;var mods=this.readWord1();var tmp=content;if(mods){var validFlags=/^[gim]*$/;if(this.options.ecmaVersion>=6)validFlags=/^[gimuy]*$/;if(!validFlags.test(mods))this.raise(start,"Invalid regular expression flag");if(mods.indexOf("u")>=0&&!regexpUnicodeSupport){tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(_match,code,offset){code=Number("0x"+code);if(code>1114111)_this.raise(start+offset+3,"Code point out of bounds");return"x"});tmp=tmp.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x")}}var value=null;if(!isRhino){tryCreateRegexp(tmp,undefined,start,this);value=tryCreateRegexp(content,mods)}return this.finishToken(_tokentype.types.regexp,{pattern:content,flags:mods,value:value})};pp.readInt=function(radix,len){var start=this.pos,total=0;for(var i=0,e=len==null?Infinity:len;i<e;++i){var code=this.input.charCodeAt(this.pos),val=undefined;if(code>=97)val=code-97+10;else if(code>=65)val=code-65+10;else if(code>=48&&code<=57)val=code-48;else val=Infinity;if(val>=radix)break;++this.pos;total=total*radix+val}if(this.pos===start||len!=null&&this.pos-start!==len)return null;return total};pp.readRadixNumber=function(radix){this.pos+=2;var val=this.readInt(radix);if(val==null)this.raise(this.start+2,"Expected number in radix "+radix);if(_identifier.isIdentifierStart(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");return this.finishToken(_tokentype.types.num,val)};pp.readNumber=function(startsWithDot){var start=this.pos,isFloat=false,octal=this.input.charCodeAt(this.pos)===48;if(!startsWithDot&&this.readInt(10)===null)this.raise(start,"Invalid number");var next=this.input.charCodeAt(this.pos);if(next===46){++this.pos;this.readInt(10);isFloat=true;next=this.input.charCodeAt(this.pos)}if(next===69||next===101){next=this.input.charCodeAt(++this.pos);if(next===43||next===45)++this.pos;if(this.readInt(10)===null)this.raise(start,"Invalid number");isFloat=true}if(_identifier.isIdentifierStart(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");var str=this.input.slice(start,this.pos),val=undefined;if(isFloat)val=parseFloat(str);else if(!octal||str.length===1)val=parseInt(str,10);else if(/[89]/.test(str)||this.strict)this.raise(start,"Invalid number");else val=parseInt(str,8);return this.finishToken(_tokentype.types.num,val)};pp.readCodePoint=function(){var ch=this.input.charCodeAt(this.pos),code=undefined;if(ch===123){if(this.options.ecmaVersion<6)this.unexpected();var codePos=++this.pos;code=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos);++this.pos;if(code>1114111)this.raise(codePos,"Code point out of bounds")}else{code=this.readHexChar(4)}return code};function codePointToString(code){if(code<=65535)return String.fromCharCode(code);code-=65536;return String.fromCharCode((code>>10)+55296,(code&1023)+56320)}pp.readString=function(quote){var out="",chunkStart=++this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated string constant");var ch=this.input.charCodeAt(this.pos);if(ch===quote)break;if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(false);chunkStart=this.pos}else{if(_whitespace.isNewLine(ch))this.raise(this.start,"Unterminated string constant");++this.pos}}out+=this.input.slice(chunkStart,this.pos++);return this.finishToken(_tokentype.types.string,out)};pp.readTmplToken=function(){var out="",chunkStart=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated template");var ch=this.input.charCodeAt(this.pos);if(ch===96||ch===36&&this.input.charCodeAt(this.pos+1)===123){if(this.pos===this.start&&this.type===_tokentype.types.template){if(ch===36){this.pos+=2;return this.finishToken(_tokentype.types.dollarBraceL)}else{++this.pos;return this.finishToken(_tokentype.types.backQuote)}}out+=this.input.slice(chunkStart,this.pos);return this.finishToken(_tokentype.types.template,out)}if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(true);chunkStart=this.pos}else if(_whitespace.isNewLine(ch)){out+=this.input.slice(chunkStart,this.pos);++this.pos;switch(ch){case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:out+="\n";break;default:out+=String.fromCharCode(ch);break}if(this.options.locations){++this.curLine;this.lineStart=this.pos}chunkStart=this.pos}else{++this.pos}}};pp.readEscapedChar=function(inTemplate){var ch=this.input.charCodeAt(++this.pos);++this.pos;switch(ch){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:if(this.options.locations){this.lineStart=this.pos;++this.curLine}return"";default:if(ch>=48&&ch<=55){var octalStr=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0];var octal=parseInt(octalStr,8);if(octal>255){
octalStr=octalStr.slice(0,-1);octal=parseInt(octalStr,8)}if(octalStr!=="0"&&(this.strict||inTemplate)){this.raise(this.pos-2,"Octal literal in strict mode")}this.pos+=octalStr.length-1;return String.fromCharCode(octal)}return String.fromCharCode(ch)}};pp.readHexChar=function(len){var codePos=this.pos;var n=this.readInt(16,len);if(n===null)this.raise(codePos,"Bad character escape sequence");return n};pp.readWord1=function(){this.containsEsc=false;var word="",first=true,chunkStart=this.pos;var astral=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var ch=this.fullCharCodeAtPos();if(_identifier.isIdentifierChar(ch,astral)){this.pos+=ch<=65535?1:2}else if(ch===92){this.containsEsc=true;word+=this.input.slice(chunkStart,this.pos);var escStart=this.pos;if(this.input.charCodeAt(++this.pos)!=117)this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX");++this.pos;var esc=this.readCodePoint();if(!(first?_identifier.isIdentifierStart:_identifier.isIdentifierChar)(esc,astral))this.raise(escStart,"Invalid Unicode escape");word+=codePointToString(esc);chunkStart=this.pos}else{break}first=false}return word+this.input.slice(chunkStart,this.pos)};pp.readWord=function(){var word=this.readWord1();var type=_tokentype.types.name;if((this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(word))type=_tokentype.keywords[word];return this.finishToken(type,word)}},{"./identifier":2,"./locutil":5,"./state":10,"./tokentype":14,"./whitespace":16}],14:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TokenType=function TokenType(label){var conf=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];_classCallCheck(this,TokenType);this.label=label;this.keyword=conf.keyword;this.beforeExpr=!!conf.beforeExpr;this.startsExpr=!!conf.startsExpr;this.isLoop=!!conf.isLoop;this.isAssign=!!conf.isAssign;this.prefix=!!conf.prefix;this.postfix=!!conf.postfix;this.binop=conf.binop||null;this.updateContext=null};exports.TokenType=TokenType;function binop(name,prec){return new TokenType(name,{beforeExpr:true,binop:prec})}var beforeExpr={beforeExpr:true},startsExpr={startsExpr:true};var types={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:true,startsExpr:true}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:true,startsExpr:true}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:true,startsExpr:true}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:true,startsExpr:true}),eq:new TokenType("=",{beforeExpr:true,isAssign:true}),assign:new TokenType("_=",{beforeExpr:true,isAssign:true}),incDec:new TokenType("++/--",{prefix:true,postfix:true,startsExpr:true}),prefix:new TokenType("prefix",{beforeExpr:true,prefix:true,startsExpr:true}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=",6),relational:binop("</>",7),bitShift:binop("<</>>",8),plusMin:new TokenType("+/-",{beforeExpr:true,binop:9,prefix:true,startsExpr:true}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10)};exports.types=types;var keywords={};exports.keywords=keywords;function kw(name){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];options.keyword=name;keywords[name]=types["_"+name]=new TokenType(name,options)}kw("break");kw("case",beforeExpr);kw("catch");kw("continue");kw("debugger");kw("default",beforeExpr);kw("do",{isLoop:true,beforeExpr:true});kw("else",beforeExpr);kw("finally");kw("for",{isLoop:true});kw("function",startsExpr);kw("if");kw("return",beforeExpr);kw("switch");kw("throw",beforeExpr);kw("try");kw("var");kw("let");kw("const");kw("while",{isLoop:true});kw("with");kw("new",{beforeExpr:true,startsExpr:true});kw("this",startsExpr);kw("super",startsExpr);kw("class");kw("extends",beforeExpr);kw("export");kw("import");kw("yield",{beforeExpr:true,startsExpr:true});kw("null",startsExpr);kw("true",startsExpr);kw("false",startsExpr);kw("in",{beforeExpr:true,binop:7});kw("instanceof",{beforeExpr:true,binop:7});kw("typeof",{beforeExpr:true,prefix:true,startsExpr:true});kw("void",{beforeExpr:true,prefix:true,startsExpr:true});kw("delete",{beforeExpr:true,prefix:true,startsExpr:true})},{}],15:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isArray=isArray;exports.has=has;function isArray(obj){return Object.prototype.toString.call(obj)==="[object Array]"}function has(obj,propName){return Object.prototype.hasOwnProperty.call(obj,propName)}},{}],16:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isNewLine=isNewLine;var lineBreak=/\r\n?|\n|\u2028|\u2029/;exports.lineBreak=lineBreak;var lineBreakG=new RegExp(lineBreak.source,"g");exports.lineBreakG=lineBreakG;function isNewLine(code){return code===10||code===13||code===8232||code==8233}var nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;exports.nonASCIIwhitespace=nonASCIIwhitespace},{}]},{},[3])(3)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],54:[function(require,module,exports){"use strict";var _=require("microdash"),acorn=require("acorn"),estraverse=require("estraverse"),CONSEQUENT="consequent",Syntax=estraverse.Syntax,createSwitchCase=function createSwitchCase(statementNode,index,nextIndex){if(!nextIndex){nextIndex=index+1}return{type:Syntax.SwitchCase,test:{type:Syntax.Literal,value:index},consequent:[statementNode,acorn.parse("statementIndex = "+nextIndex+";").body[0]]}};function BlockContext(functionContext){this.functionContext=functionContext;this.switchCases=[];this.transformNext=null}_.extend(BlockContext.prototype,{addAssignment:function(name){var context=this,index=context.functionContext.getNextStatementIndex();return{assign:function(expressionNode){if(!expressionNode){throw new Error("Expression node must be specified")}context.functionContext.addAssignment(index,name);context.switchCases[index]=createSwitchCase({type:Syntax.ExpressionStatement,expression:{type:Syntax.AssignmentExpression,operator:"=",left:{type:Syntax.Identifier,name:name},right:expressionNode}},index)}}},addResumeThrow:function(){var context=this,index=context.functionContext.getCurrentStatementIndex();return{assign:function(expressionNode){var endIndex=context.functionContext.getCurrentStatementIndex()-1,i;if(!expressionNode){throw new Error("Expression node must be specified")}context.appendToLastStatement({type:Syntax.BreakStatement,label:null});for(i=index;i<endIndex;i++){context.switchCases[i]={type:Syntax.SwitchCase,test:{type:Syntax.Literal,value:i},consequent:[]}}context.switchCases[endIndex]={type:Syntax.SwitchCase,test:{type:Syntax.Literal,value:endIndex},consequent:[{type:Syntax.ThrowStatement,argument:{type:Syntax.NewExpression,callee:{type:Syntax.MemberExpression,object:{type:Syntax.Identifier,name:"Resumable"},property:{type:Syntax.Identifier,name:"ResumeException"},computed:false},arguments:[expressionNode]}}]}}}},appendToLastStatement:function(statementNode){var context=this,switchCase=context.switchCases[context.switchCases.length-1];if(!switchCase){return}if(_.isArray(switchCase)){switchCase[switchCase.length-1][CONSEQUENT].push(statementNode)}else{switchCase.push(statementNode)}},getSwitchStatement:function(){var switchCases=[];_.each(this.switchCases,function(switchCase){if(switchCase){if(_.isArray(switchCase)){[].push.apply(switchCases,switchCase)}else{switchCases.push(switchCase)}}});return{type:Syntax.SwitchStatement,discriminant:{type:Syntax.Identifier,name:"statementIndex"},cases:switchCases}},prepareStatement:function(){var context=this,endIndex=null,index=context.functionContext.getNextStatementIndex();return{assign:function(statementNode,nextIndex){var i,switchCases=[];if(context.transformNext){statementNode=context.transformNext(statementNode);context.transformNext=null}if(!endIndex){endIndex=context.functionContext.getCurrentStatementIndex()}for(i=index;i<endIndex-1;i++){switchCases.push({type:Syntax.SwitchCase,test:{type:Syntax.Literal,value:i},consequent:i===index?[acorn.parse("statementIndex = "+(index+1)+";").body[0]]:[]})}switchCases.push(createSwitchCase(statementNode,endIndex-1,nextIndex));context.switchCases[index]=switchCases},captureEndIndex:function(){endIndex=context.functionContext.getCurrentStatementIndex()},getEndIndex:function(){return endIndex},getIndex:function(){return index}}},transformNextStatement:function(transformer){this.transformNext=transformer}});module.exports=BlockContext},{acorn:53,estraverse:19,microdash:27}],55:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),ELEMENTS="elements",Syntax=estraverse.Syntax;function ArrayExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ArrayExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.ArrayExpression},transpile:function(node,parent,functionContext,blockContext){var transpiler=this;return{type:Syntax.ArrayExpression,elements:transpiler.expressionTranspiler.transpileArray(node[ELEMENTS],node,functionContext,blockContext)}}});module.exports=ArrayExpressionTranspiler},{estraverse:19,microdash:27}],56:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),LEFT="left",OPERATOR="operator",RIGHT="right",Syntax=estraverse.Syntax;function AssignmentExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(AssignmentExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.AssignmentExpression},transpile:function(node,parent,functionContext,blockContext){var left,right,transpiler=this;left=transpiler.expressionTranspiler.transpile(node[LEFT],node,functionContext,blockContext,{assignment:true});if(node[OPERATOR]==="="){right=node[RIGHT]}else{right={type:Syntax.BinaryExpression,operator:node[OPERATOR].charAt(0),left:node[LEFT],right:node[RIGHT]}}right=transpiler.expressionTranspiler.transpile(right,node,functionContext,blockContext);return{type:Syntax.AssignmentExpression,operator:"=",left:left,right:right}}});module.exports=AssignmentExpressionTranspiler},{estraverse:19,microdash:27}],57:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),LEFT="left",OPERATOR="operator",RIGHT="right",Syntax=estraverse.Syntax;function BinaryExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(BinaryExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.BinaryExpression},transpile:function(node,parent,functionContext,blockContext){var left,right,transpiler=this;left=transpiler.expressionTranspiler.transpile(node[LEFT],node,functionContext,blockContext);right=transpiler.expressionTranspiler.transpile(node[RIGHT],node,functionContext,blockContext);return{type:Syntax.BinaryExpression,operator:node[OPERATOR],left:left,right:right}}});module.exports=BinaryExpressionTranspiler},{estraverse:19,microdash:27}],58:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),ARGUMENTS="arguments",CALLEE="callee",OBJECT="object",TYPE="type",Syntax=estraverse.Syntax;function CallExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(CallExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.CallExpression},transpile:function(node,parent,functionContext,blockContext){var args=node[ARGUMENTS],assignments,callee,callNode,transpiler=this,tempNameForAssignment;functionContext.clearLastAssignments();callee=transpiler.expressionTranspiler.transpile(node[CALLEE],node,functionContext,blockContext);assignments=functionContext.getLastAssignments();args=transpiler.expressionTranspiler.transpileArray(args,node,functionContext,blockContext);if(node[CALLEE][TYPE]===Syntax.MemberExpression){args=[assignments.length>1?{type:Syntax.Identifier,name:assignments[assignments.length-2]}:node[CALLEE][OBJECT]].concat(args);callee={type:Syntax.MemberExpression,object:callee,property:{type:Syntax.Identifier,name:"call"},computed:false}}callNode={type:Syntax.CallExpression,callee:callee,arguments:args};if(parent[TYPE]===Syntax.ExpressionStatement){return callNode}tempNameForAssignment=functionContext.getTempName();blockContext.addAssignment(tempNameForAssignment).assign(callNode);return{type:Syntax.Identifier,name:tempNameForAssignment}}});module.exports=CallExpressionTranspiler},{estraverse:19,microdash:27}],59:[function(require,module,exports){"use strict";var _=require("microdash"),TYPE="type",hasOwn={}.hasOwnProperty;function ExpressionTranspiler(){this.transpilers={}}_.extend(ExpressionTranspiler.prototype,{addTranspiler:function(transpiler){this.transpilers[transpiler.getNodeType()]=transpiler},transpile:function(node,parent,functionContext,blockContext){var transpiler=this;if(!hasOwn.call(transpiler.transpilers,node[TYPE])){return node}return transpiler.transpilers[node[TYPE]].transpile(node,parent,functionContext,blockContext)},transpileArray:function(array,parent,functionContext,blockContext){var result=[],transpiler=this;_.each(array,function(expressionNode){result.push(transpiler.transpile(expressionNode,parent,functionContext,blockContext))});return result}});module.exports=ExpressionTranspiler},{microdash:27}],60:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),Syntax=estraverse.Syntax;function FunctionExpressionTranspiler(statementTranspiler,expressionTranspiler,functionTranspiler){this.expressionTranspiler=expressionTranspiler;this.functionTranspiler=functionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(FunctionExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.FunctionExpression},transpile:function(node,parent,functionContext,blockContext){return this.functionTranspiler.transpile(node,parent,functionContext,blockContext)}});module.exports=FunctionExpressionTranspiler},{estraverse:19,microdash:27}],61:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),LEFT="left",NAME="name",TYPE="type",Syntax=estraverse.Syntax;function IdentifierTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(IdentifierTranspiler.prototype,{getNodeType:function(){return Syntax.Identifier},transpile:function(node,parent,functionContext,blockContext){var isDefined=functionContext.hasVariableDefined(node[NAME])||parent[TYPE]===Syntax.AssignmentExpression&&node===parent[LEFT];return{type:Syntax.Identifier,name:isDefined?node[NAME]:functionContext.getTempNameForVariable(node[NAME],blockContext)}}});module.exports=IdentifierTranspiler},{estraverse:19,microdash:27}],62:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),LEFT="left",OPERATOR="operator",RIGHT="right",Syntax=estraverse.Syntax;function LogicalExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(LogicalExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.LogicalExpression},transpile:function(node,parent,functionContext,blockContext){var condition,left,right,rightSideBlockContext,statement,tempName,transpiler=this;left=transpiler.expressionTranspiler.transpile(node[LEFT],node,functionContext,blockContext);statement=blockContext.prepareStatement();rightSideBlockContext=new BlockContext(functionContext);right=transpiler.expressionTranspiler.transpile(node[RIGHT],node,functionContext,rightSideBlockContext);condition=node[OPERATOR]==="||"?{type:Syntax.UnaryExpression,operator:"!",prefix:true,argument:left}:left;statement.assign({type:Syntax.IfStatement,test:{type:Syntax.LogicalExpression,operator:"||",left:{type:Syntax.BinaryExpression,operator:">",left:{type:Syntax.Identifier,name:"statementIndex"},right:{type:Syntax.Literal,value:statement.getIndex()+1}},right:condition},consequent:{type:Syntax.BlockStatement,body:[rightSideBlockContext.getSwitchStatement()]}});tempName=functionContext.getTempName();blockContext.addAssignment(tempName).assign({type:Syntax.LogicalExpression,operator:node[OPERATOR],left:left,right:right});return{type:Syntax.Identifier,name:tempName}}});module.exports=LogicalExpressionTranspiler},{"../BlockContext":54,estraverse:19,microdash:27}],63:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),COMPUTED="computed",OBJECT="object",PROPERTY="property",TYPE="type",Syntax=estraverse.Syntax;function MemberExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(MemberExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.MemberExpression},transpile:function(node,parent,functionContext,blockContext){var memberExpression,object=this.expressionTranspiler.transpile(node[OBJECT],node,functionContext,blockContext),property=node[COMPUTED]?this.expressionTranspiler.transpile(node[PROPERTY],node,functionContext,blockContext):node[PROPERTY],propertyTempName;memberExpression={type:Syntax.MemberExpression,object:object,property:property,computed:node[COMPUTED]};if(parent[TYPE]===Syntax.AssignmentExpression){return memberExpression}propertyTempName=functionContext.getTempName();blockContext.addAssignment(propertyTempName).assign(memberExpression);return{type:Syntax.Identifier,name:propertyTempName}}});module.exports=MemberExpressionTranspiler},{estraverse:19,microdash:27}],64:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),PROPERTIES="properties",Syntax=estraverse.Syntax;function ObjectExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ObjectExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.ObjectExpression},transpile:function(node,parent,functionContext,blockContext){var transpiler=this;return{type:Syntax.ObjectExpression,properties:transpiler.expressionTranspiler.transpileArray(node[PROPERTIES],node,functionContext,blockContext)}}});module.exports=ObjectExpressionTranspiler},{estraverse:19,microdash:27}],65:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),KEY="key",KIND="kind",VALUE="value",Syntax=estraverse.Syntax;function PropertyTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(PropertyTranspiler.prototype,{getNodeType:function(){return Syntax.Property},transpile:function(node,parent,functionContext,blockContext){var transpiler=this;return{type:Syntax.Property,key:node[KEY],value:transpiler.expressionTranspiler.transpile(node[VALUE],node,functionContext,blockContext),kind:node[KIND]}}});module.exports=PropertyTranspiler},{estraverse:19,microdash:27}],66:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),EXPRESSIONS="expressions",Syntax=estraverse.Syntax;function SequenceExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(SequenceExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.SequenceExpression},transpile:function(node,parent,functionContext,blockContext){var expressions=[],transpiler=this;_.each(node[EXPRESSIONS],function(expression){expressions.push(transpiler.expressionTranspiler.transpile(expression,node,functionContext,blockContext))});return{type:Syntax.SequenceExpression,expressions:expressions}}});module.exports=SequenceExpressionTranspiler},{estraverse:19,microdash:27}],67:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),ARGUMENT="argument",COMPUTED="computed",NAME="name",OBJECT="object",OPERATOR="operator",PREFIX="prefix",PROPERTY="property",TYPE="type",Syntax=estraverse.Syntax;function UpdateExpressionTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(UpdateExpressionTranspiler.prototype,{getNodeType:function(){return Syntax.UpdateExpression},transpile:function(node,parent,functionContext,blockContext){var expression,object=null,objectTempName=null,resultTempName;if(node[ARGUMENT][TYPE]===Syntax.MemberExpression){object=this.expressionTranspiler.transpile(node[ARGUMENT][OBJECT],node,functionContext,blockContext);object={type:Syntax.MemberExpression,object:object,property:node[ARGUMENT][COMPUTED]?this.expressionTranspiler.transpile(node[ARGUMENT][PROPERTY],node[ARGUMENT],functionContext,blockContext):node[ARGUMENT][PROPERTY],computed:node[ARGUMENT][COMPUTED]};objectTempName=functionContext.getTempName();blockContext.addAssignment(objectTempName).assign(object);expression={type:Syntax.Identifier,name:objectTempName}}else{expression=this.expressionTranspiler.transpile(node[ARGUMENT],node,functionContext,blockContext)}resultTempName=functionContext.getTempName();blockContext.addAssignment(resultTempName).assign({type:Syntax.BinaryExpression,left:expression,operator:node[OPERATOR].charAt(0),right:{type:Syntax.Literal,value:1}});blockContext.prepareStatement().assign({type:Syntax.ExpressionStatement,expression:{type:Syntax.AssignmentExpression,left:object?object:node[ARGUMENT],operator:"=",right:{type:Syntax.Identifier,name:resultTempName}}});return{type:Syntax.Identifier,name:node[PREFIX]?resultTempName:functionContext.getLastTempNameForVariable(node[ARGUMENT][NAME])}}});module.exports=UpdateExpressionTranspiler},{estraverse:19,microdash:27}],68:[function(require,module,exports){"use strict";var _=require("microdash"),acorn=require("acorn"),estraverse=require("estraverse"),DECLARATIONS="declarations",ID="id",NAME="name",Syntax=estraverse.Syntax;function FunctionContext(){this.assignmentVariables={};this.catches=[];this.functionDeclarations=[];this.labelIndex=-1;this.labelUsed=false;this.labelUseds=[];this.lastAssignments=[];this.lastTempNames={};this.nextStatementIndex=0;this.nextTempIndex=0;this.parameters=[];this.variables=[]}_.extend(FunctionContext.prototype,{addAssignment:function(index,variableName){var context=this;context.assignmentVariables[index]=variableName;context.lastAssignments.push(variableName)},addCatch:function(data){this.catches.push(data)},addFunctionDeclaration:function(declaration){this.functionDeclarations.push(declaration)},addParameter:function(name){this.parameters.push(name)},addVariable:function(name){this.variables.push(name)},clearLastAssignments:function(){this.lastAssignments=[]},getCurrentStatementIndex:function(){return this.nextStatementIndex},getLabel:function(){var context=this;context.labelUsed=true;return"label"+context.labelIndex},getLastAssignments:function(){var context=this,lastAssignments=context.lastAssignments;context.lastAssignments=[];return lastAssignments},getNextStatementIndex:function(){return this.nextStatementIndex++},getStatements:function(switchStatement){var assignmentProperties=[],catchesProperties,declaration=acorn.parse("var statementIndex = 0;").body[0],functionContext=this,index,statements=[],stateProperties=[],stateSetup=acorn.parse("if (Resumable._resumeState_) { statementIndex = Resumable._resumeState_.statementIndex; }").body[0];_.each(functionContext.variables,function(name){declaration[DECLARATIONS].push({type:Syntax.VariableDeclarator,id:{type:Syntax.Identifier,name:name},init:null})});if(functionContext.catches.length>0){catchesProperties=[];_.each(functionContext.catches,function(catchData){catchesProperties.push({type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:catchData.catchStatementIndex},value:{type:Syntax.ObjectExpression,properties:[{type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"from"},value:{type:Syntax.Literal,value:catchData.tryStartIndex}},{type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"to"},value:{type:Syntax.Literal,value:catchData.tryEndIndex}},{type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"param"},value:{type:Syntax.Literal,value:catchData.catchParameter}}]}})});stateProperties.push({type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"catches"},value:{type:Syntax.ObjectExpression,properties:catchesProperties}})}for(index=0;index<functionContext.nextTempIndex;index++){stateProperties.push({type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"temp"+index},value:{type:Syntax.Identifier,name:"temp"+index}});declaration.declarations.push({type:Syntax.VariableDeclarator,id:{type:Syntax.Identifier,name:"temp"+index},init:null});stateSetup.consequent.body.push({type:Syntax.ExpressionStatement,expression:{type:Syntax.AssignmentExpression,operator:"=",left:{type:Syntax.Identifier,name:"temp"+index},right:acorn.parse("Resumable._resumeState_.temp"+index).body[0].expression}})}stateSetup.consequent.body.push(acorn.parse("Resumable._resumeState_ = null;").body[0]);_.forOwn(functionContext.assignmentVariables,function(variableName,statementIndex){assignmentProperties.push({type:Syntax.Property,kind:"init",key:{type:Syntax.Literal,value:statementIndex},value:{type:Syntax.Literal,value:variableName}})});statements.push(declaration);[].push.apply(statements,functionContext.functionDeclarations);statements.push({type:Syntax.ReturnStatement,argument:{type:Syntax.CallExpression,arguments:[{type:Syntax.ThisExpression},{type:Syntax.Identifier,name:"arguments"}],callee:{type:Syntax.MemberExpression,object:{type:Syntax.FunctionExpression,id:{type:Syntax.Identifier,name:"resumableScope"},params:[],body:{type:Syntax.BlockStatement,body:[stateSetup,{type:Syntax.TryStatement,block:{type:Syntax.BlockStatement,body:[switchStatement]},handler:{type:Syntax.CatchClause,param:{type:Syntax.Identifier,name:"e"},body:{type:Syntax.BlockStatement,body:[{type:Syntax.IfStatement,test:acorn.parse("e instanceof Resumable.PauseException").body[0].expression,consequent:{type:Syntax.BlockStatement,body:[{type:Syntax.ExpressionStatement,expression:{type:Syntax.CallExpression,callee:{type:Syntax.MemberExpression,object:{type:Syntax.Identifier,name:"e"},property:{type:Syntax.Identifier,name:"add"},computed:false},arguments:[{type:Syntax.ObjectExpression,properties:[{type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"func"},value:{type:Syntax.Identifier,name:"resumableScope"}},{type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"statementIndex"},value:{type:Syntax.BinaryExpression,operator:"+",left:{type:Syntax.Identifier,name:"statementIndex"},right:{type:Syntax.Literal,value:1}}},{type:Syntax.Property,kind:"init",key:{type:Syntax.Identifier,name:"assignments"},value:{type:Syntax.ObjectExpression,properties:assignmentProperties}}].concat(stateProperties)}]}}]}},{type:Syntax.ThrowStatement,argument:{type:Syntax.Identifier,name:"e"}}]}}}]}},property:{type:Syntax.Identifier,name:"apply"}}}});return statements},getTempName:function(){return"temp"+this.nextTempIndex++},getTempNameForVariable:function(variableName,blockContext){var context=this,tempName;tempName=context.getTempName();context.lastTempNames[variableName]=tempName;blockContext.addAssignment(tempName).assign({type:Syntax.Identifier,name:variableName});return tempName},getLastTempName:function(){return"temp"+(this.nextTempIndex-1)},getLastTempNameForVariable:function(variableName){return this.lastTempNames[variableName]},hasVariableDefined:function(name){var isDefined=false;_.each(this.functionDeclarations,function(functionDeclaration){if(functionDeclaration[ID]&&functionDeclaration[ID][NAME]===name){isDefined=true;return false}});_.each(this.variables,function(variable){if(variable===name){isDefined=true}});return isDefined},isLabelUsed:function(){var context=this;return context.labelUsed},popLabelableContext:function(){var context=this;context.labelUsed=context.labelUseds.pop();context.labelIndex--},pushLabelableContext:function(){var context=this;context.labelUseds.push(context.labelUsed);context.labelUsed=false;context.labelIndex++}});module.exports=FunctionContext},{acorn:53,estraverse:19,microdash:27}],69:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),BlockContext=require("./BlockContext"),FunctionContext=require("./FunctionContext"),BODY="body",ID="id",NAME="name",PARAMS="params",TYPE="type",Syntax=estraverse.Syntax;function FunctionTranspiler(statementTranspiler){this.statementTranspiler=statementTranspiler}_.extend(FunctionTranspiler.prototype,{transpile:function(node){var newNode,transpiler=this,ownFunctionContext=new FunctionContext,ownBlockContext=new BlockContext(ownFunctionContext),statements=[];_.each(node[PARAMS],function(param){ownFunctionContext.addParameter(param[NAME])});if(node[BODY][BODY].length>0){transpiler.statementTranspiler.transpileArray(node[BODY][BODY],node,ownFunctionContext,ownBlockContext);statements=ownFunctionContext.getStatements(ownBlockContext.getSwitchStatement())}newNode={type:node[TYPE],id:node[ID],params:node[PARAMS],body:{type:Syntax.BlockStatement,body:statements}};return newNode}});module.exports=FunctionTranspiler},{"./BlockContext":54,"./FunctionContext":68,estraverse:19,microdash:27}],70:[function(require,module,exports){"use strict";var _=require("microdash"),util=require("util");function PauseException(resumer){this.message="PauseException";this.reject=null;this.resolve=null;this.resumer=resumer;this.states=[]}util.inherits(PauseException,Error);_.extend(PauseException.prototype,{add:function(state){this.states.push(state)},now:function(){throw this},resume:function(result){var exception=this;try{exception.resumer(exception.resolve,exception.reject,null,result,exception.states)}catch(e){if(e instanceof PauseException){throw e}exception.reject(e)}},setPromise:function(resolve,reject){var exception=this;exception.resolve=resolve;exception.reject=reject},throw:function(error){var exception=this;try{exception.resumer(exception.resolve,exception.reject,error,null,exception.states)}catch(e){if(e instanceof PauseException){throw e}exception.reject(e)}}});module.exports=PauseException},{microdash:27,util:172}],71:[function(require,module,exports){"use strict";var _=require("microdash"),escodegen=require("escodegen"),acorn=require("acorn"),PauseException=require("./PauseException"),Promise=require("bluebird"),ResumeException=require("./ResumeException"),FROM="from",PARAM="param",STRICT="strict",TO="to";function Resumable(transpiler){this.transpiler=transpiler}_.extend(Resumable,{_resumeState_:null,PauseException:PauseException,ResumeException:ResumeException})
;_.extend(Resumable.prototype,{call:function(func,args,thisObj){return new Promise(function(resolve,reject){var result;try{result=func.apply(thisObj,args)}catch(e){if(e instanceof PauseException){e.setPromise(resolve,reject)}else{reject(e)}return}resolve(result)})},callSync:function(func,args,thisObj){var result;try{result=func.apply(thisObj,args)}catch(e){if(e instanceof PauseException){throw new Error("Resumable.callSync() :: Main thread must not pause")}throw e}return result},createPause:function(){var pause=new PauseException(function(resolve,reject,error,result,states){var i=0,lastResult=result,state;if(error){for(;i<states.length;i++){state=states[i];_.each(state.catches,function(data,catchStatementIndex){if(state.statementIndex<data[FROM]||state.statementIndex>data[TO]){return}state.statementIndex=catchStatementIndex*1;state[data[PARAM]]=error;error=null;Resumable._resumeState_=state;try{lastResult=state.func()}catch(e){if(e instanceof PauseException){e.setPromise(resolve,reject);return false}throw e}return false});if(error===null){break}}if(i===states.length){reject(error);return}}function handleNextState(){if(i===states.length){resolve(lastResult);return}state=states[i];i++;if(state.assignments[state.statementIndex-1]){state[state.assignments[state.statementIndex-1]]=lastResult}Resumable._resumeState_=state;try{lastResult=state.func()}catch(e){if(e instanceof PauseException){e.setPromise(function(result){lastResult=result;handleNextState()},function(error){reject(error)});return}throw e}handleNextState()}handleNextState()});return pause},execute:function(code,options){var ast=acorn.parse(code,{allowReturnOutsideFunction:true}),expose,func,names=["Resumable"],resumable=this,transpiledCode,values=[Resumable];options=options||{};expose=options.expose||{};_.forOwn(expose,function(value,name){names.push(name);values.push(value)});ast=resumable.transpiler.transpile(ast);transpiledCode=escodegen.generate(ast,{format:{indent:{style:"    ",base:0}}});transpiledCode="return "+transpiledCode;if(options[STRICT]){transpiledCode='"use strict"; '+transpiledCode}func=new Function(names,transpiledCode);return resumable.call(func.apply(null,values),[],null)},executeSync:function(args,fn,options){var code="return "+fn.toString(),ast=acorn.parse(code,{allowReturnOutsideFunction:true}),expose,func,names=["Resumable"],resumable=this,transpiledCode,values=[Resumable];options=options||{};expose=options.expose||{};_.forOwn(expose,function(value,name){names.push(name);values.push(value)});ast=resumable.transpiler.transpile(ast);transpiledCode=escodegen.generate(ast,{format:{indent:{style:"    ",base:0}}});transpiledCode="return "+transpiledCode;if(options[STRICT]){transpiledCode='"use strict"; '+transpiledCode}func=new Function(names,transpiledCode);return resumable.callSync(func.apply(null,values)(),args,null)}});module.exports=Resumable},{"./PauseException":70,"./ResumeException":72,acorn:53,bluebird:3,escodegen:4,microdash:27}],72:[function(require,module,exports){"use strict";var util=require("util");function ResumeException(error){this.error=error}util.inherits(ResumeException,Error);module.exports=ResumeException},{util:172}],73:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),BODY="body",Syntax=estraverse.Syntax;function BlockStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(BlockStatementTranspiler.prototype,{getNodeType:function(){return Syntax.BlockStatement},transpile:function(node,parent,functionContext,blockContext){var transpiler=this,ownBlockContext=new BlockContext(functionContext),statement=blockContext.prepareStatement();transpiler.statementTranspiler.transpileArray(node[BODY],node,functionContext,ownBlockContext);statement.assign({type:Syntax.BlockStatement,body:[ownBlockContext.getSwitchStatement()]})}});module.exports=BlockStatementTranspiler},{"../BlockContext":54,estraverse:19,microdash:27}],74:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),LABEL="label",Syntax=estraverse.Syntax;function BreakStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(BreakStatementTranspiler.prototype,{getNodeType:function(){return Syntax.BreakStatement},transpile:function(node,parent,functionContext,blockContext){var label=node[LABEL]?node[LABEL]:{type:Syntax.Identifier,name:functionContext.getLabel()};blockContext.prepareStatement().assign({type:Syntax.BreakStatement,label:label})}});module.exports=BreakStatementTranspiler},{estraverse:19,microdash:27}],75:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),LABEL="label",Syntax=estraverse.Syntax;function ContinueStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ContinueStatementTranspiler.prototype,{getNodeType:function(){return Syntax.ContinueStatement},transpile:function(node,parent,functionContext,blockContext){var label=node[LABEL]?node[LABEL]:{type:Syntax.Identifier,name:functionContext.getLabel()};blockContext.prepareStatement().assign({type:Syntax.ContinueStatement,label:label})}});module.exports=ContinueStatementTranspiler},{estraverse:19,microdash:27}],76:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),Syntax=estraverse.Syntax;function DebuggerStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(DebuggerStatementTranspiler.prototype,{getNodeType:function(){return Syntax.DebuggerStatement},transpile:function(node,parent,functionContext,blockContext){blockContext.prepareStatement().assign({type:Syntax.DebuggerStatement})}});module.exports=DebuggerStatementTranspiler},{estraverse:19,microdash:27}],77:[function(require,module,exports){"use strict";var _=require("microdash"),acorn=require("acorn"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),BODY="body",TEST="test",Syntax=estraverse.Syntax;function DoWhileStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(DoWhileStatementTranspiler.prototype,{getNodeType:function(){return Syntax.DoWhileStatement},transpile:function(node,parent,functionContext,blockContext){var forNode,ownBlockContext=new BlockContext(functionContext),transpiler=this,expression,statement;functionContext.pushLabelableContext();statement=blockContext.prepareStatement();transpiler.statementTranspiler.transpileArray(node[BODY][BODY],node,functionContext,ownBlockContext);expression=transpiler.expressionTranspiler.transpile(node[TEST],node,functionContext,ownBlockContext);ownBlockContext.prepareStatement().assign({type:Syntax.IfStatement,test:{type:Syntax.UnaryExpression,operator:"!",prefix:true,argument:expression},consequent:{type:Syntax.BlockStatement,body:[{type:Syntax.BreakStatement,label:{type:Syntax.Identifier,name:functionContext.getLabel()}}]}});forNode={type:Syntax.ForStatement,init:null,test:null,update:null,body:{type:Syntax.BlockStatement,body:[acorn.parse("statementIndex = "+(statement.getIndex()+1)+";").body[0],ownBlockContext.getSwitchStatement()]}};statement.assign(functionContext.isLabelUsed()?{type:Syntax.LabeledStatement,label:{type:Syntax.Identifier,name:functionContext.getLabel()},body:forNode}:forNode);functionContext.popLabelableContext()}});module.exports=DoWhileStatementTranspiler},{"../BlockContext":54,acorn:53,estraverse:19,microdash:27}],78:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),EXPRESSION="expression",Syntax=estraverse.Syntax;function ExpressionStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ExpressionStatementTranspiler.prototype,{getNodeType:function(){return Syntax.ExpressionStatement},transpile:function(node,parent,functionContext,blockContext){var expression=this.expressionTranspiler.transpile(node[EXPRESSION],node,functionContext,blockContext);blockContext.prepareStatement().assign({type:Syntax.ExpressionStatement,expression:expression})}});module.exports=ExpressionStatementTranspiler},{estraverse:19,microdash:27}],79:[function(require,module,exports){"use strict";var _=require("microdash"),acorn=require("acorn"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),BODY="body",INIT="init",TEST="test",UPDATE="update",Syntax=estraverse.Syntax;function ForStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ForStatementTranspiler.prototype,{getNodeType:function(){return Syntax.ForStatement},transpile:function(node,parent,functionContext,blockContext){var forNode,ownBlockContext=new BlockContext(functionContext),transpiler=this,expression,statement;functionContext.pushLabelableContext();if(node[INIT]){expression=transpiler.expressionTranspiler.transpile(node[INIT],node,functionContext,blockContext);blockContext.prepareStatement().assign({type:Syntax.ExpressionStatement,expression:expression})}statement=blockContext.prepareStatement();if(node[TEST]){expression=transpiler.expressionTranspiler.transpile(node[TEST],node,functionContext,ownBlockContext);ownBlockContext.prepareStatement().assign({type:Syntax.IfStatement,test:{type:Syntax.UnaryExpression,operator:"!",prefix:true,argument:expression},consequent:{type:Syntax.BlockStatement,body:[{type:Syntax.BreakStatement,label:{type:Syntax.Identifier,name:functionContext.getLabel()}}]}})}transpiler.statementTranspiler.transpileArray(node[BODY][BODY],node,functionContext,ownBlockContext);if(node[UPDATE]){expression=transpiler.expressionTranspiler.transpile(node[UPDATE],node,functionContext,ownBlockContext);ownBlockContext.prepareStatement().assign({type:Syntax.ExpressionStatement,expression:expression})}forNode={type:Syntax.ForStatement,init:null,test:null,update:null,body:{type:Syntax.BlockStatement,body:[ownBlockContext.getSwitchStatement(),acorn.parse("statementIndex = "+(statement.getIndex()+1)+";").body[0]]}};statement.assign(functionContext.isLabelUsed()?{type:Syntax.LabeledStatement,label:{type:Syntax.Identifier,name:functionContext.getLabel()},body:forNode}:forNode);functionContext.popLabelableContext()}});module.exports=ForStatementTranspiler},{"../BlockContext":54,acorn:53,estraverse:19,microdash:27}],80:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),Syntax=estraverse.Syntax;function FunctionDeclarationTranspiler(statementTranspiler,expressionTranspiler,functionTranspiler){this.expressionTranspiler=expressionTranspiler;this.functionTranspiler=functionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(FunctionDeclarationTranspiler.prototype,{getNodeType:function(){return Syntax.FunctionDeclaration},transpile:function(node,parent,functionContext,blockContext){var newNode=this.functionTranspiler.transpile(node,parent,functionContext,blockContext);functionContext.addFunctionDeclaration(newNode)}});module.exports=FunctionDeclarationTranspiler},{estraverse:19,microdash:27}],81:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),ALTERNATE="alternate",CONSEQUENT="consequent",TEST="test",Syntax=estraverse.Syntax;function IfStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(IfStatementTranspiler.prototype,{getNodeType:function(){return Syntax.IfStatement},transpile:function(node,parent,functionContext,blockContext){var alternateStatement,consequentStatement,transpiler=this,expression=transpiler.expressionTranspiler.transpile(node[TEST],node,functionContext,blockContext);consequentStatement=blockContext.prepareStatement();consequentStatement.assign({type:Syntax.IfStatement,test:{type:Syntax.LogicalExpression,operator:"||",left:{type:Syntax.BinaryExpression,operator:">",left:{type:Syntax.Identifier,name:"statementIndex"},right:{type:Syntax.Literal,value:consequentStatement.getIndex()+1}},right:expression},consequent:transpiler.statementTranspiler.transpileBlock(node[CONSEQUENT],node,functionContext)});if(node[ALTERNATE]){alternateStatement=blockContext.prepareStatement();alternateStatement.assign({type:Syntax.IfStatement,test:{type:Syntax.LogicalExpression,operator:"||",left:{type:Syntax.BinaryExpression,operator:">",left:{type:Syntax.Identifier,name:"statementIndex"},right:{type:Syntax.Literal,value:alternateStatement.getIndex()+1}},right:{type:Syntax.UnaryExpression,operator:"!",prefix:true,argument:expression}},consequent:transpiler.statementTranspiler.transpileBlock(node[ALTERNATE],node,functionContext)})}}});module.exports=IfStatementTranspiler},{estraverse:19,microdash:27}],82:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),BODY="body",LABEL="label",Syntax=estraverse.Syntax;function LabeledStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(LabeledStatementTranspiler.prototype,{getNodeType:function(){return Syntax.LabeledStatement},transpile:function(node,parent,functionContext,blockContext){var label=node[LABEL],transpiler=this;blockContext.transformNextStatement(function(node){return{type:Syntax.LabeledStatement,label:label,body:node}});transpiler.statementTranspiler.transpile(node[BODY],node,functionContext,blockContext)}});module.exports=LabeledStatementTranspiler},{estraverse:19,microdash:27}],83:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),FunctionContext=require("../FunctionContext"),BODY="body",Syntax=estraverse.Syntax;function ProgramTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ProgramTranspiler.prototype,{getNodeType:function(){return Syntax.Program},transpile:function(node){var transpiler=this,functionContext=new FunctionContext,blockContext=new BlockContext(functionContext);transpiler.statementTranspiler.transpileArray(node[BODY],node,functionContext,blockContext);return{type:Syntax.Program,body:[{type:Syntax.ExpressionStatement,expression:{type:Syntax.FunctionExpression,id:null,params:[],body:{type:Syntax.BlockStatement,body:functionContext.getStatements(blockContext.getSwitchStatement())}}}]}}});module.exports=ProgramTranspiler},{"../BlockContext":54,"../FunctionContext":68,estraverse:19,microdash:27}],84:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),ARGUMENT="argument",Syntax=estraverse.Syntax;function ReturnStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ReturnStatementTranspiler.prototype,{getNodeType:function(){return Syntax.ReturnStatement},transpile:function(node,parent,functionContext,blockContext){var expression=node[ARGUMENT]?this.expressionTranspiler.transpile(node[ARGUMENT],node,functionContext,blockContext):null;blockContext.prepareStatement().assign({type:Syntax.ReturnStatement,argument:expression})}});module.exports=ReturnStatementTranspiler},{estraverse:19,microdash:27}],85:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),hasOwn={}.hasOwnProperty,BlockContext=require("../BlockContext"),BODY="body",TYPE="type",Syntax=estraverse.Syntax;function StatementTranspiler(expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.transpilers={}}_.extend(StatementTranspiler.prototype,{addTranspiler:function(transpiler){this.transpilers[transpiler.getNodeType()]=transpiler},transpile:function(node,parent,functionContext,blockContext){var transpiler=this;if(!hasOwn.call(transpiler.transpilers,node[TYPE])){throw new Error('Unsupported type "'+node[TYPE]+'"')}return transpiler.transpilers[node[TYPE]].transpile(node,parent,functionContext,blockContext)},transpileBlock:function(node,parent,functionContext){var transpiler=this,ownBlockContext=new BlockContext(functionContext);if(node[TYPE]===Syntax.BlockStatement){transpiler.transpileArray(node[BODY],parent,functionContext,ownBlockContext)}else{transpiler.transpile(node,parent,functionContext,ownBlockContext)}return{type:Syntax.BlockStatement,body:[ownBlockContext.getSwitchStatement()]}},transpileArray:function(array,parent,functionContext,blockContext){var transpiler=this;_.each(array,function(statementNode){transpiler.transpile(statementNode,parent,functionContext,blockContext)})}});module.exports=StatementTranspiler},{"../BlockContext":54,estraverse:19,microdash:27}],86:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),ARGUMENT="argument",Syntax=estraverse.Syntax;function ThrowStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(ThrowStatementTranspiler.prototype,{getNodeType:function(){return Syntax.ThrowStatement},transpile:function(node,parent,functionContext,blockContext){var expression=this.expressionTranspiler.transpile(node[ARGUMENT],node,functionContext,blockContext);blockContext.prepareStatement().assign({type:Syntax.ThrowStatement,argument:expression})}});module.exports=ThrowStatementTranspiler},{estraverse:19,microdash:27}],87:[function(require,module,exports){"use strict";var _=require("microdash"),acorn=require("acorn"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),BLOCK="block",BODY="body",HANDLER="handler",FINALIZER="finalizer",NAME="name",PARAM="param",Syntax=estraverse.Syntax;function TryStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(TryStatementTranspiler.prototype,{getNodeType:function(){return Syntax.TryStatement},transpile:function(node,parent,functionContext,blockContext){var catchStatementIndex=null,catchStatements=[],handler=node[HANDLER],hasCatch=handler&&handler[BODY][BODY].length>0,finalizer=node[FINALIZER],ownBlockContext=new BlockContext(functionContext),statement,transpiler=this,tryEndIndex,tryNode,tryStartIndex;statement=blockContext.prepareStatement();tryStartIndex=functionContext.getCurrentStatementIndex();transpiler.statementTranspiler.transpileArray(node[BLOCK][BODY],node,functionContext,ownBlockContext);tryEndIndex=functionContext.getCurrentStatementIndex();if(hasCatch){catchStatementIndex=functionContext.getCurrentStatementIndex();(function(){var catchClauseBlockContext=new BlockContext(functionContext),catchParameter=functionContext.getTempName(),resumeThrowStatement=ownBlockContext.addResumeThrow();transpiler.statementTranspiler.transpileArray(handler[BODY][BODY],handler,functionContext,catchClauseBlockContext);catchStatements.push({type:Syntax.IfStatement,test:acorn.parse(handler[PARAM][NAME]+" instanceof Resumable.ResumeException").body[0].expression,consequent:{type:Syntax.BlockStatement,body:[{type:Syntax.ExpressionStatement,expression:{type:Syntax.AssignmentExpression,operator:"=",left:handler[PARAM],right:{type:Syntax.MemberExpression,object:handler[PARAM],property:{type:Syntax.Identifer,name:"error"},computed:false}}}]},alternate:{type:Syntax.BlockStatement,body:[{type:Syntax.ExpressionStatement,expression:{type:Syntax.AssignmentExpression,operator:"=",left:{type:Syntax.Identifier,name:"statementIndex"},right:{type:Syntax.Literal,value:catchStatementIndex}}}]}},catchClauseBlockContext.getSwitchStatement());functionContext.addCatch({tryStartIndex:tryStartIndex,tryEndIndex:tryEndIndex-1,catchParameter:catchParameter,catchStatementIndex:catchStatementIndex});resumeThrowStatement.assign({type:Syntax.Identifier,name:catchParameter})})()}tryNode={type:Syntax.TryStatement,block:{type:Syntax.BlockStatement,body:[ownBlockContext.getSwitchStatement()]}};if(handler){tryNode[HANDLER]={type:Syntax.CatchClause,param:handler[PARAM],body:{type:Syntax.BlockStatement,body:[{type:Syntax.IfStatement,test:acorn.parse(handler[PARAM][NAME]+" instanceof Resumable.PauseException").body[0].expression,consequent:{type:Syntax.BlockStatement,body:[{type:Syntax.ThrowStatement,argument:handler[PARAM]}]}}].concat(catchStatements)}}}if(finalizer){(function(){var finallyClauseBlockContext=new BlockContext(functionContext),finallyClauseStatementIndex=functionContext.getCurrentStatementIndex();transpiler.statementTranspiler.transpileArray(finalizer[BODY],finalizer,functionContext,finallyClauseBlockContext);if(catchStatementIndex!==null){tryNode[BLOCK][BODY].push({type:Syntax.IfStatement,test:acorn.parse("statementIndex === "+catchStatementIndex).body[0].expression,consequent:{type:Syntax.BlockStatement,body:[acorn.parse("statementIndex = "+finallyClauseStatementIndex+";").body[0]]}})}tryNode[FINALIZER]={type:Syntax.BlockStatement,body:[finallyClauseBlockContext.getSwitchStatement()]}})()}statement.assign(tryNode)}});module.exports=TryStatementTranspiler},{"../BlockContext":54,acorn:53,estraverse:19,microdash:27}],88:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),DECLARATIONS="declarations",ID="id",INIT="init",NAME="name",Syntax=estraverse.Syntax;function VariableDeclarationTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(VariableDeclarationTranspiler.prototype,{getNodeType:function(){return Syntax.VariableDeclaration},transpile:function(node,parent,functionContext,blockContext){var transpiler=this;_.each(node[DECLARATIONS],function(declaration){var expression;functionContext.addVariable(declaration[ID][NAME]);if(declaration[INIT]!==null){expression=transpiler.expressionTranspiler.transpile(declaration[INIT],node,functionContext,blockContext);blockContext.prepareStatement().assign({type:Syntax.ExpressionStatement,expression:{type:Syntax.AssignmentExpression,operator:"=",left:declaration[ID],right:expression}})}})}});module.exports=VariableDeclarationTranspiler},{estraverse:19,microdash:27}],89:[function(require,module,exports){"use strict";var _=require("microdash"),acorn=require("acorn"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),BODY="body",TEST="test",Syntax=estraverse.Syntax;function WhileStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(WhileStatementTranspiler.prototype,{getNodeType:function(){return Syntax.WhileStatement},transpile:function(node,parent,functionContext,blockContext){var forNode,ownBlockContext=new BlockContext(functionContext),transpiler=this,expression,statement;functionContext.pushLabelableContext();statement=blockContext.prepareStatement();expression=transpiler.expressionTranspiler.transpile(node[TEST],node,functionContext,ownBlockContext);ownBlockContext.prepareStatement().assign({type:Syntax.IfStatement,test:{type:Syntax.UnaryExpression,operator:"!",prefix:true,argument:expression},consequent:{type:Syntax.BlockStatement,body:[{type:Syntax.BreakStatement,label:{type:Syntax.Identifier,name:functionContext.getLabel()}}]}});transpiler.statementTranspiler.transpileArray(node[BODY][BODY],node,functionContext,ownBlockContext);forNode={type:Syntax.ForStatement,init:null,test:null,update:null,body:{type:Syntax.BlockStatement,body:[ownBlockContext.getSwitchStatement(),acorn.parse("statementIndex = "+(statement.getIndex()+1)+";").body[0]]}};statement.assign(functionContext.isLabelUsed()?{type:Syntax.LabeledStatement,label:{type:Syntax.Identifier,name:functionContext.getLabel()},body:forNode}:forNode);functionContext.popLabelableContext()}});module.exports=WhileStatementTranspiler},{"../BlockContext":54,acorn:53,estraverse:19,microdash:27}],90:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=require("estraverse"),BlockContext=require("../BlockContext"),BODY="body",OBJECT="object",Syntax=estraverse.Syntax;function WithStatementTranspiler(statementTranspiler,expressionTranspiler){this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(WithStatementTranspiler.prototype,{getNodeType:function(){return Syntax.WithStatement},transpile:function(node,parent,functionContext,blockContext){var transpiler=this,object=this.expressionTranspiler.transpile(node[OBJECT],node,functionContext,blockContext),ownBlockContext=new BlockContext(functionContext),statement=blockContext.prepareStatement();transpiler.statementTranspiler.transpileArray(node[BODY][BODY],node,functionContext,ownBlockContext);statement.assign({type:Syntax.WithStatement,object:object,body:{type:Syntax.BlockStatement,body:[ownBlockContext.getSwitchStatement()]}})}});module.exports=WithStatementTranspiler},{"../BlockContext":54,estraverse:19,microdash:27}],91:[function(require,module,exports){"use strict";var _=require("microdash"),estraverse=estraverse,ArrayExpressionTranspiler=require("./ExpressionTranspiler/ArrayExpressionTranspiler"),AssignmentExpressionTranspiler=require("./ExpressionTranspiler/AssignmentExpressionTranspiler"),BinaryExpressionTranspiler=require("./ExpressionTranspiler/BinaryExpressionTranspiler"),BlockStatementTranspiler=require("./StatementTranspiler/BlockStatementTranspiler"),BreakStatementTranspiler=require("./StatementTranspiler/BreakStatementTranspiler"),CallExpressionTranspiler=require("./ExpressionTranspiler/CallExpressionTranspiler"),ContinueStatementTranspiler=require("./StatementTranspiler/ContinueStatementTranspiler"),DebuggerStatementTranspiler=require("./StatementTranspiler/DebuggerStatementTranspiler"),DoWhileStatementTranspiler=require("./StatementTranspiler/DoWhileStatementTranspiler"),ExpressionStatementTranspiler=require("./StatementTranspiler/ExpressionStatementTranspiler"),ExpressionTranspiler=require("./ExpressionTranspiler/ExpressionTranspiler"),ForStatementTranspiler=require("./StatementTranspiler/ForStatementTranspiler"),FunctionDeclarationTranspiler=require("./StatementTranspiler/FunctionDeclarationTranspiler"),FunctionExpressionTranspiler=require("./ExpressionTranspiler/FunctionExpressionTranspiler"),FunctionTranspiler=require("./FunctionTranspiler"),IdentifierTranspiler=require("./ExpressionTranspiler/IdentifierTranspiler"),IfStatementTranspiler=require("./StatementTranspiler/IfStatementTranspiler"),LabeledStatementTranspiler=require("./StatementTranspiler/LabeledStatementTranspiler"),LogicalExpressionTranspiler=require("./ExpressionTranspiler/LogicalExpressionTranspiler"),MemberExpressionTranspiler=require("./ExpressionTranspiler/MemberExpressionTranspiler"),ObjectExpressionTranspiler=require("./ExpressionTranspiler/ObjectExpressionTranspiler"),ProgramTranspiler=require("./StatementTranspiler/ProgramTranspiler"),PropertyTranspiler=require("./ExpressionTranspiler/PropertyTranspiler"),ReturnStatementTranspiler=require("./StatementTranspiler/ReturnStatementTranspiler"),SequenceExpressionTranspiler=require("./ExpressionTranspiler/SequenceExpressionTranspiler"),StatementTranspiler=require("./StatementTranspiler/StatementTranspiler"),ThrowStatementTranspiler=require("./StatementTranspiler/ThrowStatementTranspiler"),TryStatementTranspiler=require("./StatementTranspiler/TryStatementTranspiler"),UpdateExpressionTranspiler=require("./ExpressionTranspiler/UpdateExpressionTranspiler"),VariableDeclarationTranspiler=require("./StatementTranspiler/VariableDeclarationTranspiler"),WhileStatementTranspiler=require("./StatementTranspiler/WhileStatementTranspiler"),WithStatementTranspiler=require("./StatementTranspiler/WithStatementTranspiler");function Transpiler(){var expressionTranspiler=new ExpressionTranspiler,statementTranspiler=new StatementTranspiler,functionTranspiler=new FunctionTranspiler(statementTranspiler);_.each([BlockStatementTranspiler,BreakStatementTranspiler,ContinueStatementTranspiler,DebuggerStatementTranspiler,DoWhileStatementTranspiler,ExpressionStatementTranspiler,ForStatementTranspiler,IfStatementTranspiler,LabeledStatementTranspiler,ProgramTranspiler,ReturnStatementTranspiler,ThrowStatementTranspiler,TryStatementTranspiler,VariableDeclarationTranspiler,WhileStatementTranspiler,WithStatementTranspiler],function(Class){statementTranspiler.addTranspiler(new Class(statementTranspiler,expressionTranspiler))});statementTranspiler.addTranspiler(new FunctionDeclarationTranspiler(statementTranspiler,expressionTranspiler,functionTranspiler));_.each([ArrayExpressionTranspiler,AssignmentExpressionTranspiler,BinaryExpressionTranspiler,CallExpressionTranspiler,IdentifierTranspiler,LogicalExpressionTranspiler,MemberExpressionTranspiler,ObjectExpressionTranspiler,PropertyTranspiler,SequenceExpressionTranspiler,UpdateExpressionTranspiler],function(Class){expressionTranspiler.addTranspiler(new Class(statementTranspiler,expressionTranspiler))});expressionTranspiler.addTranspiler(new FunctionExpressionTranspiler(statementTranspiler,expressionTranspiler,functionTranspiler));this.expressionTranspiler=expressionTranspiler;this.statementTranspiler=statementTranspiler}_.extend(Transpiler.prototype,{transpile:function(ast){return this.statementTranspiler.transpile(ast,null)}});module.exports=Transpiler},{"./ExpressionTranspiler/ArrayExpressionTranspiler":55,"./ExpressionTranspiler/AssignmentExpressionTranspiler":56,"./ExpressionTranspiler/BinaryExpressionTranspiler":57,"./ExpressionTranspiler/CallExpressionTranspiler":58,"./ExpressionTranspiler/ExpressionTranspiler":59,"./ExpressionTranspiler/FunctionExpressionTranspiler":60,"./ExpressionTranspiler/IdentifierTranspiler":61,"./ExpressionTranspiler/LogicalExpressionTranspiler":62,"./ExpressionTranspiler/MemberExpressionTranspiler":63,"./ExpressionTranspiler/ObjectExpressionTranspiler":64,"./ExpressionTranspiler/PropertyTranspiler":65,"./ExpressionTranspiler/SequenceExpressionTranspiler":66,"./ExpressionTranspiler/UpdateExpressionTranspiler":67,"./FunctionTranspiler":69,"./StatementTranspiler/BlockStatementTranspiler":73,"./StatementTranspiler/BreakStatementTranspiler":74,"./StatementTranspiler/ContinueStatementTranspiler":75,"./StatementTranspiler/DebuggerStatementTranspiler":76,"./StatementTranspiler/DoWhileStatementTranspiler":77,"./StatementTranspiler/ExpressionStatementTranspiler":78,"./StatementTranspiler/ForStatementTranspiler":79,"./StatementTranspiler/FunctionDeclarationTranspiler":80,"./StatementTranspiler/IfStatementTranspiler":81,"./StatementTranspiler/LabeledStatementTranspiler":82,"./StatementTranspiler/ProgramTranspiler":83,"./StatementTranspiler/ReturnStatementTranspiler":84,"./StatementTranspiler/StatementTranspiler":85,"./StatementTranspiler/ThrowStatementTranspiler":86,"./StatementTranspiler/TryStatementTranspiler":87,"./StatementTranspiler/VariableDeclarationTranspiler":88,"./StatementTranspiler/WhileStatementTranspiler":89,"./StatementTranspiler/WithStatementTranspiler":90,microdash:27}],92:[function(require,module,exports){"use strict";var Wrapper=require("./src/Wrapper");module.exports=function(args,wrapper,options){return new Wrapper(args,wrapper,options)}},{"./src/Wrapper":93}],93:[function(require,module,exports){"use strict"
;var _=require("microdash");function Wrapper(args,fn,options){this.args=args;this.evaluatedAsync=false;this.evaluatedSync=false;this.asyncReturnValue=null;this.fn=fn;this.options=options;this.syncReturnValue=null}_.extend(Wrapper.prototype,{async:function(pausable){var args,wrapper=this;if(wrapper.evaluatedAsync){return wrapper.asyncReturnValue}args=_.map(wrapper.args,function(arg){if(arg instanceof Wrapper){return arg.async(pausable)}return arg});wrapper.asyncReturnValue=pausable.executeSync(args,wrapper.fn,wrapper.options);wrapper.evaluatedAsync=true;return wrapper.asyncReturnValue},sync:function(){var args,wrapper=this;if(wrapper.evaluatedSync){return wrapper.syncReturnValue}args=_.map(wrapper.args,function(arg){if(arg instanceof Wrapper){return arg.sync()}return arg});wrapper.syncReturnValue=wrapper.fn.apply(null,args);wrapper.evaluatedSync=true;return wrapper.syncReturnValue}});module.exports=Wrapper},{microdash:27}],94:[function(require,module,exports){"use strict";var Exception=require("./src/Error/Exception"),PHPError=require("./src/Error/PHPError"),PHPFatalError=require("./src/Error/PHPFatalError"),PHPParseError=require("./src/Error/PHPParseError");module.exports={Exception:Exception,PHPError:PHPError,PHPFatalError:PHPFatalError,PHPParseError:PHPParseError}},{"./src/Error/Exception":95,"./src/Error/PHPError":96,"./src/Error/PHPFatalError":97,"./src/Error/PHPParseError":98}],95:[function(require,module,exports){"use strict";var _=require("microdash"),util=require("util");function Exception(message){this.message=message}util.inherits(Exception,Error);_.extend(Exception.prototype,{type:"Exception"});module.exports=Exception},{microdash:27,util:172}],96:[function(require,module,exports){"use strict";var _=require("microdash"),util=require("util"),Exception=require("./Exception");function PHPError(level,message){Exception.call(this,"PHP "+level+": "+message)}util.inherits(PHPError,Exception);_.extend(PHPError,{E_ERROR:"Error",E_FATAL:"Fatal error",E_NOTICE:"Notice",E_PARSE:"Parse error",E_STRICT:"Strict standards",E_WARNING:"Warning"});module.exports=PHPError},{"./Exception":95,microdash:27,util:172}],97:[function(require,module,exports){"use strict";var MESSAGE_PREFIXES={1:"Unsupported operand types",2:"Call to undefined function ${name}()",3:"Class '${name}' not found",4:"Call to undefined method ${className}::${methodName}()",5:"'goto' into loop or switch statement is disallowed",6:"${name}() must take exactly 1 argument",7:"Class name must be a valid object or a string",8:"Access to undeclared static property: ${className}::$${propertyName}",9:"Call to undefined method ${className}::${methodName}()",10:"Cannot access self:: when no class scope is active",11:"Undefined constant '${name}'",12:"Uncaught exception '${name}'",13:"Cannot access ${visibility} property ${className}::$${propertyName}",14:"Function name must be a string",15:"Undefined class constant '${name}'",16:"Interfaces may not include member variables",17:"Interface function ${className}::${methodName}() cannot contain body",18:"Cannot use ${source} as ${alias} because the name is already in use",19:"Call to a member function ${name}() on a non-object"},_=require("microdash"),templateString=require("template-string"),util=require("util"),PHPError=require("./PHPError");function PHPFatalError(code,variables){PHPError.call(this,PHPError.E_FATAL,templateString(MESSAGE_PREFIXES[code],variables))}util.inherits(PHPFatalError,PHPError);_.extend(PHPFatalError,{UNSUPPORTED_OPERAND_TYPES:1,CALL_TO_UNDEFINED_FUNCTION:2,CLASS_NOT_FOUND:3,UNDEFINED_METHOD:4,GOTO_DISALLOWED:5,EXPECT_EXACTLY_1_ARG:6,CLASS_NAME_NOT_VALID:7,UNDECLARED_STATIC_PROPERTY:8,CALL_TO_UNDEFINED_METHOD:9,SELF_WHEN_NO_ACTIVE_CLASS:10,UNDEFINED_CONSTANT:11,UNCAUGHT_EXCEPTION:12,CANNOT_ACCESS_PROPERTY:13,FUNCTION_NAME_MUST_BE_STRING:14,UNDEFINED_CLASS_CONSTANT:15,INTERFACE_PROPERTY_NOT_ALLOWED:16,INTERFACE_METHOD_BODY_NOT_ALLOWED:17,NAME_ALREADY_IN_USE:18,NON_OBJECT_METHOD_CALL:19});module.exports=PHPFatalError},{"./PHPError":96,microdash:27,"template-string":161,util:172}],98:[function(require,module,exports){"use strict";var _=require("microdash"),templateString=require("template-string"),util=require("util"),PHPError=require("./PHPError"),MESSAGE_PREFIXES={1:"syntax error, unexpected ${what} in ${file} on line ${line}"};function PHPParseError(code,variables){PHPError.call(this,PHPError.E_PARSE,templateString(MESSAGE_PREFIXES[code],variables))}util.inherits(PHPParseError,PHPError);_.extend(PHPParseError,{SYNTAX_UNEXPECTED:1});module.exports=PHPParseError},{"./PHPError":96,microdash:27,"template-string":161,util:172}],99:[function(require,module,exports){"use strict";var pausable=require("pausable"),phpCommon=require("phpcommon"),phpToAST=require("phptoast"),phpToJS=require("phptojs"),Engine=require("./src/Engine"),Environment=require("./src/Environment"),Runtime=require("./src/Runtime").async(pausable),runtime=new Runtime(Environment,Engine,phpCommon,pausable,phpToAST,phpToJS);module.exports=runtime},{"./src/Engine":104,"./src/Environment":105,"./src/Runtime":119,pausable:52,phpcommon:94,phptoast:152,phptojs:157}],100:[function(require,module,exports){"use strict";var _=require("microdash");function Call(scope){this.scope=scope}_.extend(Call.prototype,{getScope:function(){return this.scope}});module.exports=Call},{microdash:27}],101:[function(require,module,exports){"use strict";var _=require("microdash"),phpCommon=require("phpcommon"),PHPError=phpCommon.PHPError;function CallStack(stderr){this.calls=[];this.stderr=stderr}_.extend(CallStack.prototype,{getCurrent:function(){var chain=this;return chain.calls[chain.calls.length-1]},pop:function(){this.calls.pop()},push:function(call){this.calls.push(call)},raiseError:function(level,message){var call,chain=this,calls=chain.calls,error,index=0;for(index=calls.length-1;index>=0;--index){call=calls[index];if(call.getScope().suppressesErrors()){return}}error=new PHPError(level,message);chain.stderr.write(error.message+"\n")}});module.exports=CallStack},{microdash:27,phpcommon:94}],102:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("./Reference/StaticProperty")],function(_,phpCommon,StaticPropertyReference){var IS_STATIC="isStatic",VALUE="value",VISIBILITY="visibility",hasOwn={}.hasOwnProperty,PHPError=phpCommon.PHPError,PHPFatalError=phpCommon.PHPFatalError;function Class(valueFactory,callStack,name,constructorName,InternalClass,staticPropertiesData,constants,superClass,interfaceNames,namespaceScope){var classObject=this,staticProperties={};this.callStack=callStack;this.constants=constants;this.constructorName=constructorName;this.interfaceNames=interfaceNames||[];this.InternalClass=InternalClass;this.name=name;this.namespaceScope=namespaceScope;this.staticProperties=staticProperties;this.superClass=superClass;this.valueFactory=valueFactory;_.each(staticPropertiesData,function(data,name){staticProperties[name]=new StaticPropertyReference(classObject,name,data[VISIBILITY],data[VALUE])})}_.extend(Class.prototype,{callStaticMethod:function(name,args){var classObject=this,defined=true,method,prototype=classObject.InternalClass.prototype,otherPrototype;if(!hasOwn.call(prototype,name)){otherPrototype=prototype;do{otherPrototype=Object.getPrototypeOf(otherPrototype);if(!otherPrototype||otherPrototype===Object.prototype){defined=false;break}}while(!hasOwn.call(otherPrototype,name))}method=prototype[name];if(!defined||!_.isFunction(method)){throw new PHPFatalError(PHPFatalError.CALL_TO_UNDEFINED_METHOD,{className:classObject.name,methodName:name})}if(!method[IS_STATIC]){classObject.callStack.raiseError(PHPError.E_STRICT,"Non-static method "+method.data.classObject.name+"::"+name+"() should not be called statically")}return classObject.valueFactory.coerce(method.apply(null,args))},extends:function(superClass){var classObject=this;return classObject.superClass&&(classObject.superClass.name===superClass.name||classObject.superClass.extends(superClass))},getConstantByName:function self(name){var classObject=this,i,interfaceObject;if(hasOwn.call(classObject.constants,name)){return classObject.constants[name]()}if(classObject.superClass){return classObject.superClass.getConstantByName(name)}for(i=0;i<classObject.interfaceNames.length;i++){interfaceObject=classObject.namespaceScope.getClass(classObject.interfaceNames[i]);try{return interfaceObject.getConstantByName(name)}catch(e){console.log("hmm")}}throw new PHPFatalError(PHPFatalError.UNDEFINED_CLASS_CONSTANT,{name:name})},getInternalClass:function(){return this.InternalClass},getName:function(){return this.name},getUnprefixedName:function(){return this.name.replace(/^.*\\/,"")},getStaticPropertyByName:function(name){var classObject=this,currentClass,staticProperty;if(!hasOwn.call(classObject.staticProperties,name)){throw new PHPFatalError(PHPFatalError.UNDECLARED_STATIC_PROPERTY,{className:classObject.name,propertyName:name})}staticProperty=classObject.staticProperties[name];if(staticProperty.getVisibility()==="private"){currentClass=classObject.callStack.getCurrent().getScope().getCurrentClass();if(!currentClass||currentClass.name!==classObject.name){throw new PHPFatalError(PHPFatalError.CANNOT_ACCESS_PROPERTY,{className:classObject.name,propertyName:name,visibility:"private"})}}else if(staticProperty.getVisibility()==="protected"){currentClass=classObject.callStack.getCurrent().getScope().getCurrentClass();if(!currentClass||classObject.name!==currentClass.name&&!currentClass.extends(classObject)){throw new PHPFatalError(PHPFatalError.CANNOT_ACCESS_PROPERTY,{className:classObject.name,propertyName:name,visibility:"protected"})}}return staticProperty},hasStaticPropertyByName:function(name){return hasOwn.call(this.staticProperties,name)},instantiate:function(args){var classObject=this,nativeObject=new classObject.InternalClass,objectValue=classObject.valueFactory.createObject(nativeObject,classObject);if(classObject.constructorName){objectValue.callMethod(classObject.constructorName,args)}return objectValue}});return Class},{strict:true})},{"./Reference/StaticProperty":116,microdash:27,pauser:92,phpcommon:94}],103:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash")],function(_){var MAGIC_AUTOLOAD_FUNCTION="__autoload";function ClassAutoloader(valueFactory){this.globalNamespace=null;this.splStack=null;this.valueFactory=valueFactory}_.extend(ClassAutoloader.prototype,{appendAutoloadCallable:function(autoloadCallable){var autoloader=this,splStack=autoloader.splStack;if(!splStack){splStack=[];autoloader.splStack=splStack}splStack.push(autoloadCallable)},autoloadClass:function(name){var autoloader=this,globalNamespace=autoloader.globalNamespace,magicAutoloadFunction,splStack=autoloader.splStack;if(splStack){_.each(splStack,function(autoloadCallable){autoloadCallable.call([autoloader.valueFactory.createString(name)],globalNamespace);if(globalNamespace.hasClass(name)){return false}})}else{magicAutoloadFunction=globalNamespace.getOwnFunction(MAGIC_AUTOLOAD_FUNCTION);if(magicAutoloadFunction){magicAutoloadFunction(autoloader.valueFactory.createString(name))}}},removeAutoloadCallable:function(autoloadCallable){var found=false,splStack=this.splStack;if(!splStack){return false}_.each(splStack,function(existingAutoloadCallable,index){if(existingAutoloadCallable.isEqualTo(autoloadCallable).getNative()){found=true;splStack.splice(index,1);return false}});return found},setGlobalNamespace:function(globalNamespace){this.globalNamespace=globalNamespace}});return ClassAutoloader},{strict:true})},{microdash:27,pauser:92}],104:[function(require,module,exports){"use strict";var _=require("microdash"),INCLUDE_OPTION="include",PATH="path",pauser=require("pauser"),Call=require("./Call"),KeyValuePair=require("./KeyValuePair"),List=require("./List"),NamespaceScopeWrapper=require("./NamespaceScope"),ObjectValueWrapper=require("./Value/Object"),Promise=require("bluebird"),ScopeWrapper=require("./Scope");function Engine(runtime,environment,phpCommon,options,wrapper,pausable,phpToAST,phpToJS){this.environment=environment;this.options=_.extend({path:null},options||{});this.pausable=pausable;this.phpCommon=phpCommon;this.phpToAST=phpToAST;this.phpToJS=phpToJS;this.runtime=runtime;this.wrapper=wrapper}_.extend(Engine.prototype,{createPause:function(){var engine=this;if(!engine.pausable){throw new Error("Pausable is not available")}return engine.pausable.createPause()},execute:function(){var callStack,engine=this,environment=engine.environment,globalNamespace,globalScope,options=engine.options,path=options[PATH],isMainProgram=path===null,pausable=engine.pausable,phpCommon=engine.phpCommon,phpParser,phpToJS=engine.phpToJS,Exception=phpCommon.Exception,PHPError=phpCommon.PHPError,PHPException,PHPFatalError=phpCommon.PHPFatalError,referenceFactory,runtime=engine.runtime,state,stderr=engine.getStderr(),stdin=engine.getStdin(),stdout=engine.getStdout(),tools,valueFactory,wrapper=engine.wrapper,unwrap=function(wrapper){return pausable?wrapper.async(pausable):wrapper.sync()},NamespaceScope=unwrap(NamespaceScopeWrapper),ObjectValue=unwrap(ObjectValueWrapper),Scope=unwrap(ScopeWrapper);function include(path){var done=false,pause=null,result,subOptions=_.extend({},options,{path:path});function completeWith(moduleResult){if(pause){pause.resume(moduleResult)}else{result=moduleResult}}if(!subOptions[INCLUDE_OPTION]){throw new Exception("include("+path+') :: No "include" transport is available for loading the module.')}function resolve(module){var executeResult,subWrapper,subModule;if(_.isString(module)){if(!phpParser){throw new Exception("include("+path+") :: PHP parser is not available")}if(!phpToJS){throw new Exception("include("+path+") :: PHPToJS is not available")}phpParser.getState().setPath(path);try{subWrapper=new Function("return "+phpToJS.transpile(phpParser.parse(module),{bare:true})+";")()}catch(error){if(pause){pause.throw(error);return}throw error}subModule=runtime.compile(subWrapper);executeResult=subModule(subOptions,environment).execute();if(!pausable){done=true;completeWith(executeResult);return}executeResult.then(completeWith,function(error){pause.throw(error)});return}if(_.isFunction(module)){executeResult=module(subOptions,environment).execute();if(!pausable){done=true;completeWith(executeResult);return}executeResult.then(completeWith,function(error){pause.throw(error)});return}throw new Exception("include("+path+") :: Module is in a weird format")}function reject(){done=true;callStack.raiseError(PHPError.E_WARNING,"include("+path+"): failed to open stream: No such file or directory");callStack.raiseError(PHPError.E_WARNING,"include(): Failed opening '"+path+"' for inclusion");completeWith(valueFactory.createNull())}subOptions[INCLUDE_OPTION](path,{reject:reject,resolve:resolve});if(done){return result}if(!pausable){throw new Exception("include("+path+") :: Async support not enabled")}pause=pausable.createPause();pause.now()}function getNormalizedPath(){return path===null?"(program)":path}phpParser=environment.getParser();state=environment.getState();referenceFactory=state.getReferenceFactory();valueFactory=state.getValueFactory();globalNamespace=state.getGlobalNamespace();callStack=state.getCallStack();globalScope=state.getGlobalScope();PHPException=state.getPHPExceptionClass();tools={createClosure:function(func,scope){func.scopeWhenCreated=scope;return tools.valueFactory.createObject(func,globalNamespace.getClass("Closure"))},createInstance:unwrap(pauser([],function(){return function(namespaceScope,classNameValue,args){var className=classNameValue.getNative(),classObject=namespaceScope.getClass(className);return classObject.instantiate(args)}})),createKeyValuePair:function(key,value){return new KeyValuePair(key,value)},createList:function(elements){return new List(elements)},createNamespaceScope:function(namespace){return new NamespaceScope(globalNamespace,namespace)},getPath:function(){return valueFactory.createString(getNormalizedPath())},getPathDirectory:function(){return valueFactory.createString(getNormalizedPath().replace(/\/[^\/]+$/,""))},globalScope:globalScope,implyArray:function(variable){if(!variable.isDefined()||variable.getValue().getType()==="null"){variable.setValue(valueFactory.createArray([]))}return variable.getValue()},implyObject:function(variable){return variable.getValue()},include:include,popCall:function(){callStack.pop()},pushCall:function(thisObject,currentClass){var call;if(!valueFactory.isValue(thisObject)){thisObject=null}call=new Call(new Scope(callStack,valueFactory,thisObject,currentClass));callStack.push(call);return call},referenceFactory:referenceFactory,requireOnce:include,require:include,throwNoActiveClassScope:function(){throw new PHPFatalError(PHPFatalError.SELF_WHEN_NO_ACTIVE_CLASS)},valueFactory:valueFactory};callStack.push(new Call(globalScope));function handleError(error,reject){if(error instanceof ObjectValue){(function(value){var error=value.getNative();if(!(error instanceof PHPException)){throw new Exception("Weird value class thrown: "+value.getClassName())}error=new PHPFatalError(PHPFatalError.UNCAUGHT_EXCEPTION,{name:value.getClassName()});if(isMainProgram){stderr.write(error.message)}reject(error)})(error);return}if(error instanceof PHPError){if(isMainProgram){stderr.write(error.message)}reject(error);return}reject(error)}if(pausable){return new Promise(function(resolve,reject){var code="return ("+wrapper.toString()+"(stdin, stdout, stderr, tools, globalNamespace));";pausable.execute(code,{strict:true,expose:{stdin:stdin,stdout:stdout,stderr:stderr,tools:tools,globalNamespace:globalNamespace}}).then(resolve,function(error){handleError(error,reject)})})}try{return wrapper(stdin,stdout,stderr,tools,globalNamespace)}catch(error){handleError(error,function(error){throw error})}},expose:function(object,name){this.environment.expose(object,name)},getStderr:function(){return this.environment.getStderr()},getStdin:function(){return this.environment.getStdin()},getStdout:function(){return this.environment.getStdout()}});module.exports=Engine},{"./Call":100,"./KeyValuePair":107,"./List":108,"./NamespaceScope":110,"./Scope":120,"./Value/Object":129,bluebird:3,microdash:27,pauser:92}],105:[function(require,module,exports){"use strict";var _=require("microdash");function Environment(state,parser,options){this.options=options;this.parser=parser;this.state=state}_.extend(Environment.prototype,{expose:function(object,name){this.state.getGlobalScope().expose(object,name)},getOptions:function(){return this.options},getParser:function(){return this.parser},getState:function(){return this.state},getStderr:function(){return this.state.getStderr()},getStdin:function(){return this.state.getStdin()},getStdout:function(){return this.state.getStdout()}});module.exports=Environment},{microdash:27}],106:[function(require,module,exports){"use strict";var _=require("microdash");function INIState(){this.settings={include_path:"."}}_.extend(INIState.prototype,{get:function(name){return this.settings[name]},set:function(name,value){this.settings[name]=value}});module.exports=INIState},{microdash:27}],107:[function(require,module,exports){"use strict";var _=require("microdash");function KeyValuePair(key,value){this.key=key;this.value=value}_.extend(KeyValuePair.prototype,{getKey:function(){return this.key},getValue:function(){return this.value}});module.exports=KeyValuePair},{microdash:27}],108:[function(require,module,exports){"use strict";var _=require("microdash");function List(elements){this.elements=elements}_.extend(List.prototype,{setValue:function(value){var listElements=this.elements;if(value.getType()!=="array"){throw new Error("Unsupported")}_.each(listElements,function(reference,index){reference.setValue(value.getElementByIndex(index).getValue())});return value}});module.exports=List},{microdash:27}],109:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("./Class")],function(_,phpCommon,Class){var IS_STATIC="isStatic",hasOwn={}.hasOwnProperty,PHPError=phpCommon.PHPError,PHPFatalError=phpCommon.PHPFatalError;function Namespace(callStack,valueFactory,classAutoloader,parent,name){this.callStack=callStack;this.children={};this.classAutoloader=classAutoloader;this.classes={};this.constants={};this.functions={};this.name=name;this.parent=parent;this.valueFactory=valueFactory}_.extend(Namespace.prototype,{defineClass:function(name,definition,namespaceScope){var classObject,constants,constructorName=null,methodData={},namespace=this,staticProperties,InternalClass;if(_.isFunction(definition)){InternalClass=definition}else{InternalClass=function(){var instance=this;if(definition.superClass){definition.superClass.getInternalClass().call(this)}_.each(definition.properties,function(value,name){instance[name]=value})};delete InternalClass.prototype.constructor;if(definition.superClass){InternalClass.prototype=Object.create(definition.superClass.getInternalClass().prototype)}_.each(definition.methods,function(data,methodName){if(methodName==="__construct"){if(constructorName){namespace.callStack.raiseError(PHPError.E_STRICT,"Redefining already defined constructor for class "+name)}constructorName=methodName}if(!constructorName&&methodName===name){constructorName=methodName}data.method[IS_STATIC]=data[IS_STATIC];data.method.data=methodData;InternalClass.prototype[methodName]=data.method});staticProperties=definition.staticProperties;constants=definition.constants}classObject=new Class(namespace.valueFactory,namespace.callStack,namespace.getPrefix()+name,constructorName,InternalClass,staticProperties,constants,definition.superClass,definition.interfaces,namespaceScope);methodData.classObject=classObject;namespace.classes[name.toLowerCase()]=classObject;return classObject},defineConstant:function(name,value,options){var caseInsensitive;options=options||{};caseInsensitive=options.caseInsensitive;if(caseInsensitive){name=name.toLowerCase()}this.constants[name]={caseInsensitive:caseInsensitive,value:value}},defineFunction:function(name,func){var namespace=this;if(namespace.name===""){if(/__autoload/i.test(name)&&func.length!==1){throw new PHPFatalError(PHPFatalError.EXPECT_EXACTLY_1_ARG,{name:name.toLowerCase()})}}namespace.functions[name]=func},getClass:function(name){var lowerName=name.toLowerCase(),namespace=this,parsed=namespace.parseClassName(name);if(parsed){return parsed.namespace.getClass(parsed.name)}if(!hasOwn.call(namespace.classes,lowerName)){namespace.classAutoloader.autoloadClass(namespace.getPrefix()+name);if(!hasOwn.call(namespace.classes,lowerName)){throw new PHPFatalError(PHPFatalError.CLASS_NOT_FOUND,{name:namespace.getPrefix()+name})}}return namespace.classes[lowerName]},getConstant:function(name,usesNamespace){var globalNamespace,lowercaseName,namespace=this;if(hasOwn.call(namespace.constants,name)){return namespace.constants[name].value}lowercaseName=name.toLowerCase();if(hasOwn.call(namespace.constants,lowercaseName)&&namespace.constants[lowercaseName].caseInsensitive){return namespace.constants[lowercaseName].value}globalNamespace=namespace.getGlobal();if(hasOwn.call(globalNamespace.constants,name)){return globalNamespace.constants[name].value}if(hasOwn.call(globalNamespace.constants,lowercaseName)&&globalNamespace.constants[lowercaseName].caseInsensitive){return globalNamespace.constants[lowercaseName].value}if(usesNamespace){throw new PHPFatalError(PHPFatalError.UNDEFINED_CONSTANT,{name:namespace.getPrefix()+name})}else{namespace.callStack.raiseError(PHPError.E_NOTICE,"Use of undefined constant "+name+" - assumed '"+name+"'");return this.valueFactory.createString(name)}},getDescendant:function(name){var namespace=this;_.each(name.split("\\"),function(part){if(!hasOwn.call(namespace.children,part)){namespace.children[part]=new Namespace(namespace.callStack,namespace.valueFactory,namespace.classAutoloader,namespace,part)}namespace=namespace.children[part]});return namespace},getFunction:function(name){var globalNamespace,match,namespace=this,path,subNamespace;if(_.isFunction(name)){return name}match=name.match(/^(.*?)\\([^\\]+)$/);if(match){path=match[1];name=match[2];subNamespace=namespace.getDescendant(path);return subNamespace.getFunction(name)}if(hasOwn.call(namespace.functions,name)){return namespace.functions[name]}globalNamespace=namespace.getGlobal();if(hasOwn.call(globalNamespace.functions,name)){return globalNamespace.functions[name]}throw new PHPFatalError(PHPFatalError.CALL_TO_UNDEFINED_FUNCTION,{name:namespace.getPrefix()+name})},getGlobal:function(){var namespace=this;return namespace.name===""?namespace:namespace.getParent().getGlobal()},getGlobalNamespace:function(){return this.getGlobal()},getOwnFunction:function(name){var namespace=this;if(hasOwn.call(namespace.functions,name)){return namespace.functions[name]}return null},getParent:function(){return this.parent},getPrefix:function(){var namespace=this;if(namespace.name===""){return""}return(namespace.parent?namespace.parent.getPrefix():"")+namespace.name+"\\"},hasClass:function(name){var lowerName=name.toLowerCase(),namespace=this,parsed=namespace.parseClassName(name);if(parsed){return parsed.namespace.hasClass(parsed.name)}return hasOwn.call(namespace.classes,lowerName)},parseClassName:function(name){var match=name.match(/^(.*?)\\([^\\]+)$/),namespace=this,path,subNamespace;if(match){path=match[1];name=match[2];subNamespace=namespace.getDescendant(path);return{namespace:subNamespace,name:name}}return null}});return Namespace},{strict:true})},{"./Class":102,microdash:27,pauser:92,phpcommon:94}],110:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon")],function(_,phpCommon){var hasOwn={}.hasOwnProperty,PHPFatalError=phpCommon.PHPFatalError;function NamespaceScope(globalNamespace,namespace){this.globalNamespace=globalNamespace;this.imports={};this.namespace=namespace}_.extend(NamespaceScope.prototype,{getClass:function(name){var match,scope=this,namespace=scope.namespace,path,prefix;if(hasOwn.call(scope.imports,name)){name=scope.imports[name];namespace=scope.globalNamespace}if(name.charAt(0)==="\\"){match=name.match(/^\\(.*?)\\([^\\]+)$/);if(match){path=match[1];name=match[2];namespace=scope.globalNamespace.getDescendant(path)}else{name=name.substr(1)}}else{match=name.match(/^([^\\]+)(.*?)\\([^\\]+)$/);if(match){prefix=match[1];path=match[2];if(hasOwn.call(scope.imports,prefix)){namespace=scope.globalNamespace.getDescendant(scope.imports[prefix].substr(1)+path);name=match[3]}}}return namespace.getClass(name)},getConstant:function(name){var match,scope=this,namespace=scope.namespace,path,prefix,usesNamespace;if(name.charAt(0)==="\\"){usesNamespace=true;match=name.match(/^\\(.*?)\\([^\\]+)$/);if(match){path=match[1];name=match[2];namespace=scope.globalNamespace.getDescendant(path)}else{name=name.substr(1)}}else{match=name.match(/^([^\\]+)(.*?)\\([^\\]+)$/);if(match){usesNamespace=true;prefix=match[1];path=match[2];name=match[3];if(hasOwn.call(scope.imports,prefix)){namespace=scope.globalNamespace.getDescendant(scope.imports[prefix].substr(1)+path)}else{namespace=scope.globalNamespace.getDescendant(namespace.getPrefix()+prefix+path)}}}return namespace.getConstant(name,usesNamespace)},getFunction:function(name){var match,scope=this,namespace=scope.namespace,path,prefix;if(name.charAt(0)==="\\"){match=name.match(/^\\(.*?)\\([^\\]+)$/);if(match){path=match[1];name=match[2];namespace=scope.globalNamespace.getDescendant(path)}else{name=name.substr(1);namespace=scope.globalNamespace}}else{match=name.match(/^([^\\]+)(.*?)\\([^\\]+)$/);if(match){prefix=match[1];path=match[2];name=match[3];if(hasOwn.call(scope.imports,prefix)){namespace=scope.globalNamespace.getDescendant(scope.imports[prefix].substr(1)+path)}else{namespace=scope.globalNamespace.getDescendant(namespace.getPrefix()+prefix+path)}}}return namespace.getFunction(name)},getGlobalNamespace:function(){return this.globalNamespace},use:function(source,alias){var scope=this,normalizedSource=source;if(!alias){alias=source.replace(/^.*?([^\\]+)$/,"$1")}if(normalizedSource.charAt(0)!=="\\"){normalizedSource="\\"+normalizedSource}if(scope.imports[alias]){throw new PHPFatalError(PHPFatalError.NAME_ALREADY_IN_USE,{alias:alias,source:source})}scope.imports[alias]=normalizedSource}});return NamespaceScope},{strict:true})},{microdash:27,pauser:92,phpcommon:94}],111:[function(require,module,exports){"use strict";var _=require("microdash"),Promise=require("bluebird");function PHPObject(pausable,valueFactory,objectValue){this.objectValue=objectValue;this.pausable=pausable;this.valueFactory=valueFactory}_.extend(PHPObject.prototype,{callMethod:function(name){var phpObject=this,args=[].slice.call(arguments,1);args=_.map(args,function(arg){return phpObject.valueFactory.coerce(arg)});if(phpObject.pausable){return new Promise(function(resolve,reject){phpObject.pausable.call(phpObject.objectValue.callMethod,[name,args],phpObject.objectValue).then(resolve,reject)})}return phpObject.objectValue.callMethod(name,args)}});module.exports=PHPObject},{bluebird:3,microdash:27}],112:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("./builtin/builtins"),require("util"),require("./CallStack"),require("./ClassAutoloader"),require("./INIState"),require("./Namespace"),require("./ReferenceFactory"),require("./Scope"),require("./ValueFactory")],function(_,builtinTypes,util,CallStack,ClassAutoloader,INIState,Namespace,ReferenceFactory,Scope,ValueFactory){var EXCEPTION_CLASS="Exception",setUpState=function(state,installedBuiltinTypes){var globalNamespace=state.globalNamespace,internals={callStack:state.callStack,classAutoloader:state.classAutoloader,globalNamespace:globalNamespace,iniState:state.iniState,pausable:state.pausable,stdout:state.stdout,valueFactory:state.valueFactory};function installFunctionGroup(groupFactory){var groupBuiltins=groupFactory(internals);_.each(groupBuiltins,function(fn,name){globalNamespace.defineFunction(name,fn)})}function installClass(classFactory,name){var Class=classFactory(internals);if(name===EXCEPTION_CLASS){state.PHPException=Class}globalNamespace.defineClass(name,Class)}function installConstantGroup(groupFactory){var groupBuiltins=groupFactory(internals);_.each(groupBuiltins,function(value,name){globalNamespace.defineConstant(name,state.valueFactory.coerce(value))})}_.each(builtinTypes.functionGroups,installFunctionGroup);_.forOwn(builtinTypes.classes,installClass);_.each(builtinTypes.constantGroups,installConstantGroup);_.each(installedBuiltinTypes.functionGroups,installFunctionGroup);_.forOwn(installedBuiltinTypes.classes,installClass);_.each(installedBuiltinTypes.constantGroups,installConstantGroup)};function PHPState(installedBuiltinTypes,stdin,stdout,stderr,pausable){var callStack=new CallStack(stderr),valueFactory=new ValueFactory(pausable,callStack),classAutoloader=new ClassAutoloader(valueFactory),globalNamespace=new Namespace(callStack,valueFactory,classAutoloader,null,"");classAutoloader.setGlobalNamespace(globalNamespace);valueFactory.setGlobalNamespace(globalNamespace);this.callStack=callStack;this.globalNamespace=globalNamespace;this.globalScope=new Scope(callStack,valueFactory,null,null);this.iniState=new INIState;this.referenceFactory=new ReferenceFactory(valueFactory);this.callStack=callStack;this.classAutoloader=classAutoloader;this.pausable=pausable;this.stderr=stderr;this.stdin=stdin;this.stdout=stdout;this.valueFactory=valueFactory;this.PHPException=null;setUpState(this,installedBuiltinTypes)}_.extend(PHPState.prototype,{getCallStack:function(){return this.callStack},getGlobalNamespace:function(){return this.globalNamespace},getGlobalScope:function(){return this.globalScope},getPHPExceptionClass:function(){return this.PHPException},getReferenceFactory:function(){return this.referenceFactory},
getStderr:function(){return this.stderr},getStdin:function(){return this.stdin},getStdout:function(){return this.stdout},getValueFactory:function(){return this.valueFactory}});return PHPState},{strict:true})},{"./CallStack":101,"./ClassAutoloader":103,"./INIState":106,"./Namespace":109,"./ReferenceFactory":118,"./Scope":120,"./ValueFactory":131,"./builtin/builtins":133,microdash:27,pauser:92,util:172}],113:[function(require,module,exports){"use strict";var _=require("microdash"),phpCommon=require("phpcommon"),PHPError=phpCommon.PHPError;function ElementReference(valueFactory,callStack,arrayValue,key,value){this.arrayValue=arrayValue;this.key=key;this.reference=null;this.callStack=callStack;this.value=value;this.valueFactory=valueFactory}_.extend(ElementReference.prototype,{clone:function(){var element=this;return new ElementReference(element.valueFactory,element.callStack,element.arrayValue,element.key,element.value)},getKey:function(){return this.key},getValue:function(){var element=this;if(!element.value&&!element.reference){element.callStack.raiseError(PHPError.E_NOTICE,"Undefined "+element.arrayValue.referToElement(element.key.getNative()));return element.valueFactory.createNull()}return element.value?element.value:element.reference.getValue()},isDefined:function(){var element=this;return element.value||element.reference},isReference:function(){return!!this.reference},setReference:function(reference){var element=this;element.reference=reference;element.value=null},setValue:function(value){var element=this,isFirstElement=element.arrayValue.getLength()===0;if(element.reference){element.reference.setValue(value)}else{element.value=value.getForAssignment()}if(isFirstElement){element.arrayValue.setPointer(element.arrayValue.getKeys().indexOf(element.key.getNative().toString()))}}});module.exports=ElementReference},{microdash:27,phpcommon:94}],114:[function(require,module,exports){"use strict";var _=require("microdash");function NullReference(valueFactory,options){options=options||{};this.onSet=options.onSet;this.valueFactory=valueFactory}_.extend(NullReference.prototype,{getValue:function(){return this.valueFactory.createNull()},setValue:function(){var reference=this;if(reference.onSet){reference.onSet()}}});module.exports=NullReference},{microdash:27}],115:[function(require,module,exports){"use strict";var _=require("microdash"),hasOwn={}.hasOwnProperty,phpCommon=require("phpcommon"),PHPError=phpCommon.PHPError;function PropertyReference(valueFactory,callStack,objectValue,key){this.objectValue=objectValue;this.key=key;this.reference=null;this.callStack=callStack;this.valueFactory=valueFactory}_.extend(PropertyReference.prototype,{clone:function(){var property=this;return new PropertyReference(property.valueFactory,property.callStack,property.objectValue,property.key)},getKey:function(){return this.key},getValue:function(){var property=this,nativeObject=property.objectValue.getNative(),nativeKey=property.key.getNative();if(!property.isDefined()){property.callStack.raiseError(PHPError.E_NOTICE,"Undefined "+property.objectValue.referToElement(nativeKey));return property.valueFactory.createNull()}return property.reference?property.reference.getValue():property.valueFactory.coerce(nativeObject[nativeKey])},isDefined:function(){var defined=true,otherObject,property=this,nativeObject=property.objectValue.getNative(),nativeKey=property.key.getNative();if(property.reference){return true}if(!hasOwn.call(nativeObject,nativeKey)){otherObject=nativeObject;do{otherObject=Object.getPrototypeOf(otherObject);if(!otherObject||otherObject===Object.prototype){defined=false;break}}while(!hasOwn.call(otherObject,nativeKey))}return defined},isReference:function(){return!!this.reference},setReference:function(reference){var property=this;property.reference=reference},setValue:function(value){var property=this,nativeObject=property.objectValue.getNative(),nativeKey=property.key.getNative(),isFirstProperty=property.objectValue.getLength()===0;function getValueForAssignment(){if(property.objectValue.getClassName()==="JSObject"){return value.getNative()}return value.getForAssignment()}if(property.reference){property.reference.setValue(value)}else{nativeObject[nativeKey]=getValueForAssignment()}if(isFirstProperty){property.objectValue.setPointer(property.objectValue.getKeys().indexOf(property.key.getNative().toString()))}}});module.exports=PropertyReference},{microdash:27,phpcommon:94}],116:[function(require,module,exports){"use strict";var _=require("microdash");function StaticPropertyReference(classObject,name,visibility,value){this.classObject=classObject;this.name=name;this.reference=null;this.value=value;this.visibility=visibility}_.extend(StaticPropertyReference.prototype,{getName:function(){return this.name},getValue:function(){var property=this;return property.value?property.value:property.reference.getValue()},getVisibility:function(){return this.visibility},isReference:function(){return!!this.reference},setReference:function(reference){var property=this;property.reference=reference;property.value=null},setValue:function(value){var property=this;if(property.reference){property.reference.setValue(value)}else{property.value=value.getForAssignment()}}});module.exports=StaticPropertyReference},{microdash:27}],117:[function(require,module,exports){"use strict";var _=require("microdash");function VariableReference(variable){this.variable=variable}_.extend(VariableReference.prototype,{getValue:function(){return this.variable.getValue()},setValue:function(value){this.variable.setValue(value)}});module.exports=VariableReference},{microdash:27}],118:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("./Reference/Null")],function(_,NullReference){function ReferenceFactory(valueFactory){this.valueFactory=valueFactory}_.extend(ReferenceFactory.prototype,{createNull:function(){return new NullReference(this.valueFactory)}});return ReferenceFactory},{strict:true})},{"./Reference/Null":114,microdash:27,pauser:92}],119:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("./PHPState"),require("./Stream")],function(_,PHPState,Stream){function Runtime(Environment,Engine,phpCommon,pausable,phpToAST,phpToJS){this.builtins={classes:{},constantGroups:[],functionGroups:[]};this.Engine=Engine;this.Environment=Environment;this.pausable=pausable;this.phpCommon=phpCommon;this.phpToAST=phpToAST;this.phpToJS=phpToJS}_.extend(Runtime.prototype,{compile:function(wrapper){var runtime=this,pausable=runtime.pausable,phpCommon=runtime.phpCommon,phpToAST=runtime.phpToAST,phpToJS=runtime.phpToJS;return function(options,environment){if(environment){options=_.extend({},environment.getOptions(),options)}else{environment=runtime.createEnvironment(options)}return new runtime.Engine(runtime,environment,phpCommon,options,wrapper,pausable,phpToAST,phpToJS)}},createEnvironment:function(options){var runtime=this,stdin=new Stream,stdout=new Stream,stderr=new Stream,parser=runtime.phpToAST.create(stderr),state=new PHPState(runtime.builtins,stdin,stdout,stderr,runtime.pausable);return new runtime.Environment(state,parser,options)},install:function(newBuiltins){var builtins=this.builtins;[].push.apply(builtins.functionGroups,newBuiltins.functionGroups);_.extend(builtins.classes,newBuiltins.classes);[].push.apply(builtins.constantGroups,newBuiltins.constantGroups)}});return Runtime},{strict:true})},{"./PHPState":112,"./Stream":121,microdash:27,pauser:92}],120:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("./Variable")],function(_,Variable){var hasOwn={}.hasOwnProperty;function Scope(callStack,valueFactory,thisObject,currentClass){var thisObjectVariable;this.currentClass=currentClass;this.errorsSuppressed=false;this.callStack=callStack;this.thisObject=thisObject;this.valueFactory=valueFactory;this.variables={};if(thisObject){thisObjectVariable=new Variable(callStack,valueFactory,"this");thisObjectVariable.setValue(thisObject);this.variables["this"]=thisObjectVariable}}_.extend(Scope.prototype,{defineVariable:function(name){var scope=this,variable=new Variable(scope.callStack,scope.valueFactory,name);scope.variables[name]=variable;return variable},defineVariables:function(names){var scope=this;_.each(names,function(name){scope.defineVariable(name)})},expose:function(object,name){var scope=this,valueFactory=scope.valueFactory;scope.defineVariable(name).setValue(valueFactory.coerce(object))},getCurrentClass:function(){return this.currentClass},getThisObject:function(){return this.thisObject},getVariable:function(name){var scope=this;if(!hasOwn.call(scope.variables,name)){scope.variables[name]=new Variable(scope.callStack,scope.valueFactory,name)}return scope.variables[name]},suppressErrors:function(){this.errorsSuppressed=true},suppressesErrors:function(){return this.errorsSuppressed},unsuppressErrors:function(){this.errorsSuppressed=false}});return Scope},{strict:true})},{"./Variable":132,microdash:27,pauser:92}],121:[function(require,module,exports){"use strict";var _=require("microdash"),util=require("util"),EventEmitter=require("events").EventEmitter;function Stream(){EventEmitter.call(this);this.data=""}util.inherits(Stream,EventEmitter);_.extend(Stream.prototype,{read:function(length){var data,stream=this;if(!length&&length!==0){data=stream.data;stream.data=""}else{data=stream.data.substr(0,length);stream.data=stream.data.substr(length)}return data},readAll:function(){var stream=this;return stream.read(stream.data.length)},write:function(data){var stream=this;stream.data+=data;stream.emit("data",data)}});module.exports=Stream},{events:25,microdash:27,util:172}],122:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("./Reference/Null")],function(_,phpCommon,NullReference){var PHPError=phpCommon.PHPError,PHPFatalError=phpCommon.PHPFatalError;function Value(factory,callStack,type,value){this.factory=factory;this.callStack=callStack;this.type=type;this.value=value}_.extend(Value.prototype,{addToArray:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},addToFloat:function(floatValue){var leftValue=this;return leftValue.factory.createFloat(leftValue.coerceToFloat().getNative()+floatValue.getNative())},addToNull:function(){return this},addToString:function(stringValue){return stringValue.coerceToNumber().add(this.coerceToNumber())},callMethod:function(name){throw new PHPFatalError(PHPFatalError.NON_OBJECT_METHOD_CALL,{name:name})},callStaticMethod:function(){throw new PHPFatalError(PHPFatalError.CLASS_NAME_NOT_VALID)},coerceToArray:function(){var value=this;return value.factory.createArray([value])},coerceToFloat:function(){var value=this;return value.factory.createFloat(Number(value.value))},coerceToString:function(){throw new Error("Unimplemented")},concat:function(rightValue){var leftValue=this;return leftValue.factory.createString(leftValue.coerceToString().getNative()+rightValue.coerceToString().getNative())},getConstantByName:function(){throw new PHPFatalError(PHPFatalError.CLASS_NAME_NOT_VALID)},getElementByKey:function(){var callStack=this.callStack;return new NullReference(this.factory,{onSet:function(){callStack.raiseError(PHPError.E_WARNING,"Cannot use a scalar value as an array")}})},getForAssignment:function(){return this},getInstancePropertyByName:function(){throw new Error("Unimplemented")},getLength:function(){return this.coerceToString().getLength()},getNative:function(){return this.value},getStaticPropertyByName:function(){throw new PHPFatalError(PHPFatalError.CLASS_NAME_NOT_VALID)},getType:function(){return this.type},getValue:function(){return this},isEqualTo:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(rightValue.value==leftValue.value)},isEqualToArray:function(rightValue){return this.isEqualTo(rightValue)},isEqualToFloat:function(rightValue){return this.isEqualTo(rightValue)},isEqualToInteger:function(rightValue){return this.isEqualTo(rightValue)},isEqualToNull:function(rightValue){return this.isEqualTo(rightValue)},isEqualToObject:function(rightValue){return this.isEqualTo(rightValue)},isIdenticalTo:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(rightValue.type===leftValue.type&&rightValue.value===leftValue.value)},isIdenticalToArray:function(rightValue){return this.isIdenticalTo(rightValue)},isIdenticalToObject:function(rightValue){return this.isIdenticalTo(rightValue)},isNotEqualTo:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(!leftValue.isEqualTo(rightValue).getNative())},isNotIdenticalTo:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(!leftValue.isIdenticalTo(rightValue).getNative())},isSet:function(){return true},logicalAnd:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(leftValue.coerceToBoolean().getNative()&&rightValue.coerceToBoolean().getNative())},logicalNot:function(){var value=this;return value.factory.createBoolean(!value.coerceToBoolean().getNative())},subtractFromNull:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},toValue:function(){return this},unwrapForJS:function(){return this.getNative()}});return Value},{strict:true})},{"./Reference/Null":114,microdash:27,pauser:92,phpcommon:94}],123:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("util"),require("../Reference/Element"),require("../KeyValuePair"),require("../Reference/Null"),require("../Value"),require("../Variable")],function(_,phpCommon,util,ElementReference,KeyValuePair,NullReference,Value,Variable){var hasOwn={}.hasOwnProperty,PHPError=phpCommon.PHPError,PHPFatalError=phpCommon.PHPFatalError;function ArrayValue(factory,callStack,orderedElements,type){var elements=[],keysToElements=[],value=this;_.each(orderedElements,function(element,key){if(element instanceof KeyValuePair){key=element.getKey();element=element.getValue()}else{if(_.isNumber(key)){key=factory.createInteger(keysToElements.length)}else{key=factory.createFromNative(key)}if(element instanceof Variable){element=element.getValue()}else{element=factory.coerce(element)}}element=new ElementReference(factory,callStack,value,key,element);elements.push(element);keysToElements[key.getNative()]=element});Value.call(this,factory,callStack,type||"array",elements);this.keysToElements=keysToElements;this.pointer=0}util.inherits(ArrayValue,Value);_.extend(ArrayValue.prototype,{add:function(rightValue){return rightValue.addToArray(this)},addToArray:function(leftValue){var rightValue=this,resultArray=leftValue.clone();_.forOwn(rightValue.keysToElements,function(element,key){if(!hasOwn.call(resultArray.keysToElements,key)){resultArray.getElementByKey(element.getKey()).setValue(element.getValue())}});return resultArray},addToBoolean:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},addToFloat:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},addToInteger:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},addToNull:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},addToObject:function(objectValue){return objectValue.addToArray(this)},addToString:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},call:function(args,namespaceOrNamespaceScope){var value=this.value;if(value.length<2){throw new PHPFatalError(PHPFatalError.FUNCTION_NAME_MUST_BE_STRING)}return value[0].getValue().callMethod(value[1].getValue().getNative(),args,namespaceOrNamespaceScope)},clone:function(){var arrayValue=this,orderedElements=[];_.each(arrayValue.value,function(element){if(element.isDefined()){orderedElements.push(new KeyValuePair(element.getKey(),element.getValue()))}});return new ArrayValue(arrayValue.factory,arrayValue.callStack,orderedElements,arrayValue.type)},coerceToArray:function(){return this},coerceToBoolean:function(){var value=this;return value.factory.createBoolean(value.value.length>0)},coerceToInteger:function(){var value=this;return value.factory.createInteger(value.value.length===0?0:1)},coerceToKey:function(){this.callStack.raiseError(PHPError.E_WARNING,"Illegal offset type")},coerceToNumber:function(){return this.coerceToInteger()},coerceToString:function(){return this.factory.createString("Array")},getForAssignment:function(){return this.clone()},getKeys:function(){var keys=[];_.each(this.value,function(element){keys.push(element.getKey())});return keys},getNative:function(){var result=[];_.each(this.value,function(element){result[element.getKey().getNative()]=element.getValue().getNative()});return result},getCurrentElement:function(){var value=this;return value.value[value.pointer]||value.factory.createNull()},getElementByKey:function(key){var element,keyValue,value=this;key=key.coerceToKey(value.callStack);if(!key){return new NullReference(value.factory)}keyValue=key.getNative();if(!hasOwn.call(value.keysToElements,keyValue)){element=new ElementReference(value.factory,value.callStack,value,key,null);value.value.push(element);value.keysToElements[keyValue]=element}return value.keysToElements[keyValue]},getElementByIndex:function(index){var value=this;return value.value[index]||function(){value.callStack.raiseError(PHPError.E_NOTICE,"Undefined "+value.referToElement(index));return new NullReference(value.factory)}()},getKeyByIndex:function(index){var value=this,element=value.value[index];return element?element.key:null},getLength:function(){return this.value.length},getPointer:function(){return this.pointer},getValues:function(){var values=[];_.each(this.value,function(element){values.push(element.getValue())});return values},isEqualTo:function(rightValue){return rightValue.isEqualToArray(this)},isEqualToNull:function(){var value=this;return value.factory.createBoolean(value.value.length===0)},isEqualToArray:function(rightValue){var equal=true,leftValue=this,factory=leftValue.factory;if(rightValue.value.length!==leftValue.value.length){return factory.createBoolean(false)}_.forOwn(rightValue.keysToElements,function(element,nativeKey){if(!hasOwn.call(leftValue.keysToElements,nativeKey)||element.getValue().isNotEqualTo(leftValue.keysToElements[nativeKey].getValue()).getNative()){equal=false;return false}});return factory.createBoolean(equal)},isEqualToBoolean:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(rightValue.getNative()===leftValue.value.length>0)},isEqualToFloat:function(){return this.factory.createBoolean(false)},isEqualToInteger:function(){return this.factory.createBoolean(false)},isEqualToObject:function(){return this.factory.createBoolean(false)},isEqualToString:function(){return this.factory.createBoolean(false)},isIdenticalTo:function(rightValue){return rightValue.isIdenticalToArray(this)},isIdenticalToArray:function(rightValue){var identical=true,leftValue=this,factory=leftValue.factory;if(rightValue.value.length!==leftValue.value.length){return factory.createBoolean(false)}_.each(rightValue.value,function(element,index){if(leftValue.value[index].getKey().isNotIdenticalTo(element.getKey()).getNative()||leftValue.value[index].getValue().isNotIdenticalTo(element.getValue()).getNative()){identical=false;return false}});return factory.createBoolean(identical)},next:function(){this.pointer++},onesComplement:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},push:function(otherValue){var value=this,index=value.factory.createInteger(value.getLength());value.getElementByKey(index).setValue(otherValue);return value},referToElement:function(key){return"offset: "+key},reset:function(){var value=this;value.pointer=0;return value},setPointer:function(pointer){this.pointer=pointer},shiftLeftBy:function(rightValue){return this.coerceToInteger().shiftLeftBy(rightValue)},shiftRightBy:function(rightValue){return this.coerceToInteger().shiftRightBy(rightValue)}});return ArrayValue},{strict:true})},{"../KeyValuePair":107,"../Reference/Element":113,"../Reference/Null":114,"../Value":122,"../Variable":132,microdash:27,pauser:92,phpcommon:94,util:172}],124:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("util"),require("./String")],function(_,util,StringValue){function BarewordStringValue(factory,callStack,value){StringValue.call(this,factory,callStack,value)}util.inherits(BarewordStringValue,StringValue);_.extend(BarewordStringValue.prototype,{call:function(args,namespaceOrNamespaceScope){return namespaceOrNamespaceScope.getFunction(this.value).apply(null,args)}});return BarewordStringValue},{strict:true})},{"./String":130,microdash:27,pauser:92,util:172}],125:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("util"),require("../Value")],function(_,phpCommon,util,Value){var PHPFatalError=phpCommon.PHPFatalError;function BooleanValue(factory,callStack,value){Value.call(this,factory,callStack,"boolean",!!value)}util.inherits(BooleanValue,Value);_.extend(BooleanValue.prototype,{add:function(rightValue){return rightValue.addToBoolean(this)},addToBoolean:function(rightValue){var value=this;return value.factory.createInteger(value.value+rightValue.value)},addToInteger:function(integerValue){return integerValue.addToBoolean(this)},addToNull:function(){return this.coerceToInteger()},addToObject:function(objectValue){return objectValue.addToBoolean(this)},coerceToBoolean:function(){return this},coerceToInteger:function(){var value=this;return value.factory.createInteger(value.value?1:0)},coerceToKey:function(){return this.coerceToInteger()},coerceToNumber:function(){return this.coerceToInteger()},coerceToString:function(){var value=this;return value.factory.createString(value.value?"1":"")},getElement:function(){return this.factory.createNull()},isEqualTo:function(rightValue){var leftValue=this,factory=leftValue.factory;return factory.createBoolean(rightValue.coerceToBoolean().value===leftValue.value)},isEqualToObject:function(){return this},isEqualToString:function(stringValue){var booleanValue=this;return stringValue.factory.createBoolean(stringValue.coerceToBoolean().getNative()===booleanValue.getNative())},onesComplement:function(){throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},shiftLeftBy:function(rightValue){return this.coerceToInteger().shiftLeftBy(rightValue)},shiftRightBy:function(rightValue){return this.coerceToInteger().shiftRightBy(rightValue)}});return BooleanValue},{strict:true})},{"../Value":122,microdash:27,pauser:92,phpcommon:94,util:172}],126:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("util"),require("../Value")],function(_,util,Value){function FloatValue(factory,callStack,value){Value.call(this,factory,callStack,"float",value)}util.inherits(FloatValue,Value);_.extend(FloatValue.prototype,{add:function(rightValue){return rightValue.addToFloat(this)},addToBoolean:function(booleanValue){var value=this;return value.factory.createFloat(value.value+Number(booleanValue.value))},addToInteger:function(integerValue){var value=this;return value.factory.createFloat(value.value+integerValue.value)},addToObject:function(objectValue){return objectValue.addToFloat(this)},addToNull:function(){return this.coerceToNumber()},coerceToBoolean:function(){var value=this;return value.factory.createBoolean(!!value.value)},coerceToFloat:function(){return this},coerceToInteger:function(){var value=this;return value.factory.createInteger(value.value>>0)},coerceToKey:function(){return this.coerceToInteger()},coerceToNumber:function(){return this},coerceToString:function(){var value=this;return value.factory.createString(value.value+"")},getElement:function(){return this.factory.createNull()},isEqualTo:function(rightValue){return rightValue.isEqualToFloat(this)},isEqualToFloat:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(rightValue.value===leftValue.value)},isEqualToInteger:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(rightValue.coerceToFloat().value===leftValue.value)},isEqualToNull:function(){var leftValue=this;return leftValue.factory.createBoolean(leftValue.value===0)},isEqualToObject:function(objectValue){return objectValue.isEqualToFloat(this)},isEqualToString:function(stringValue){var floatValue=this;return floatValue.factory.createBoolean(floatValue.value===stringValue.coerceToFloat().value)},onesComplement:function(){return this.factory.createInteger(~this.value)},shiftLeftBy:function(rightValue){return this.coerceToInteger().shiftLeftBy(rightValue)},shiftRightBy:function(rightValue){return this.coerceToInteger().shiftRightBy(rightValue)},subtract:function(rightValue){var leftValue=this,factory=leftValue.factory;rightValue=rightValue.coerceToNumber();return factory.createFloat(leftValue.getNative()-rightValue.getNative())},toNegative:function(){var value=this;return value.factory.createFloat(-value.value)},toPositive:function(){var value=this;return value.factory.createInteger(+value.value)}});return FloatValue},{strict:true})},{"../Value":122,microdash:27,pauser:92,util:172}],127:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("util"),require("../Value")],function(_,util,Value){function IntegerValue(factory,callStack,value){Value.call(this,factory,callStack,"integer",value)}util.inherits(IntegerValue,Value);_.extend(IntegerValue.prototype,{add:function(rightValue){return rightValue.addToInteger(this)},addToBoolean:function(booleanValue){var value=this;return value.factory.createInteger(value.value+booleanValue.value)},addToInteger:function(rightValue){var value=this;return value.factory.createInteger(value.value+rightValue.value)},coerceToBoolean:function(){var value=this;return value.factory.createBoolean(!!value.value)},coerceToFloat:function(){var value=this;return value.factory.createFloat(value.value)},coerceToInteger:function(){return this},coerceToKey:function(){return this},coerceToNumber:function(){return this},coerceToString:function(){var value=this;return value.factory.createString(value.value.toString())},decrement:function(){var value=this;return value.factory.createInteger(value.value-1)},getElement:function(){return this.factory.createNull()},increment:function(){var value=this;return value.factory.createInteger(value.value+1)},isEqualTo:function(rightValue){return rightValue.isEqualToInteger(this)},isEqualToInteger:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(rightValue.value===leftValue.value)},isEqualToNull:function(){var leftValue=this;return leftValue.factory.createBoolean(leftValue.value===0)},isEqualToObject:function(objectValue){return objectValue.isEqualToInteger(this)},isEqualToString:function(stringValue){var integerValue=this;return integerValue.factory.createBoolean(integerValue.getNative()===parseFloat(stringValue.getNative()))},isLessThan:function(rightValue){var leftValue=this,factory=leftValue.factory;return factory.createBoolean(leftValue.getNative()<rightValue.getNative())},multiply:function(rightValue){var leftValue=this,factory=leftValue.factory,rightType=rightValue.getType();if(rightType==="float"){return factory.createFloat(leftValue.coerceToFloat().getNative()+rightValue.coerceToFloat().getNative())}return factory.createInteger(leftValue.getNative()*rightValue.getNative())},onesComplement:function(){return this.factory.createInteger(~this.value)},shiftLeftBy:function(rightValue){var leftValue=this,factory=leftValue.factory;return factory.createInteger(leftValue.getNative()<<rightValue.coerceToInteger().getNative())},shiftRightBy:function(rightValue){var leftValue=this,factory=leftValue.factory;return factory.createInteger(leftValue.getNative()>>rightValue.coerceToInteger().getNative())},subtract:function(rightValue){var leftValue=this,factory=leftValue.factory;rightValue=rightValue.coerceToNumber();if(rightValue.getType()==="float"){return factory.createFloat(leftValue.coerceToFloat().getNative()-rightValue.coerceToFloat().getNative())}return factory.createInteger(leftValue.getNative()-rightValue.getNative())},subtractFromNull:function(){var value=this;return value.factory.createInteger(-value.getNative())},toNegative:function(){var value=this;return value.factory.createInteger(-value.value)},toPositive:function(){var value=this;return value.factory.createInteger(+value.value)}});return IntegerValue},{strict:true})},{"../Value":122,microdash:27,pauser:92,util:172}],128:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("util"),require("../Value")],function(_,phpCommon,util,Value){var PHPError=phpCommon.PHPError;function NullValue(factory,callStack){Value.call(this,factory,callStack,"null",null)}util.inherits(NullValue,Value);_.extend(NullValue.prototype,{add:function(rightValue){return rightValue.addToNull()},addToBoolean:function(booleanValue){return booleanValue.coerceToInteger()},coerceToArray:function(){return this.factory.createArray()},coerceToBoolean:function(){return this.factory.createBoolean(false)},coerceToKey:function(){return this.factory.createString("")},coerceToString:function(){return this.factory.createString("")},getInstancePropertyByName:function(){var value=this;value.callStack.raiseError(PHPError.E_NOTICE,"Trying to get property of non-object");return value.factory.createNull()},isEqualTo:function(rightValue){return rightValue.isEqualToNull(this)},isEqualToFloat:function(floatValue){return floatValue.isEqualToNull()},isEqualToNull:function(){return this.factory.createBoolean(true)},isEqualToObject:function(objectValue){return objectValue.isEqualToNull()},isEqualToString:function(stringValue){return stringValue.isEqualToNull()},isSet:function(){return false},subtract:function(rightValue){return rightValue.subtractFromNull()}});return NullValue},{strict:true})},{"../Value":122,microdash:27,pauser:92,phpcommon:94,util:172}],129:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("util"),require("../KeyValuePair"),require("../Reference/Null"),require("../Reference/Property"),require("../Value")],function(_,phpCommon,util,KeyValuePair,NullReference,PropertyReference,Value){var hasOwn={}.hasOwnProperty,PHPError=phpCommon.PHPError,PHPFatalError=phpCommon.PHPFatalError;function ObjectValue(factory,callStack,object,classObject,id){Value.call(this,factory,callStack,"object",object);this.classObject=classObject;this.id=id;this.properties={}}util.inherits(ObjectValue,Value);_.extend(ObjectValue.prototype,{add:function(rightValue){return rightValue.addToObject(this)},addToArray:function(){var value=this;value.callStack.raiseError(PHPError.E_NOTICE,"Object of class "+value.classObject.getName()+" could not be converted to int");throw new PHPFatalError(PHPFatalError.UNSUPPORTED_OPERAND_TYPES)},addToBoolean:function(booleanValue){var value=this;value.callStack.raiseError(PHPError.E_NOTICE,"Object of class "+value.classObject.getName()+" could not be converted to int");return value.factory.createInteger((booleanValue.value?1:0)+1)},addToFloat:function(floatValue){var value=this;value.callStack.raiseError(PHPError.E_NOTICE,"Object of class "+value.classObject.getName()+" could not be converted to int");return value.factory.createFloat(floatValue.value+1)},call:function(args){return this.callMethod("__invoke",args)},callMethod:function(name,args){var defined=true,func,value=this,object=value.value,otherObject,thisObject=value,thisVariable;if(name==="__invoke"&&_.isFunction(object)){func=object}else{
if(!hasOwn.call(object,name)){otherObject=object;do{otherObject=Object.getPrototypeOf(otherObject);if(!otherObject||otherObject===Object.prototype){defined=false;break}}while(!hasOwn.call(otherObject,name))}func=object[name]}if(!defined||!_.isFunction(func)){throw new PHPFatalError(PHPFatalError.UNDEFINED_METHOD,{className:value.classObject.getName(),methodName:name})}if(value.classObject.getName()==="JSObject"){thisObject=object;_.each(args,function(arg,index){args[index]=arg.unwrapForJS()})}else if(value.classObject.getName()==="Closure"){thisVariable=object.scopeWhenCreated.getVariable("this");thisObject=thisVariable.isDefined()?thisVariable.getValue():null}return value.factory.coerce(func.apply(thisObject,args))},callStaticMethod:function(nameValue,args){return this.classObject.callStaticMethod(nameValue.getNative(),args)},clone:function(){throw new Error("Unimplemented")},coerceToArray:function(){var elements=[],value=this,factory=value.factory;_.each(value.value,function(propertyValue,propertyName){elements.push(new KeyValuePair(factory.coerce(propertyName),factory.coerce(propertyValue)))});return value.factory.createArray(elements)},coerceToBoolean:function(){return this.factory.createBoolean(true)},coerceToKey:function(){this.callStack.raiseError(PHPError.E_WARNING,"Illegal offset type")},coerceToString:function(){return this.callMethod("__toString")},getClassName:function(){return this.classObject.getName()},getConstantByName:function(name){return this.classObject.getConstantByName(name)},getElementByIndex:function(index){var value=this,names=value.getInstancePropertyNames();if(!hasOwn.call(names,index)){value.callStack.raiseError(PHPError.E_NOTICE,"Undefined "+value.referToElement(index));return new NullReference(value.factory)}return value.getInstancePropertyByName(names[index])},getForAssignment:function(){return this},getID:function(){return this.id},getInstancePropertyByName:function(nameValue){var nameKey=nameValue.coerceToKey(),name=nameKey.getNative(),value=this;if(value.classObject.hasStaticPropertyByName(name)){value.callStack.raiseError(PHPError.E_STRICT,"Accessing static property "+value.classObject.getName()+"::$"+name+" as non static")}if(!hasOwn.call(value.properties,name)){value.properties[name]=new PropertyReference(value.factory,value.callStack,value,nameKey)}return value.properties[name]},getInstancePropertyNames:function(){var nameHash={},names=[],value=this;_.each(value.value,function(value,name){nameHash[name]=true});_.each(value.properties,function(value,name){nameHash[name]=true});_.each(nameHash,function(t,name){names.push(value.factory.coerce(name))});return names},getKeyByIndex:function(index){var value=this,keys=value.getInstancePropertyNames();return keys[index]||null},getLength:function(){return this.getInstancePropertyNames().length},getNative:function(){return this.value},getStaticPropertyByName:function(nameValue){return this.classObject.getStaticPropertyByName(nameValue.getNative())},isEqualTo:function(rightValue){return rightValue.isEqualToObject(this)},isEqualToArray:function(){return this.factory.createBoolean(false)},isEqualToFloat:function(floatValue){return this.factory.createBoolean(floatValue.getNative()===1)},isEqualToInteger:function(integerValue){return this.factory.createBoolean(integerValue.getNative()===1)},isEqualToNull:function(){return this.factory.createBoolean(false)},isEqualToObject:function(rightValue){var equal=true,leftValue=this,factory=leftValue.factory;if(rightValue.getLength()!==leftValue.getLength()||rightValue.getClassName()!==leftValue.getClassName()){return factory.createBoolean(false)}_.forOwn(rightValue.value,function(element,nativeKey){if(!hasOwn.call(leftValue.value,nativeKey)||factory.coerce(element).isNotEqualTo(leftValue.value[nativeKey].getValue()).getNative()){equal=false;return false}});return factory.createBoolean(equal)},isEqualToString:function(){return this.factory.createBoolean(false)},isIdenticalTo:function(rightValue){return rightValue.isIdenticalToObject(this)},isIdenticalToArray:function(){return this.factory.createBoolean(false)},isIdenticalToObject:function(rightValue){var leftValue=this,factory=leftValue.factory;return factory.createBoolean(rightValue.value===leftValue.value)},referToElement:function(key){return"property: "+this.getClassName()+"::$"+key},reset:function(){var value=this;value.pointer=0;return value},setPointer:function(pointer){this.pointer=pointer},unwrapForJS:function(){var value=this;if(value.classObject.getName()==="Closure"){return function(){var thisObj=value.factory.coerce(this),args=[];_.each(arguments,function(arg){args.push(value.factory.coerce(arg))});return value.value.apply(thisObj,args)}}return value.factory.createPHPObject(value)}});return ObjectValue},{strict:true})},{"../KeyValuePair":107,"../Reference/Null":114,"../Reference/Property":115,"../Value":122,microdash:27,pauser:92,phpcommon:94,util:172}],130:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("util"),require("../Reference/Null"),require("../Value")],function(_,util,NullReference,Value){function StringValue(factory,callStack,value){Value.call(this,factory,callStack,"string",value)}util.inherits(StringValue,Value);_.extend(StringValue.prototype,{add:function(rightValue){return rightValue.addToString(this)},addToBoolean:function(booleanValue){return this.coerceToNumber().add(booleanValue)},call:function(args,namespaceOrNamespaceScope){return namespaceOrNamespaceScope.getGlobalNamespace().getFunction(this.value).apply(null,args)},callMethod:function(name,args,namespaceScope){var value=this;return value.callStaticMethod(value.factory.coerce(name),args,namespaceScope)},callStaticMethod:function(nameValue,args,namespaceScope){var value=this,classObject=namespaceScope.getClass(value.value);return classObject.callStaticMethod(nameValue.getNative(),args)},coerceToBoolean:function(){return this.factory.createBoolean(this.value!==""&&this.value!=="0")},coerceToFloat:function(){var value=this;return value.factory.createFloat(/^(\d|-\d)/.test(value.value)?parseFloat(value.value):0)},coerceToInteger:function(){var value=this;return value.factory.createInteger(/^(\d|-\d)/.test(value.value)?parseInt(value.value,10):0)},coerceToKey:function(){return this},coerceToNumber:function(){var value=this,isInteger=/^[^.eE]*$/.test(value.value);if(isInteger){return value.coerceToInteger()}else{return value.coerceToFloat()}},coerceToString:function(){return this},getConstantByName:function(name,namespaceScope){var value=this,classObject=namespaceScope.getClass(value.value);return classObject.getConstantByName(name)},getElementByKey:function(key){var keyValue,value=this;key=key.coerceToKey(value.callStack);if(!key){return new NullReference(value.factory)}keyValue=key.getNative();return value.factory.createString(value.value.charAt(keyValue))},getLength:function(){return this.value.length},getStaticPropertyByName:function(nameValue,namespaceScope){var value=this,classObject=namespaceScope.getClass(value.value);return classObject.getStaticPropertyByName(nameValue.getNative())},isEqualTo:function(rightValue){return rightValue.isEqualToString(this)},isEqualToNull:function(){var value=this;return value.factory.createBoolean(value.getNative()==="")},isEqualToObject:function(){return this.factory.createBoolean(false)},isEqualToString:function(rightValue){var leftValue=this;return leftValue.factory.createBoolean(leftValue.value===rightValue.value)},onesComplement:function(){return this.factory.createString("?")}});return StringValue},{strict:true})},{"../Reference/Null":114,"../Value":122,microdash:27,pauser:92,util:172}],131:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("./Value/Array"),require("./Value/BarewordString"),require("./Value/Boolean"),require("./Value/Float"),require("./Value/Integer"),require("./Value/Null"),require("./Value/Object"),require("./PHPObject"),require("./Value/String"),require("./Value")],function(_,phpCommon,ArrayValue,BarewordStringValue,BooleanValue,FloatValue,IntegerValue,NullValue,ObjectValue,PHPObject,StringValue,Value){function ValueFactory(pausable,callStack){this.nextObjectID=1;this.callStack=callStack;this.globalNamespace=null;this.pausable=pausable}_.extend(ValueFactory.prototype,{coerce:function(value){if(value instanceof Value){return value}return this.createFromNative(value)},createArray:function(value){var factory=this;return new ArrayValue(factory,factory.callStack,value)},createBarewordString:function(value){var factory=this;return new BarewordStringValue(factory,factory.callStack,value)},createBoolean:function(value){var factory=this;return new BooleanValue(factory,factory.callStack,value)},createFloat:function(value){var factory=this;return new FloatValue(factory,factory.callStack,value)},createFromNative:function(nativeValue){var factory=this;if(nativeValue===null||typeof nativeValue==="undefined"){return factory.createNull()}if(_.isString(nativeValue)){return factory.createString(nativeValue)}if(_.isNumber(nativeValue)){return factory.createInteger(nativeValue)}if(_.isBoolean(nativeValue)){return factory.createBoolean(nativeValue)}if(_.isArray(nativeValue)){return factory.createArray(nativeValue)}return factory.createObject(nativeValue,factory.globalNamespace.getClass("JSObject"))},createInteger:function(value){var factory=this;return new IntegerValue(factory,factory.callStack,value)},createNull:function(){var factory=this;return new NullValue(factory,factory.callStack)},createObject:function(value,classObject){var factory=this;return new ObjectValue(factory,factory.callStack,value,classObject,factory.nextObjectID++)},createPHPObject:function(object){var factory=this;return new PHPObject(factory.pausable,factory,object)},createString:function(value){var factory=this;return new StringValue(factory,factory.callStack,value)},isValue:function(object){return object instanceof Value},setGlobalNamespace:function(globalNamespace){this.globalNamespace=globalNamespace}});return ValueFactory},{strict:true})},{"./PHPObject":111,"./Value":122,"./Value/Array":123,"./Value/BarewordString":124,"./Value/Boolean":125,"./Value/Float":126,"./Value/Integer":127,"./Value/Null":128,"./Value/Object":129,"./Value/String":130,microdash:27,pauser:92,phpcommon:94}],132:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("microdash"),require("phpcommon"),require("./Reference/Variable")],function(_,phpCommon,VariableReference){var PHPError=phpCommon.PHPError;function Variable(callStack,valueFactory,name){this.name=name;this.reference=null;this.callStack=callStack;this.value=null;this.valueFactory=valueFactory}_.extend(Variable.prototype,{decrementBy:function(rightValue){var variable=this;variable.setValue(variable.getValue().subtract(rightValue))},getValue:function(){var variable=this;if(variable.value){return variable.value}if(variable.reference){return variable.reference.getValue()}variable.callStack.raiseError(PHPError.E_NOTICE,"Undefined variable: "+variable.name);return variable.valueFactory.createNull()},getNative:function(){return this.getValue().getNative()},getReference:function(){return new VariableReference(this)},incrementBy:function(rightValue){var variable=this;variable.setValue(variable.getValue().add(rightValue))},isDefined:function(){var variable=this;return variable.value||variable.reference},isSet:function(){var variable=this;return variable.isDefined()&&variable.getValue().isSet()},postDecrement:function(){var variable=this,decrementedValue=variable.value.decrement(),result=variable.value;if(decrementedValue){variable.value=decrementedValue}return result},preDecrement:function(){var variable=this,decrementedValue=variable.value.decrement();if(decrementedValue){variable.value=decrementedValue}return variable.value},postIncrement:function(){var variable=this,incrementedValue=variable.value.increment(),result=variable.value;if(incrementedValue){variable.value=incrementedValue}return result},preIncrement:function(){var variable=this,incrementedValue=variable.value.increment();if(incrementedValue){variable.value=incrementedValue}return variable.value},setValue:function(value){var variable=this;if(variable.reference){variable.reference.setValue(value)}else{variable.value=value.getForAssignment()}return value},setReference:function(reference){var variable=this;variable.reference=reference;variable.value=null},toArray:function(){return this.value.toArray()},toBoolean:function(){return this.value.toBoolean()},toFloat:function(){return this.value.toFloat()},toInteger:function(){return this.value.toInteger()},toValue:function(){return this.getValue()},unwrapForJS:function(){var value=this;return value.value?value.value.unwrapForJS():null}});return Variable},{strict:true})},{"./Reference/Variable":117,microdash:27,pauser:92,phpcommon:94}],133:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("./functions/spl"),require("./classes/stdClass"),require("./classes/Closure"),require("./classes/Exception"),require("./classes/JSObject")],function(splFunctions,stdClass,Closure,Exception,JSObject){return{classes:{stdClass:stdClass,Closure:Closure,Exception:Exception,JSObject:JSObject},constantGroups:[],functionGroups:[splFunctions]}},{strict:true})},{"./classes/Closure":134,"./classes/Exception":135,"./classes/JSObject":136,"./classes/stdClass":137,"./functions/spl":138,pauser:92}],134:[function(require,module,exports){"use strict";module.exports=function(){function Closure(){}return Closure}},{}],135:[function(require,module,exports){"use strict";var _=require("microdash"),phpCommon=require("phpcommon"),util=require("util"),PHPError=phpCommon.PHPError;module.exports=function(){function Exception(){}util.inherits(Exception,PHPError);_.extend(Exception.prototype,{});return Exception}},{microdash:27,phpcommon:94,util:172}],136:[function(require,module,exports){"use strict";module.exports=function(){function JSObject(){}return JSObject}},{}],137:[function(require,module,exports){"use strict";module.exports=function(){function stdClass(){}return stdClass}},{}],138:[function(require,module,exports){"use strict";module.exports=require("pauser")([require("../../Variable")],function(Variable){return function(internals){var classAutoloader=internals.classAutoloader,valueFactory=internals.valueFactory;return{spl_autoload_register:function(callableReference){var isReference=callableReference instanceof Variable,callableValue=isReference?callableReference.getValue():callableReference;classAutoloader.appendAutoloadCallable(callableValue)},spl_autoload_unregister:function(callableReference){var isReference=callableReference instanceof Variable,callableValue=isReference?callableReference.getValue():callableReference;return valueFactory.createBoolean(classAutoloader.removeAutoloadCallable(callableValue))}}}},{strict:true})},{"../../Variable":132,pauser:92}],139:[function(require,module,exports){(function(global){exports.XMLHttpRequest={};exports.window={window:{},document:{lastModified:1388954399,getElementsByTagName:function(){return[]}},location:{href:""}};exports.window.window=exports.window;exports.array=function(){try{this.php_js=this.php_js||{}}catch(e){this.php_js={}}var arrInst,e,__,that=this,PHPJS_Array=function PHPJS_Array(){};mainArgs=arguments,p=this.php_js,_indexOf=function(value,from,strict){var i=from||0,nonstrict=!strict,length=this.length;while(i<length){if(this[i]===value||nonstrict&&this[i]==value){return i}i++}return-1};if(!p.Relator){p.Relator=function(){function _indexOf(value){var i=0,length=this.length;while(i<length){if(this[i]===value){return i}i++}return-1}function Relator(){var Stack=[],Array=[];if(!Stack.indexOf){Stack.indexOf=_indexOf}return{$:function(){return Relator()},constructor:function(that){var i=Stack.indexOf(that);~i?Array[i]:Array[Stack.push(that)-1]={};this.method(that).that=that;return this.method(that)},method:function(that){return Array[Stack.indexOf(that)]}}}return Relator()}()}if(p&&p.ini&&p.ini["phpjs.return_phpjs_arrays"].local_value.toLowerCase()==="on"){if(!p.PHPJS_Array){__=p.ArrayRelator=p.ArrayRelator||p.Relator.$();p.PHPJS_Array=function PHPJS_Array(){var _=__.constructor(this),args=arguments,i=0,argl,p;args=args.length===1&&args[0]&&typeof args[0]==="object"&&args[0].length&&!args[0].propertyIsEnumerable("length")?args[0]:args;if(!_.objectChain){_.objectChain=args;_.object={};_.keys=[];_.values=[]}for(argl=args.length;i<argl;i++){for(p in args[i]){this[p]=_.object[p]=args[i][p];_.keys[_.keys.length]=p;_.values[_.values.length]=args[i][p];break}}};e=p.PHPJS_Array.prototype;e.change_key_case=function(cs){var _=__.method(this),oldkey,newkey,i=0,kl=_.keys.length,case_fn=!cs||cs==="CASE_LOWER"?"toLowerCase":"toUpperCase";while(i<kl){oldkey=_.keys[i];newkey=_.keys[i]=_.keys[i][case_fn]();if(oldkey!==newkey){this[oldkey]=_.object[oldkey]=_.objectChain[i][oldkey]=null;delete this[oldkey];delete _.object[oldkey];delete _.objectChain[i][oldkey];this[newkey]=_.object[newkey]=_.objectChain[i][newkey]=_.values[i]}i++}return this};e.flip=function(){var _=__.method(this),i=0,kl=_.keys.length;while(i<kl){oldkey=_.keys[i];newkey=_.values[i];if(oldkey!==newkey){this[oldkey]=_.object[oldkey]=_.objectChain[i][oldkey]=null;delete this[oldkey];delete _.object[oldkey];delete _.objectChain[i][oldkey];this[newkey]=_.object[newkey]=_.objectChain[i][newkey]=oldkey;_.keys[i]=newkey}i++}return this};e.walk=function(funcname,userdata){var _=__.method(this),obj,func,ini,i=0,kl=0;try{if(typeof funcname==="function"){for(i=0,kl=_.keys.length;i<kl;i++){if(arguments.length>1){funcname(_.values[i],_.keys[i],userdata)}else{funcname(_.values[i],_.keys[i])}}}else if(typeof funcname==="string"){this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};ini=this.php_js.ini["phpjs.no-eval"];if(ini&&(parseInt(ini.local_value,10)!==0&&(!ini.local_value.toLowerCase||ini.local_value.toLowerCase()!=="off"))){if(arguments.length>1){for(i=0,kl=_.keys.length;i<kl;i++){this.window[funcname](_.values[i],_.keys[i],userdata)}}else{for(i=0,kl=_.keys.length;i<kl;i++){this.window[funcname](_.values[i],_.keys[i])}}}else{if(arguments.length>1){for(i=0,kl=_.keys.length;i<kl;i++){eval(funcname+"(_.values[i], _.keys[i], userdata)")}}else{for(i=0,kl=_.keys.length;i<kl;i++){eval(funcname+"(_.values[i], _.keys[i])")}}}}else if(funcname&&typeof funcname==="object"&&funcname.length===2){obj=funcname[0];func=funcname[1];if(arguments.length>1){for(i=0,kl=_.keys.length;i<kl;i++){obj[func](_.values[i],_.keys[i],userdata)}}else{for(i=0,kl=_.keys.length;i<kl;i++){obj[func](_.values[i],_.keys[i])}}}else{return false}}catch(e){return false}return this};e.keys=function(search_value,argStrict){var _=__.method(this),pos,search=typeof search_value!=="undefined",tmp_arr=[],strict=!!argStrict;if(!search){return _.keys}while((pos=_indexOf(_.values,pos,strict))!==-1){tmp_arr[tmp_arr.length]=_.keys[pos]}return tmp_arr};e.values=function(){var _=__.method(this);return _.values};e.search=function(needle,argStrict){var _=__.method(this),strict=!!argStrict,haystack=_.values,i,vl,val,flags;if(typeof needle==="object"&&needle.exec){if(!strict){flags="i"+(needle.global?"g":"")+(needle.multiline?"m":"")+(needle.sticky?"y":"");needle=new RegExp(needle.source,flags)}for(i=0,vl=haystack.length;i<vl;i++){val=haystack[i];if(needle.test(val)){return _.keys[i]}}return false}for(i=0,vl=haystack.length;i<vl;i++){val=haystack[i];if(strict&&val===needle||!strict&&val==needle){return _.keys[i]}}return false};e.sum=function(){var _=__.method(this),sum=0,i=0,kl=_.keys.length;while(i<kl){if(!isNaN(parseFloat(_.values[i]))){sum+=parseFloat(_.values[i])}i++}return sum};e.foreach=function(handler){var _=__.method(this),i=0,kl=_.keys.length;while(i<kl){if(handler.length===1){handler(_.values[i])}else{handler(_.keys[i],_.values[i])}i++}return this};e.list=function(){var key,_=__.method(this),i=0,argl=arguments.length;while(i<argl){key=_.keys[i];if(key&&key.length===parseInt(key,10).toString().length&&parseInt(key,10)<argl){that.window[arguments[key]]=_.values[key]}i++}return this};e.forEach=function(handler){var _=__.method(this),i=0,kl=_.keys.length;while(i<kl){handler(_.values[i],_.keys[i],this);i++}return this};e.$object=function(){var _=__.method(this);return _.object};e.$objectChain=function(){var _=__.method(this);return _.objectChain}}PHPJS_Array.prototype=p.PHPJS_Array.prototype;arrInst=new PHPJS_Array;p.PHPJS_Array.apply(arrInst,mainArgs);return arrInst}return Array.prototype.slice.call(mainArgs)};exports.array_change_key_case=function(array,cs){var case_fn,key,tmp_ar={};if(Object.prototype.toString.call(array)==="[object Array]"){return array}if(array&&typeof array==="object"&&array.change_key_case){return array.change_key_case(cs)}if(array&&typeof array==="object"){case_fn=!cs||cs==="CASE_LOWER"?"toLowerCase":"toUpperCase";for(key in array){tmp_ar[key[case_fn]()]=array[key]}return tmp_ar}return false};exports.array_chunk=function(input,size,preserve_keys){var x,p="",i=0,c=-1,l=input.length||0,n=[];if(size<1){return null}if(Object.prototype.toString.call(input)==="[object Array]"){if(preserve_keys){while(i<l){(x=i%size)?n[c][i]=input[i]:n[++c]={},n[c][i]=input[i];i++}}else{while(i<l){(x=i%size)?n[c][x]=input[i]:n[++c]=[input[i]];i++}}}else{if(preserve_keys){for(p in input){if(input.hasOwnProperty(p)){(x=i%size)?n[c][p]=input[p]:n[++c]={},n[c][p]=input[p];i++}}}else{for(p in input){if(input.hasOwnProperty(p)){(x=i%size)?n[c][x]=input[p]:n[++c]=[input[p]];i++}}}}return n};exports.array_combine=function(keys,values){var new_array={},keycount=keys&&keys.length,i=0;if(typeof keys!=="object"||typeof values!=="object"||typeof keycount!=="number"||typeof values.length!=="number"||!keycount){return false}if(keycount!=values.length){return false}for(i=0;i<keycount;i++){new_array[keys[i]]=values[i]}return new_array};exports.array_count_values=function(array){var tmp_arr={},key="",t="";var __getType=function(obj){var t=typeof obj;t=t.toLowerCase();if(t==="object"){t="array"}return t};var __countValue=function(value){switch(typeof value){case"number":if(Math.floor(value)!==value){return}case"string":if(value in this&&this.hasOwnProperty(value)){++this[value]}else{this[value]=1}}};t=__getType(array);if(t==="array"){for(key in array){if(array.hasOwnProperty(key)){__countValue.call(tmp_arr,array[key])}}}return tmp_arr};exports.array_diff=function(arr1){var retArr={},argl=arguments.length,k1="",i=1,k="",arr={};arr1keys:for(k1 in arr1){for(i=1;i<argl;i++){arr=arguments[i];for(k in arr){if(arr[k]===arr1[k1]){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_diff_assoc=function(arr1){var retArr={},argl=arguments.length,k1="",i=1,k="",arr={};arr1keys:for(k1 in arr1){for(i=1;i<argl;i++){arr=arguments[i];for(k in arr){if(arr[k]===arr1[k1]&&k===k1){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_diff_key=function(arr1){var argl=arguments.length,retArr={},k1="",i=1,k="",arr={};arr1keys:for(k1 in arr1){for(i=1;i<argl;i++){arr=arguments[i];for(k in arr){if(k===k1){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_diff_uassoc=function(arr1){var retArr={},arglm1=arguments.length-1,cb=arguments[arglm1],arr={},i=1,k1="",k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(arr[k]===arr1[k1]&&cb(k,k1)===0){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_diff_ukey=function(arr1){var retArr={},arglm1=arguments.length-1,cb=arguments[arglm1],arr={},i=1,k1="",k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(cb(k,k1)===0){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_fill=function(start_index,num,mixed_val){var key,tmp_arr={};if(!isNaN(start_index)&&!isNaN(num)){for(key=0;key<num;key++){tmp_arr[key+start_index]=mixed_val}}return tmp_arr};exports.array_fill_keys=function(keys,value){var retObj={},key="";for(key in keys){retObj[keys[key]]=value}return retObj};exports.array_filter=function(arr,func){var retObj={},k;func=func||function(v){return v};if(Object.prototype.toString.call(arr)==="[object Array]"){retObj=[]}for(k in arr){if(func(arr[k])){retObj[k]=arr[k]}}return retObj};exports.array_intersect=function(arr1){var retArr={},argl=arguments.length,arglm1=argl-1,k1="",arr={},i=0,k="";arr1keys:for(k1 in arr1){arrs:for(i=1;i<argl;i++){arr=arguments[i];for(k in arr){if(arr[k]===arr1[k1]){if(i===arglm1){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_intersect_assoc=function(arr1){var retArr={},argl=arguments.length,arglm1=argl-1,k1="",arr={},i=0,k="";arr1keys:for(k1 in arr1){arrs:for(i=1;i<argl;i++){arr=arguments[i];for(k in arr){if(arr[k]===arr1[k1]&&k===k1){if(i===arglm1){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_intersect_key=function(arr1){var retArr={},argl=arguments.length,arglm1=argl-1,k1="",arr={},i=0,k="";arr1keys:for(k1 in arr1){arrs:for(i=1;i<argl;i++){arr=arguments[i];for(k in arr){if(k===k1){if(i===arglm1){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_intersect_uassoc=function(arr1){var retArr={},arglm1=arguments.length-1,arglm2=arglm1-1,cb=arguments[arglm1],k1="",i=1,arr={},k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){arrs:for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(arr[k]===arr1[k1]&&cb(k,k1)===0){if(i===arglm2){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_intersect_ukey=function(arr1){var retArr={},arglm1=arguments.length-1,arglm2=arglm1-1,cb=arguments[arglm1],k1="",i=1,arr={},k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){arrs:for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(cb(k,k1)===0){if(i===arglm2){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_key_exists=function(key,search){if(!search||search.constructor!==Array&&search.constructor!==Object){return false}return key in search};exports.array_keys=function(input,search_value,argStrict){var search=typeof search_value!=="undefined",tmp_arr=[],strict=!!argStrict,include=true,key="";if(input&&typeof input==="object"&&input.change_key_case){return input.keys(search_value,argStrict)}for(key in input){if(input.hasOwnProperty(key)){include=true;if(search){if(strict&&input[key]!==search_value){include=false}else if(input[key]!=search_value){include=false}}if(include){tmp_arr[tmp_arr.length]=key}}}return tmp_arr};exports.array_map=function(callback){var argc=arguments.length,argv=arguments,glbl=this.window,obj=null,cb=callback,j=argv[1].length,i=0,k=1,m=0,tmp=[],tmp_ar=[];while(i<j){while(k<argc){tmp[m++]=argv[k++][i]}m=0;k=1;if(callback){if(typeof callback==="string"){cb=glbl[callback]}else if(typeof callback==="object"&&callback.length){obj=typeof callback[0]==="string"?glbl[callback[0]]:callback[0];if(typeof obj==="undefined"){throw"Object not found: "+callback[0]}cb=typeof callback[1]==="string"?obj[callback[1]]:callback[1]}tmp_ar[i++]=cb.apply(obj,tmp)}else{tmp_ar[i++]=tmp}tmp=[]}return tmp_ar};exports.array_merge=function(){var args=Array.prototype.slice.call(arguments),argl=args.length,arg,retObj={},k="",argil=0,j=0,i=0,ct=0,toStr=Object.prototype.toString,retArr=true;for(i=0;i<argl;i++){if(toStr.call(args[i])!=="[object Array]"){retArr=false;break}}if(retArr){retArr=[];for(i=0;i<argl;i++){retArr=retArr.concat(args[i])}return retArr}for(i=0,ct=0;i<argl;i++){arg=args[i];if(toStr.call(arg)==="[object Array]"){for(j=0,argil=arg.length;j<argil;j++){retObj[ct++]=arg[j]}}else{for(k in arg){if(arg.hasOwnProperty(k)){if(parseInt(k,10)+""===k){retObj[ct++]=arg[k]}else{retObj[k]=arg[k]}}}}}return retObj};exports.array_multisort=function(arr){var g,i,j,k,l,sal,vkey,elIndex,lastSorts,tmpArray,zlast;var sortFlag=[0];var thingsToSort=[];var nLastSort=[];var lastSort=[];var args=arguments;var flags={SORT_REGULAR:16,SORT_NUMERIC:17,SORT_STRING:18,SORT_ASC:32,SORT_DESC:40};var sortDuplicator=function(a,b){return nLastSort.shift()};var sortFunctions=[[function(a,b){lastSort.push(a>b?1:a<b?-1:0);return a>b?1:a<b?-1:0},function(a,b){lastSort.push(b>a?1:b<a?-1:0);return b>a?1:b<a?-1:0}],[function(a,b){lastSort.push(a-b);return a-b},function(a,b){lastSort.push(b-a);return b-a}],[function(a,b){lastSort.push(a+"">b+""?1:a+""<b+""?-1:0);return a+"">b+""?1:a+""<b+""?-1:0},function(a,b){lastSort.push(b+"">a+""?1:b+""<a+""?-1:0);return b+"">a+""?1:b+""<a+""?-1:0}]];var sortArrs=[[]];var sortKeys=[[]];if(Object.prototype.toString.call(arr)==="[object Array]"){sortArrs[0]=arr}else if(arr&&typeof arr==="object"){for(i in arr){if(arr.hasOwnProperty(i)){sortKeys[0].push(i);sortArrs[0].push(arr[i])}}}else{return false}var arrMainLength=sortArrs[0].length;var sortComponents=[0,arrMainLength];var argl=arguments.length;for(j=1;j<argl;j++){if(Object.prototype.toString.call(arguments[j])==="[object Array]"){sortArrs[j]=arguments[j];sortFlag[j]=0;if(arguments[j].length!==arrMainLength){return false}}else if(arguments[j]&&typeof arguments[j]==="object"){sortKeys[j]=[];sortArrs[j]=[];sortFlag[j]=0;for(i in arguments[j]){if(arguments[j].hasOwnProperty(i)){sortKeys[j].push(i);sortArrs[j].push(arguments[j][i])}}if(sortArrs[j].length!==arrMainLength){return false}}else if(typeof arguments[j]==="string"){var lFlag=sortFlag.pop();if(typeof flags[arguments[j]]==="undefined"||(flags[arguments[j]]>>>4&lFlag>>>4)>0){return false}sortFlag.push(lFlag+flags[arguments[j]])}else{return false}}for(i=0;i!==arrMainLength;i++){thingsToSort.push(true)}for(i in sortArrs){if(sortArrs.hasOwnProperty(i)){lastSorts=[];tmpArray=[];elIndex=0;nLastSort=[];lastSort=[];if(sortComponents.length===0){if(Object.prototype.toString.call(arguments[i])==="[object Array]"){args[i]=sortArrs[i]}else{for(k in arguments[i]){if(arguments[i].hasOwnProperty(k)){delete arguments[i][k]}}sal=sortArrs[i].length;for(j=0,vkey=0;j<sal;j++){vkey=sortKeys[i][j];args[i][vkey]=sortArrs[i][j]}}delete sortArrs[i];delete sortKeys[i];continue}var sFunction=sortFunctions[sortFlag[i]&3][(sortFlag[i]&8)>0?1:0];for(l=0;l!==sortComponents.length;l+=2){tmpArray=sortArrs[i].slice(sortComponents[l],sortComponents[l+1]+1);tmpArray.sort(sFunction);lastSorts[l]=[].concat(lastSort);elIndex=sortComponents[l];for(g in tmpArray){if(tmpArray.hasOwnProperty(g)){sortArrs[i][elIndex]=tmpArray[g];elIndex++}}}sFunction=sortDuplicator;for(j in sortArrs){if(sortArrs.hasOwnProperty(j)){if(sortArrs[j]===sortArrs[i]){continue}for(l=0;l!==sortComponents.length;l+=2){tmpArray=sortArrs[j].slice(sortComponents[l],sortComponents[l+1]+1);nLastSort=[].concat(lastSorts[l]);tmpArray.sort(sFunction);elIndex=sortComponents[l];for(g in tmpArray){if(tmpArray.hasOwnProperty(g)){sortArrs[j][elIndex]=tmpArray[g];elIndex++}}}}}for(j in sortKeys){if(sortKeys.hasOwnProperty(j)){for(l=0;l!==sortComponents.length;l+=2){tmpArray=sortKeys[j].slice(sortComponents[l],sortComponents[l+1]+1);nLastSort=[].concat(lastSorts[l]);tmpArray.sort(sFunction);elIndex=sortComponents[l];for(g in tmpArray){if(tmpArray.hasOwnProperty(g)){sortKeys[j][elIndex]=tmpArray[g];elIndex++}}}}}zlast=null;sortComponents=[];for(j in sortArrs[i]){if(sortArrs[i].hasOwnProperty(j)){if(!thingsToSort[j]){if(sortComponents.length&1){sortComponents.push(j-1)}zlast=null;continue}if(!(sortComponents.length&1)){if(zlast!==null){if(sortArrs[i][j]===zlast){sortComponents.push(j-1)}else{thingsToSort[j]=false}}zlast=sortArrs[i][j]}else{if(sortArrs[i][j]!==zlast){sortComponents.push(j-1)
;zlast=sortArrs[i][j]}}}}if(sortComponents.length&1){sortComponents.push(j)}if(Object.prototype.toString.call(arguments[i])==="[object Array]"){args[i]=sortArrs[i]}else{for(j in arguments[i]){if(arguments[i].hasOwnProperty(j)){delete arguments[i][j]}}sal=sortArrs[i].length;for(j=0,vkey=0;j<sal;j++){vkey=sortKeys[i][j];args[i][vkey]=sortArrs[i][j]}}delete sortArrs[i];delete sortKeys[i]}}return true};exports.array_pad=function(input,pad_size,pad_value){var pad=[],newArray=[],newLength,diff=0,i=0;if(Object.prototype.toString.call(input)==="[object Array]"&&!isNaN(pad_size)){newLength=pad_size<0?pad_size*-1:pad_size;diff=newLength-input.length;if(diff>0){for(i=0;i<diff;i++){newArray[i]=pad_value}pad=pad_size<0?newArray.concat(input):input.concat(newArray)}else{pad=input}}return pad};exports.array_pop=function(inputArr){var key="",lastKey="";if(inputArr.hasOwnProperty("length")){if(!inputArr.length){return null}return inputArr.pop()}else{for(key in inputArr){if(inputArr.hasOwnProperty(key)){lastKey=key}}if(lastKey){var tmp=inputArr[lastKey];delete inputArr[lastKey];return tmp}else{return null}}};exports.array_product=function(input){var idx=0,product=1,il=0;if(Object.prototype.toString.call(input)!=="[object Array]"){return null}il=input.length;while(idx<il){product*=!isNaN(input[idx])?input[idx]:0;idx++}return product};exports.array_push=function(inputArr){var i=0,pr="",argv=arguments,argc=argv.length,allDigits=/^\d$/,size=0,highestIdx=0,len=0;if(inputArr.hasOwnProperty("length")){for(i=1;i<argc;i++){inputArr[inputArr.length]=argv[i]}return inputArr.length}for(pr in inputArr){if(inputArr.hasOwnProperty(pr)){++len;if(pr.search(allDigits)!==-1){size=parseInt(pr,10);highestIdx=size>highestIdx?size:highestIdx}}}for(i=1;i<argc;i++){inputArr[++highestIdx]=argv[i]}return len+i-1};exports.array_rand=function(input,num_req){var indexes=[];var ticks=num_req||1;var checkDuplicate=function(input,value){var exist=false,index=0,il=input.length;while(index<il){if(input[index]===value){exist=true;break}index++}return exist};if(Object.prototype.toString.call(input)==="[object Array]"&&ticks<=input.length){while(true){var rand=Math.floor(Math.random()*input.length);if(indexes.length===ticks){break}if(!checkDuplicate(indexes,rand)){indexes.push(rand)}}}else{indexes=null}return ticks==1?indexes.join():indexes};exports.array_reduce=function(a_input,callback){var lon=a_input.length;var res=0,i=0;var tmp=[];for(i=0;i<lon;i+=2){tmp[0]=a_input[i];if(a_input[i+1]){tmp[1]=a_input[i+1]}else{tmp[1]=0}res+=callback.apply(null,tmp);tmp=[]}return res};exports.array_replace=function(arr){var retObj={},i=0,p="",argl=arguments.length;if(argl<2){throw new Error("There should be at least 2 arguments passed to array_replace()")}for(p in arr){retObj[p]=arr[p]}for(i=1;i<argl;i++){for(p in arguments[i]){retObj[p]=arguments[i][p]}}return retObj};exports.array_replace_recursive=function(arr){var retObj={},i=0,p="",argl=arguments.length;if(argl<2){throw new Error("There should be at least 2 arguments passed to array_replace_recursive()")}for(p in arr){retObj[p]=arr[p]}for(i=1;i<argl;i++){for(p in arguments[i]){if(retObj[p]&&typeof retObj[p]==="object"){retObj[p]=this.array_replace_recursive(retObj[p],arguments[i][p])}else{retObj[p]=arguments[i][p]}}}return retObj};exports.array_reverse=function(array,preserve_keys){var isArray=Object.prototype.toString.call(array)==="[object Array]",tmp_arr=preserve_keys?{}:[],key;if(isArray&&!preserve_keys){return array.slice(0).reverse()}if(preserve_keys){var keys=[];for(key in array){keys.push(key)}var i=keys.length;while(i--){key=keys[i];tmp_arr[key]=array[key]}}else{for(key in array){tmp_arr.unshift(array[key])}}return tmp_arr};exports.array_shift=function(inputArr){var props=false,shift=undefined,pr="",allDigits=/^\d$/,int_ct=-1,_checkToUpIndices=function(arr,ct,key){if(arr[ct]!==undefined){var tmp=ct;ct+=1;if(ct===key){ct+=1}ct=_checkToUpIndices(arr,ct,key);arr[ct]=arr[tmp];delete arr[tmp]}return ct};if(inputArr.length===0){return null}if(inputArr.length>0){return inputArr.shift()}};exports.array_sum=function(array){var key,sum=0;if(array&&typeof array==="object"&&array.change_key_case){return array.sum.apply(array,Array.prototype.slice.call(arguments,0))}if(typeof array!=="object"){return null}for(key in array){if(!isNaN(parseFloat(array[key]))){sum+=parseFloat(array[key])}}return sum};exports.array_udiff=function(arr1){var retArr={},arglm1=arguments.length-1,cb=arguments[arglm1],arr="",i=1,k1="",k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(cb(arr[k],arr1[k1])===0){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_udiff_assoc=function(arr1){var retArr={},arglm1=arguments.length-1,cb=arguments[arglm1],arr={},i=1,k1="",k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(cb(arr[k],arr1[k1])===0&&k===k1){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_udiff_uassoc=function(arr1){var retArr={},arglm1=arguments.length-1,arglm2=arglm1-1,cb=arguments[arglm1],cb0=arguments[arglm2],k1="",i=1,k="",arr={};cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;cb0=typeof cb0==="string"?this.window[cb0]:Object.prototype.toString.call(cb0)==="[object Array]"?this.window[cb0[0]][cb0[1]]:cb0;arr1keys:for(k1 in arr1){for(i=1;i<arglm2;i++){arr=arguments[i];for(k in arr){if(cb0(arr[k],arr1[k1])===0&&cb(k,k1)===0){continue arr1keys}}retArr[k1]=arr1[k1]}}return retArr};exports.array_uintersect=function(arr1){var retArr={},arglm1=arguments.length-1,arglm2=arglm1-1,cb=arguments[arglm1],k1="",i=1,arr={},k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){arrs:for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(cb(arr[k],arr1[k1])===0){if(i===arglm2){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_uintersect_assoc=function(arr1){var retArr={},arglm1=arguments.length-1,arglm2=arglm1-2,cb=arguments[arglm1],k1="",i=1,arr={},k="";cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;arr1keys:for(k1 in arr1){arrs:for(i=1;i<arglm1;i++){arr=arguments[i];for(k in arr){if(k===k1&&cb(arr[k],arr1[k1])===0){if(i===arglm2){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_uintersect_uassoc=function(arr1){var retArr={},arglm1=arguments.length-1,arglm2=arglm1-1,cb=arguments[arglm1],cb0=arguments[arglm2],k1="",i=1,k="",arr={};cb=typeof cb==="string"?this.window[cb]:Object.prototype.toString.call(cb)==="[object Array]"?this.window[cb[0]][cb[1]]:cb;cb0=typeof cb0==="string"?this.window[cb0]:Object.prototype.toString.call(cb0)==="[object Array]"?this.window[cb0[0]][cb0[1]]:cb0;arr1keys:for(k1 in arr1){arrs:for(i=1;i<arglm2;i++){arr=arguments[i];for(k in arr){if(cb0(arr[k],arr1[k1])===0&&cb(k,k1)===0){if(i===arguments.length-3){retArr[k1]=arr1[k1]}continue arrs}}continue arr1keys}}return retArr};exports.array_unique=function(inputArr){var key="",tmp_arr2={},val="";var __array_search=function(needle,haystack){var fkey="";for(fkey in haystack){if(haystack.hasOwnProperty(fkey)){if(haystack[fkey]+""===needle+""){return fkey}}}return false};for(key in inputArr){if(inputArr.hasOwnProperty(key)){val=inputArr[key];if(false===__array_search(val,tmp_arr2)){tmp_arr2[key]=val}}}return tmp_arr2};exports.array_unshift=function(array){var i=arguments.length;while(--i!==0){arguments[0].unshift(arguments[i])}return arguments[0].length};exports.array_values=function(input){var tmp_arr=[],key="";if(input&&typeof input==="object"&&input.change_key_case){return input.values()}for(key in input){tmp_arr[tmp_arr.length]=input[key]}return tmp_arr};exports.array_walk_recursive=function(array,funcname,userdata){var key;if(typeof array!=="object"){return false}for(key in array){if(typeof array[key]==="object"){return this.array_walk_recursive(array[key],funcname,userdata)}if(typeof userdata!=="undefined"){eval(funcname+"( array [key] , key , userdata  )")}else{eval(funcname+"(  userdata ) ")}}return true};exports.compact=function(){var matrix={},that=this;var process=function(value){var i=0,l=value.length,key_value="";for(i=0;i<l;i++){key_value=value[i];if(Object.prototype.toString.call(key_value)==="[object Array]"){process(key_value)}else{if(typeof that.window[key_value]!=="undefined"){matrix[key_value]=that.window[key_value]}}}return true};process(arguments);return matrix};exports.count=function(mixed_var,mode){var key,cnt=0;if(mixed_var===null||typeof mixed_var==="undefined"){return 0}else if(mixed_var.constructor!==Array&&mixed_var.constructor!==Object){return 1}if(mode==="COUNT_RECURSIVE"){mode=1}if(mode!=1){mode=0}for(key in mixed_var){if(mixed_var.hasOwnProperty(key)){cnt++;if(mode==1&&mixed_var[key]&&(mixed_var[key].constructor===Array||mixed_var[key].constructor===Object)){cnt+=this.count(mixed_var[key],1)}}}return cnt};exports.current=function(arr){this.php_js=this.php_js||{};this.php_js.pointers=this.php_js.pointers||[];var indexOf=function(value){for(var i=0,length=this.length;i<length;i++){if(this[i]===value){return i}}return-1};var pointers=this.php_js.pointers;if(!pointers.indexOf){pointers.indexOf=indexOf}if(pointers.indexOf(arr)===-1){pointers.push(arr,0)}var arrpos=pointers.indexOf(arr);var cursor=pointers[arrpos+1];if(Object.prototype.toString.call(arr)==="[object Array]"){return arr[cursor]||false}var ct=0;for(var k in arr){if(ct===cursor){return arr[k]}ct++}return false};exports.each=function(arr){this.php_js=this.php_js||{};this.php_js.pointers=this.php_js.pointers||[];var indexOf=function(value){for(var i=0,length=this.length;i<length;i++){if(this[i]===value){return i}}return-1};var pointers=this.php_js.pointers;if(!pointers.indexOf){pointers.indexOf=indexOf}if(pointers.indexOf(arr)===-1){pointers.push(arr,0)}var arrpos=pointers.indexOf(arr);var cursor=pointers[arrpos+1];var pos=0;if(Object.prototype.toString.call(arr)!=="[object Array]"){var ct=0;for(var k in arr){if(ct===cursor){pointers[arrpos+1]+=1;if(each.returnArrayOnly){return[k,arr[k]]}else{return{1:arr[k],value:arr[k],0:k,key:k}}}ct++}return false}if(arr.length===0||cursor===arr.length){return false}pos=cursor;pointers[arrpos+1]+=1;if(each.returnArrayOnly){return[pos,arr[pos]]}else{return{1:arr[pos],value:arr[pos],0:pos,key:pos}}};exports.end=function(arr){this.php_js=this.php_js||{};this.php_js.pointers=this.php_js.pointers||[];var indexOf=function(value){for(var i=0,length=this.length;i<length;i++){if(this[i]===value){return i}}return-1};var pointers=this.php_js.pointers;if(!pointers.indexOf){pointers.indexOf=indexOf}if(pointers.indexOf(arr)===-1){pointers.push(arr,0)}var arrpos=pointers.indexOf(arr);if(Object.prototype.toString.call(arr)!=="[object Array]"){var ct=0;var val;for(var k in arr){ct++;val=arr[k]}if(ct===0){return false}pointers[arrpos+1]=ct-1;return val}if(arr.length===0){return false}pointers[arrpos+1]=arr.length-1;return arr[pointers[arrpos+1]]};exports.in_array=function(needle,haystack,argStrict){var key="",strict=!!argStrict;if(strict){for(key in haystack){if(haystack[key]===needle){return true}}}else{for(key in haystack){if(haystack[key]==needle){return true}}}return false};exports.key=function(arr){this.php_js=this.php_js||{};this.php_js.pointers=this.php_js.pointers||[];var indexOf=function(value){for(var i=0,length=this.length;i<length;i++){if(this[i]===value){return i}}return-1};var pointers=this.php_js.pointers;if(!pointers.indexOf){pointers.indexOf=indexOf}if(pointers.indexOf(arr)===-1){pointers.push(arr,0)}var cursor=pointers[pointers.indexOf(arr)+1];if(Object.prototype.toString.call(arr)!=="[object Array]"){var ct=0;for(var k in arr){if(ct===cursor){return k}ct++}return false}if(arr.length===0){return false}return cursor};exports.next=function(arr){this.php_js=this.php_js||{};this.php_js.pointers=this.php_js.pointers||[];var indexOf=function(value){for(var i=0,length=this.length;i<length;i++){if(this[i]===value){return i}}return-1};var pointers=this.php_js.pointers;if(!pointers.indexOf){pointers.indexOf=indexOf}if(pointers.indexOf(arr)===-1){pointers.push(arr,0)}var arrpos=pointers.indexOf(arr);var cursor=pointers[arrpos+1];if(Object.prototype.toString.call(arr)!=="[object Array]"){var ct=0;for(var k in arr){if(ct===cursor+1){pointers[arrpos+1]+=1;return arr[k]}ct++}return false}if(arr.length===0||cursor===arr.length-1){return false}pointers[arrpos+1]+=1;return arr[pointers[arrpos+1]]};exports.prev=function(arr){this.php_js=this.php_js||{};this.php_js.pointers=this.php_js.pointers||[];var indexOf=function(value){for(var i=0,length=this.length;i<length;i++){if(this[i]===value){return i}}return-1};var pointers=this.php_js.pointers;if(!pointers.indexOf){pointers.indexOf=indexOf}var arrpos=pointers.indexOf(arr);var cursor=pointers[arrpos+1];if(pointers.indexOf(arr)===-1||cursor===0){return false}if(Object.prototype.toString.call(arr)!=="[object Array]"){var ct=0;for(var k in arr){if(ct===cursor-1){pointers[arrpos+1]-=1;return arr[k]}ct++}}if(arr.length===0){return false}pointers[arrpos+1]-=1;return arr[pointers[arrpos+1]]};exports.range=function(low,high,step){var matrix=[];var inival,endval,plus;var walker=step||1;var chars=false;if(!isNaN(low)&&!isNaN(high)){inival=low;endval=high}else if(isNaN(low)&&isNaN(high)){chars=true;inival=low.charCodeAt(0);endval=high.charCodeAt(0)}else{inival=isNaN(low)?0:low;endval=isNaN(high)?0:high}plus=inival>endval?false:true;if(plus){while(inival<=endval){matrix.push(chars?String.fromCharCode(inival):inival);inival+=walker}}else{while(inival>=endval){matrix.push(chars?String.fromCharCode(inival):inival);inival-=walker}}return matrix};exports.reset=function(arr){this.php_js=this.php_js||{};this.php_js.pointers=this.php_js.pointers||[];var indexOf=function(value){for(var i=0,length=this.length;i<length;i++){if(this[i]===value){return i}}return-1};var pointers=this.php_js.pointers;if(!pointers.indexOf){pointers.indexOf=indexOf}if(pointers.indexOf(arr)===-1){pointers.push(arr,0)}var arrpos=pointers.indexOf(arr);if(Object.prototype.toString.call(arr)!=="[object Array]"){for(var k in arr){if(pointers.indexOf(arr)===-1){pointers.push(arr,0)}else{pointers[arrpos+1]=0}return arr[k]}return false}if(arr.length===0){return false}pointers[arrpos+1]=0;return arr[pointers[arrpos+1]]};exports.shuffle=function(inputArr){var valArr=[],k="",i=0,strictForIn=false,populateArr=[];for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push(inputArr[k]);if(strictForIn){delete inputArr[k]}}}valArr.sort(function(){return.5-Math.random()});this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(i=0;i<valArr.length;i++){populateArr[i]=valArr[i]}return strictForIn||populateArr};exports.uasort=function(inputArr,sorter){var valArr=[],tempKeyVal,tempValue,ret,k="",i=0,strictForIn=false,populateArr={};if(typeof sorter==="string"){sorter=this[sorter]}else if(Object.prototype.toString.call(sorter)==="[object Array]"){sorter=this[sorter[0]][sorter[1]]}this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push([k,inputArr[k]]);if(strictForIn){delete inputArr[k]}}}valArr.sort(function(a,b){return sorter(a[1],b[1])});for(i=0;i<valArr.length;i++){populateArr[valArr[i][0]]=valArr[i][1]}return strictForIn||populateArr};exports.uksort=function(inputArr,sorter){var tmp_arr={},keys=[],i=0,k="",strictForIn=false,populateArr={};if(typeof sorter==="string"){sorter=this.window[sorter]}for(k in inputArr){if(inputArr.hasOwnProperty(k)){keys.push(k)}}try{if(sorter){keys.sort(sorter)}else{keys.sort()}}catch(e){return false}this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(i=0;i<keys.length;i++){k=keys[i];tmp_arr[k]=inputArr[k];if(strictForIn){delete inputArr[k]}}for(i in tmp_arr){if(tmp_arr.hasOwnProperty(i)){populateArr[i]=tmp_arr[i]}}return strictForIn||populateArr};exports.usort=function(inputArr,sorter){var valArr=[],k="",i=0,strictForIn=false,populateArr={};if(typeof sorter==="string"){sorter=this[sorter]}else if(Object.prototype.toString.call(sorter)==="[object Array]"){sorter=this[sorter[0]][sorter[1]]}this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push(inputArr[k]);if(strictForIn){delete inputArr[k]}}}try{valArr.sort(sorter)}catch(e){return false}for(i=0;i<valArr.length;i++){populateArr[i]=valArr[i]}return strictForIn||populateArr};exports.checkdate=function(m,d,y){return m>0&&m<13&&y>0&&y<32768&&d>0&&d<=new Date(y,m,0).getDate()};exports.date=function(format,timestamp){var that=this;var jsdate,f;var txt_words=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];var formatChr=/\\?(.?)/gi;var formatChrCb=function(t,s){return f[t]?f[t]():s};var _pad=function(n,c){n=String(n);while(n.length<c){n="0"+n}return n};f={d:function(){return _pad(f.j(),2)},D:function(){return f.l().slice(0,3)},j:function(){return jsdate.getDate()},l:function(){return txt_words[f.w()]+"day"},N:function(){return f.w()||7},S:function(){var j=f.j();var i=j%10;if(i<=3&&parseInt(j%100/10,10)==1){i=0}return["st","nd","rd"][i-1]||"th"},w:function(){return jsdate.getDay()},z:function(){var a=new Date(f.Y(),f.n()-1,f.j());var b=new Date(f.Y(),0,1);return Math.round((a-b)/864e5)},W:function(){var a=new Date(f.Y(),f.n()-1,f.j()-f.N()+3);var b=new Date(a.getFullYear(),0,4);return _pad(1+Math.round((a-b)/864e5/7),2)},F:function(){return txt_words[6+f.n()]},m:function(){return _pad(f.n(),2)},M:function(){return f.F().slice(0,3)},n:function(){return jsdate.getMonth()+1},t:function(){return new Date(f.Y(),f.n(),0).getDate()},L:function(){var j=f.Y();return j%4===0&j%100!==0|j%400===0},o:function(){var n=f.n();var W=f.W();var Y=f.Y();return Y+(n===12&&W<9?1:n===1&&W>9?-1:0)},Y:function(){return jsdate.getFullYear()},y:function(){return f.Y().toString().slice(-2)},a:function(){return jsdate.getHours()>11?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var H=jsdate.getUTCHours()*3600;var i=jsdate.getUTCMinutes()*60;var s=jsdate.getUTCSeconds();return _pad(Math.floor((H+i+s+3600)/86.4)%1e3,3)},g:function(){return f.G()%12||12},G:function(){return jsdate.getHours()},h:function(){return _pad(f.g(),2)},H:function(){return _pad(f.G(),2)},i:function(){return _pad(jsdate.getMinutes(),2)},s:function(){return _pad(jsdate.getSeconds(),2)},u:function(){return _pad(jsdate.getMilliseconds()*1e3,6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var a=new Date(f.Y(),0);var c=Date.UTC(f.Y(),0);var b=new Date(f.Y(),6);var d=Date.UTC(f.Y(),6);return a-c!==b-d?1:0},O:function(){var tzo=jsdate.getTimezoneOffset();var a=Math.abs(tzo);return(tzo>0?"-":"+")+_pad(Math.floor(a/60)*100+a%60,4)},P:function(){var O=f.O();return O.substr(0,3)+":"+O.substr(3,2)},T:function(){return"UTC"},Z:function(){return-jsdate.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(formatChr,formatChrCb)},r:function(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},U:function(){return jsdate/1e3|0}};this.date=function(format,timestamp){that=this;jsdate=timestamp===undefined?new Date:timestamp instanceof Date?new Date(timestamp):new Date(timestamp*1e3);return format.replace(formatChr,formatChrCb)};return this.date(format,timestamp)};exports.getdate=function(timestamp){var _w=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"];var _m=["January","February","March","April","May","June","July","August","September","October","November","December"];var d=typeof timestamp==="undefined"?new Date:typeof timestamp==="object"?new Date(timestamp):new Date(timestamp*1e3);var w=d.getDay();var m=d.getMonth();var y=d.getFullYear();var r={};r.seconds=d.getSeconds();r.minutes=d.getMinutes();r.hours=d.getHours();r.mday=d.getDate();r.wday=w;r.mon=m+1;r.year=y;r.yday=Math.floor((d-new Date(y,0,1))/864e5);r.weekday=_w[w]+"day";r.month=_m[m];r["0"]=parseInt(d.getTime()/1e3,10);return r};exports.gettimeofday=function(return_float){var t=new Date,y=0;if(return_float){return t.getTime()/1e3}y=t.getFullYear();return{sec:t.getUTCSeconds(),usec:t.getUTCMilliseconds()*1e3,minuteswest:t.getTimezoneOffset(),dsttime:0+(new Date(y,0)-Date.UTC(y,0)!==new Date(y,6)-Date.UTC(y,6))}};exports.gmmktime=function(){var d=new Date,r=arguments,i=0,e=["Hours","Minutes","Seconds","Month","Date","FullYear"];for(i=0;i<e.length;i++){if(typeof r[i]==="undefined"){r[i]=d["getUTC"+e[i]]();r[i]+=i===3}else{r[i]=parseInt(r[i],10);if(isNaN(r[i])){return false}}}r[5]+=r[5]>=0?r[5]<=69?2e3:r[5]<=100?1900:0:0;d.setUTCFullYear(r[5],r[3]-1,r[4]);d.setUTCHours(r[0],r[1],r[2]);return(d.getTime()/1e3>>0)-(d.getTime()<0)};exports.idate=function(format,timestamp){if(format===undefined){throw"idate() expects at least 1 parameter, 0 given"}if(!format.length||format.length>1){throw"idate format is one char"}var date=typeof timestamp==="undefined"?new Date:timestamp instanceof Date?new Date(timestamp):new Date(timestamp*1e3),a;switch(format){case"B":return Math.floor((date.getUTCHours()*3600+date.getUTCMinutes()*60+date.getUTCSeconds()+3600)/86.4)%1e3;case"d":return date.getDate();case"h":return date.getHours()%12||12;case"H":return date.getHours();case"i":return date.getMinutes();case"I":a=date.getFullYear();return 0+(new Date(a,0)-Date.UTC(a,0)!==new Date(a,6)-Date.UTC(a,6));case"L":a=date.getFullYear();return!(a&3)&&(a%100||!(a%400))?1:0;case"m":return date.getMonth()+1;case"s":return date.getSeconds();case"t":return new Date(date.getFullYear(),date.getMonth()+1,0).getDate();case"U":return Math.round(date.getTime()/1e3);case"w":return date.getDay();case"W":a=new Date(date.getFullYear(),date.getMonth(),date.getDate()-(date.getDay()||7)+3);return 1+Math.round((a-new Date(a.getFullYear(),0,4))/864e5/7);case"y":return parseInt((date.getFullYear()+"").slice(2),10);case"Y":return date.getFullYear();case"z":return Math.floor((date-new Date(date.getFullYear(),0,1))/864e5);case"Z":return-date.getTimezoneOffset()*60;default:throw"Unrecognized date format token"}};exports.microtime=function(get_as_float){var now=(new Date).getTime()/1e3;var s=parseInt(now,10);return get_as_float?now:Math.round((now-s)*1e3)/1e3+" "+s};exports.mktime=function(){var d=new Date,r=arguments,i=0,e=["Hours","Minutes","Seconds","Month","Date","FullYear"];for(i=0;i<e.length;i++){if(typeof r[i]==="undefined"){r[i]=d["get"+e[i]]();r[i]+=i===3}else{r[i]=parseInt(r[i],10);if(isNaN(r[i])){return false}}}r[5]+=r[5]>=0?r[5]<=69?2e3:r[5]<=100?1900:0:0;d.setFullYear(r[5],r[3]-1,r[4]);d.setHours(r[0],r[1],r[2]);return(d.getTime()/1e3>>0)-(d.getTime()<0)};exports.strtotime=function(text,now){var parsed,match,today,year,date,days,ranges,len,times,regex,i,fail=false;if(!text){return fail}text=text.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();match=text.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/);if(match&&match[2]===match[4]){if(match[1]>1901){switch(match[2]){case"-":{if(match[3]>12||match[5]>31){return fail}return new Date(match[1],parseInt(match[3],10)-1,match[5],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}case".":{return fail}case"/":{if(match[3]>12||match[5]>31){return fail}return new Date(match[1],parseInt(match[3],10)-1,match[5],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}}}else if(match[5]>1901){switch(match[2]){case"-":{if(match[3]>12||match[1]>31){return fail}return new Date(match[5],parseInt(match[3],10)-1,match[1],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}case".":{if(match[3]>12||match[1]>31){return fail}return new Date(match[5],parseInt(match[3],10)-1,match[1],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}case"/":{if(match[1]>12||match[3]>31){return fail}return new Date(match[5],parseInt(match[1],10)-1,match[3],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}}}else{switch(match[2]){case"-":{if(match[3]>12||match[5]>31||match[1]<70&&match[1]>38){return fail}year=match[1]>=0&&match[1]<=38?+match[1]+2e3:match[1];return new Date(year,parseInt(match[3],10)-1,match[5],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}case".":{if(match[5]>=70){if(match[3]>12||match[1]>31){return fail}return new Date(match[5],parseInt(match[3],10)-1,match[1],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}if(match[5]<60&&!match[6]){if(match[1]>23||match[3]>59){return fail}today=new Date;return new Date(today.getFullYear(),today.getMonth(),today.getDate(),match[1]||0,match[3]||0,match[5]||0,match[9]||0)/1e3}return fail}case"/":{if(match[1]>12||match[3]>31||match[5]<70&&match[5]>38){return fail}year=match[5]>=0&&match[5]<=38?+match[5]+2e3:match[5];return new Date(year,parseInt(match[1],10)-1,match[3],match[6]||0,match[7]||0,match[8]||0,match[9]||0)/1e3}case":":{if(match[1]>23||match[3]>59||match[5]>59){return fail}today=new Date;return new Date(today.getFullYear(),today.getMonth(),today.getDate(),match[1]||0,match[3]||0,match[5]||0)/1e3}}}}if(text==="now"){return now===null||isNaN(now)?(new Date).getTime()/1e3|0:now|0}if(!isNaN(parsed=Date.parse(text))){return parsed/1e3|0}date=now?new Date(now*1e3):new Date;days={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};ranges={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};function lastNext(type,range,modifier){var diff,day=days[range];if(typeof day!=="undefined"){diff=day-date.getDay();if(diff===0){diff=7*modifier}else if(diff>0&&type==="last"){diff-=7}else if(diff<0&&type==="next"){diff+=7}date.setDate(date.getDate()+diff)}}function process(val){var splt=val.split(" "),type=splt[0],range=splt[1].substring(0,3),typeIsNumber=/\d+/.test(type),ago=splt[2]==="ago",num=(type==="last"?-1:1)*(ago?-1:1);if(typeIsNumber){num*=parseInt(type,10)}if(ranges.hasOwnProperty(range)&&!splt[1].match(/^mon(day|\.)?$/i)){return date["set"+ranges[range]](date["get"+ranges[range]]()+num)}if(range==="wee"){return date.setDate(date.getDate()+num*7)}if(type==="next"||type==="last"){lastNext(type,range,num)}else if(!typeIsNumber){return false}return true}times="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec"+"|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?"+"|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)";regex="([+-]?\\d+\\s"+times+"|"+"(last|next)\\s"+times+")(\\sago)?";match=text.match(new RegExp(regex,"gi"));if(!match){return fail}for(i=0,len=match.length;i<len;i++){if(!process(match[i])){return fail}}return date.getTime()/1e3};exports.time=function(){return Math.floor((new Date).getTime()/1e3)};exports.escapeshellarg=function(arg){var ret="";ret=arg.replace(/[^\\]'/g,function(m,i,s){return m.slice(0,1)+"\\'"});return"'"+ret+"'"};exports.basename=function(path,suffix){var b=path;var lastChar=b.charAt(b.length-1);if(lastChar==="/"||lastChar==="\\"){b=b.slice(0,-1)}b=b.replace(/^.*[\/\\]/g,"");if(typeof suffix==="string"&&b.substr(b.length-suffix.length)==suffix){b=b.substr(0,b.length-suffix.length)}return b};exports.dirname=function(path){return path.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")};exports.file_get_contents=function(url,flags,context,offset,maxLen){var tmp,headers=[],newTmp=[],k=0,i=0,href="",pathPos=-1,flagNames=0,content=null,http_stream=false;var func=function(value){return value.substring(1)!==""};this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};var ini=this.php_js.ini;context=context||this.php_js.default_streams_context||null;if(!flags){flags=0}var OPTS={FILE_USE_INCLUDE_PATH:1,FILE_TEXT:32,FILE_BINARY:64};if(typeof flags==="number"){flagNames=flags}else{flags=[].concat(flags);for(i=0;i<flags.length;i++){if(OPTS[flags[i]]){flagNames=flagNames|OPTS[flags[i]]}}}if(flagNames&OPTS.FILE_BINARY&&flagNames&OPTS.FILE_TEXT){throw"You cannot pass both FILE_BINARY and FILE_TEXT to file_get_contents()"}if(flagNames&OPTS.FILE_USE_INCLUDE_PATH&&ini.include_path&&ini.include_path.local_value){var slash=ini.include_path.local_value.indexOf("/")!==-1?"/":"\\";url=ini.include_path.local_value+slash+url}else if(!/^(https?|file):/.test(url)){href=this.window.location.href;pathPos=url.indexOf("/")===0?href.indexOf("/",8)-1:href.lastIndexOf("/");url=href.slice(0,pathPos+1)+url}var http_options;if(context){http_options=context.stream_options&&context.stream_options.http;http_stream=!!http_options}if(!context||http_stream){var req=this.window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;if(!req){throw new Error("XMLHttpRequest not supported")}var method=http_stream?http_options.method:"GET";var async=!!(context&&context.stream_params&&context.stream_params["phpjs.async"]);if(ini["phpjs.ajaxBypassCache"]&&ini["phpjs.ajaxBypassCache"].local_value){url+=(url.match(/\?/)==null?"?":"&")+(new Date).getTime()}req.open(method,url,async);if(async){var notification=context.stream_params.notification;if(typeof notification==="function"){if(0&&req.addEventListener){}else{req.onreadystatechange=function(aEvt){var objContext={responseText:req.responseText,responseXML:req.responseXML,status:req.status,statusText:req.statusText,readyState:req.readyState,evt:aEvt};var bytes_transferred;switch(req.readyState){case 0:notification.call(objContext,0,0,"",0,0,0);break;case 1:notification.call(objContext,0,0,"",0,0,0);break;case 2:notification.call(objContext,0,0,"",0,0,0);break;case 3:bytes_transferred=req.responseText.length*2;notification.call(objContext,7,0,"",0,bytes_transferred,0);break;case 4:if(req.status>=200&&req.status<400){bytes_transferred=req.responseText.length*2;notification.call(objContext,8,0,"",req.status,bytes_transferred,0)}else if(req.status===403){notification.call(objContext,10,2,"",req.status,0,0)}else{notification.call(objContext,9,2,"",req.status,0,0)}break;default:throw"Unrecognized ready state for file_get_contents()"}}}}}if(http_stream){var sendHeaders=http_options.header&&http_options.header.split(/\r?\n/);var userAgentSent=false;for(i=0;i<sendHeaders.length;i++){var sendHeader=sendHeaders[i];var breakPos=sendHeader.search(/:\s*/);var sendHeaderName=sendHeader.substring(0,breakPos);req.setRequestHeader(sendHeaderName,sendHeader.substring(breakPos+1));if(sendHeaderName==="User-Agent"){userAgentSent=true}}if(!userAgentSent){var user_agent=http_options.user_agent||ini.user_agent&&ini.user_agent.local_value;if(user_agent){req.setRequestHeader("User-Agent",user_agent)}}content=http_options.content||null}if(flagNames&OPTS.FILE_TEXT){var content_type="text/html";if(http_options&&http_options["phpjs.override"]){content_type=http_options["phpjs.override"]}else{var encoding=ini["unicode.stream_encoding"]&&ini["unicode.stream_encoding"].local_value||"UTF-8";if(http_options&&http_options.header&&/^content-type:/im.test(http_options.header)){
content_type=http_options.header.match(/^content-type:\s*(.*)$/im)[1]}if(!/;\s*charset=/.test(content_type)){content_type+="; charset="+encoding}}req.overrideMimeType(content_type)}else if(flagNames&OPTS.FILE_BINARY){req.overrideMimeType("text/plain; charset=x-user-defined")}try{if(http_options&&http_options["phpjs.sendAsBinary"]){req.sendAsBinary(content)}else{req.send(content)}}catch(e){return false}tmp=req.getAllResponseHeaders();if(tmp){tmp=tmp.split("\n");for(k=0;k<tmp.length;k++){if(func(tmp[k])){newTmp.push(tmp[k])}}tmp=newTmp;for(i=0;i<tmp.length;i++){headers[i]=tmp[i]}this.$http_response_header=headers}if(offset||maxLen){if(maxLen){return req.responseText.substr(offset||0,maxLen)}return req.responseText.substr(offset)}return req.responseText}return false};exports.realpath=function(path){var p=0,arr=[];var r=this.window.location.href;path=(path+"").replace("\\","/");if(path.indexOf("://")!==-1){p=1}if(!p){path=r.substring(0,r.lastIndexOf("/")+1)+path}arr=path.split("/");path=[];for(var k in arr){if(arr[k]=="."){continue}if(arr[k]==".."){if(path.length>3){path.pop()}}else{if(path.length<2||arr[k]!==""){path.push(arr[k])}}}return path.join("/")};exports.call_user_func=function(cb){var func;if(typeof cb==="string"){func=typeof this[cb]==="function"?this[cb]:func=new Function(null,"return "+cb)()}else if(Object.prototype.toString.call(cb)==="[object Array]"){func=typeof cb[0]==="string"?eval(cb[0]+"['"+cb[1]+"']"):func=cb[0][cb[1]]}else if(typeof cb==="function"){func=cb}if(typeof func!=="function"){throw new Error(func+" is not a valid function")}var parameters=Array.prototype.slice.call(arguments,1);return typeof cb[0]==="string"?func.apply(eval(cb[0]),parameters):typeof cb[0]!=="object"?func.apply(null,parameters):func.apply(cb[0],parameters)};exports.call_user_func_array=function(cb,parameters){var func;if(typeof cb==="string"){func=typeof this[cb]==="function"?this[cb]:func=new Function(null,"return "+cb)()}else if(Object.prototype.toString.call(cb)==="[object Array]"){func=typeof cb[0]==="string"?eval(cb[0]+"['"+cb[1]+"']"):func=cb[0][cb[1]]}else if(typeof cb==="function"){func=cb}if(typeof func!=="function"){throw new Error(func+" is not a valid function")}return typeof cb[0]==="string"?func.apply(eval(cb[0]),parameters):typeof cb[0]!=="object"?func.apply(null,parameters):func.apply(cb[0],parameters)};exports.create_function=function(args,code){try{return Function.apply(null,args.split(",").concat(code))}catch(e){return false}};exports.function_exists=function(func_name){if(typeof func_name==="string"){func_name=this.window[func_name]}return typeof func_name==="function"};exports.get_defined_functions=function(){var i="",arr=[],already={};for(i in this.window){try{if(typeof this.window[i]==="function"){if(!already[i]){already[i]=1;arr.push(i)}}else if(typeof this.window[i]==="object"){for(var j in this.window[i]){if(typeof this.window[j]==="function"&&this.window[j]&&!already[j]){already[j]=1;arr.push(j)}}}}catch(e){}}return arr};exports.i18n_loc_set_default=function(name){this.php_js=this.php_js||{};this.php_js.i18nLocales={en_US_POSIX:{sorting:function(str1,str2){return str1==str2?0:str1>str2?1:-1}}};this.php_js.i18nLocale=name;return true};exports.assert_options=function(what,value){this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};this.php_js.assert_values=this.php_js.assert_values||{};var ini,dflt;switch(what){case"ASSERT_ACTIVE":ini="assert.active";dflt=1;break;case"ASSERT_WARNING":ini="assert.warning";dflt=1;throw"We have not yet implemented warnings for us to throw in JavaScript (assert_options())";case"ASSERT_BAIL":ini="assert.bail";dflt=0;break;case"ASSERT_QUIET_EVAL":ini="assert.quiet_eval";dflt=0;break;case"ASSERT_CALLBACK":ini="assert.callback";dflt=null;break;default:throw"Improper type for assert_options()"}var originalValue=this.php_js.assert_values[ini]||this.php_js.ini[ini]&&this.php_js.ini[ini].local_value||dflt;if(value){this.php_js.assert_values[ini]=value}return originalValue};exports.getenv=function(varname){if(!this.php_js||!this.php_js.ENV||!this.php_js.ENV[varname]){return false}return this.php_js.ENV[varname]};exports.getlastmod=function(){return new Date(this.window.document.lastModified).getTime()/1e3};exports.ini_get=function(varname){if(this.php_js&&this.php_js.ini&&this.php_js.ini[varname]&&this.php_js.ini[varname].local_value!==undefined){if(this.php_js.ini[varname].local_value===null){return""}return this.php_js.ini[varname].local_value}return""};exports.ini_set=function(varname,newvalue){var oldval="";var self=this;try{this.php_js=this.php_js||{}}catch(e){this.php_js={}}this.php_js.ini=this.php_js.ini||{};this.php_js.ini[varname]=this.php_js.ini[varname]||{};oldval=this.php_js.ini[varname].local_value;var _setArr=function(oldval){if(typeof oldval==="undefined"){self.php_js.ini[varname].local_value=[]}self.php_js.ini[varname].local_value.push(newvalue)};switch(varname){case"extension":if(typeof this.dl==="function"){this.dl(newvalue)}_setArr(oldval,newvalue);break;default:this.php_js.ini[varname].local_value=newvalue;break}return oldval};exports.set_time_limit=function(seconds){this.php_js=this.php_js||{};this.window.setTimeout(function(){if(!this.php_js.timeoutStatus){this.php_js.timeoutStatus=true}throw"Maximum execution time exceeded"},seconds*1e3)};exports.version_compare=function(v1,v2,operator){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var i=0,x=0,compare=0,vm={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},prepVersion=function(v){v=(""+v).replace(/[_\-+]/g,".");v=v.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return!v.length?[-8]:v.split(".")};numVersion=function(v){return!v?0:isNaN(v)?vm[v]||-7:parseInt(v,10)};v1=prepVersion(v1);v2=prepVersion(v2);x=Math.max(v1.length,v2.length);for(i=0;i<x;i++){if(v1[i]==v2[i]){continue}v1[i]=numVersion(v1[i]);v2[i]=numVersion(v2[i]);if(v1[i]<v2[i]){compare=-1;break}else if(v1[i]>v2[i]){compare=1;break}}if(!operator){return compare}switch(operator){case">":case"gt":return compare>0;case">=":case"ge":return compare>=0;case"<=":case"le":return compare<=0;case"==":case"=":case"eq":return compare===0;case"<>":case"!=":case"ne":return compare!==0;case"":case"<":case"lt":return compare<0;default:return null}};exports.json_decode=function(str_json){var json=this.window.JSON;if(typeof json==="object"&&typeof json.parse==="function"){try{return json.parse(str_json)}catch(err){if(!(err instanceof SyntaxError)){throw new Error("Unexpected error type in json_decode()")}this.php_js=this.php_js||{};this.php_js.last_error_json=4;return null}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var j;var text=str_json;cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return j}this.php_js=this.php_js||{};this.php_js.last_error_json=4;return null};exports.json_encode=function(mixed_val){var retVal,json=this.window.JSON;try{if(typeof json==="object"&&typeof json.stringify==="function"){retVal=json.stringify(mixed_val);if(retVal===undefined){throw new SyntaxError("json_encode")}return retVal}var value=mixed_val;var quote=function(string){var escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'};var str=function(key,holder){var gap="";var indent="    ";var i=0;var k="";var v="";var length=0;var mind=gap;var partial=[];var value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}if(this.PHPJS_Resource&&value instanceof this.PHPJS_Resource||window.PHPJS_Resource&&value instanceof window.PHPJS_Resource){throw new SyntaxError("json_encode")}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return str("",{"":value})}catch(err){if(!(err instanceof SyntaxError)){throw new Error("Unexpected error type in json_encode()")}this.php_js=this.php_js||{};this.php_js.last_error_json=4;return null}};exports.json_last_error=function(){return this.php_js&&this.php_js.last_error_json?this.php_js.last_error_json:0};exports.abs=function(mixed_number){return Math.abs(mixed_number)||0};exports.acos=function(arg){return Math.acos(arg)};exports.acosh=function(arg){return Math.log(arg+Math.sqrt(arg*arg-1))};exports.asin=function(arg){return Math.asin(arg)};exports.asinh=function(arg){return Math.log(arg+Math.sqrt(arg*arg+1))};exports.atan=function(arg){return Math.atan(arg)};exports.atan2=function(y,x){return Math.atan2(y,x)};exports.atanh=function(arg){return.5*Math.log((1+arg)/(1-arg))};exports.base_convert=function(number,frombase,tobase){return parseInt(number+"",frombase|0).toString(tobase|0)};exports.bindec=function(binary_string){binary_string=(binary_string+"").replace(/[^01]/gi,"");return parseInt(binary_string,2)};exports.ceil=function(value){return Math.ceil(value)};exports.cos=function(arg){return Math.cos(arg)};exports.cosh=function(arg){return(Math.exp(arg)+Math.exp(-arg))/2};exports.decbin=function(number){if(number<0){number=4294967295+number+1}return parseInt(number,10).toString(2)};exports.dechex=function(number){if(number<0){number=4294967295+number+1}return parseInt(number,10).toString(16)};exports.decoct=function(number){if(number<0){number=4294967295+number+1}return parseInt(number,10).toString(8)};exports.deg2rad=function(angle){return angle*.017453292519943295};exports.exp=function(arg){return Math.exp(arg)};exports.expm1=function(x){var ret=0,n=50;var factorial=function factorial(n){if(n===0||n===1){return 1}else{var result=n*factorial(n-1);return result}};for(var i=1;i<n;i++){ret+=Math.pow(x,i)/factorial(i)}return ret};exports.floor=function(value){return Math.floor(value)};exports.fmod=function(x,y){var tmp,tmp2,p=0,pY=0,l=0,l2=0;tmp=x.toExponential().match(/^.\.?(.*)e(.+)$/);p=parseInt(tmp[2],10)-(tmp[1]+"").length;tmp=y.toExponential().match(/^.\.?(.*)e(.+)$/);pY=parseInt(tmp[2],10)-(tmp[1]+"").length;if(pY>p){p=pY}tmp2=x%y;if(p<-100||p>20){l=Math.round(Math.log(tmp2)/Math.log(10));l2=Math.pow(10,l);return(tmp2/l2).toFixed(l-p)*l2}else{return parseFloat(tmp2.toFixed(-p))}};exports.getrandmax=function(){return 2147483647};exports.hexdec=function(hex_string){hex_string=(hex_string+"").replace(/[^a-f0-9]/gi,"");return parseInt(hex_string,16)};exports.hypot=function(x,y){return Math.sqrt(x*x+y*y)||0};exports.is_finite=function(val){var warningType="";if(val===Infinity||val===-Infinity){return false}if(typeof val==="object"){warningType=Object.prototype.toString.call(val)==="[object Array]"?"array":"object"}else if(typeof val==="string"&&!val.match(/^[\+\-]?\d/)){warningType="string"}if(warningType){throw new Error("Warning: is_finite() expects parameter 1 to be double, "+warningType+" given")}return true};exports.is_infinite=function(val){var warningType="";if(val===Infinity||val===-Infinity){return true}if(typeof val==="object"){warningType=Object.prototype.toString.call(val)==="[object Array]"?"array":"object"}else if(typeof val==="string"&&!val.match(/^[\+\-]?\d/)){warningType="string"}if(warningType){throw new Error("Warning: is_infinite() expects parameter 1 to be double, "+warningType+" given")}return false};exports.is_nan=function(val){var warningType="";if(typeof val==="number"&&isNaN(val)){return true}if(typeof val==="object"){warningType=Object.prototype.toString.call(val)==="[object Array]"?"array":"object"}else if(typeof val==="string"&&!val.match(/^[\+\-]?\d/)){warningType="string"}if(warningType){throw new Error("Warning: is_nan() expects parameter 1 to be double, "+warningType+" given")}return false};exports.lcg_value=function(){return Math.random()};exports.log=function(arg,base){return typeof base==="undefined"?Math.log(arg):Math.log(arg)/Math.log(base)};exports.log10=function(arg){return Math.log(arg)/2.302585092994046};exports.log1p=function(x){var ret=0,n=50;if(x<=-1){return"-INF"}if(x<0||x>1){return Math.log(1+x)}for(var i=1;i<n;i++){if(i%2===0){ret-=Math.pow(x,i)/i}else{ret+=Math.pow(x,i)/i}}return ret};exports.max=function(){var ar,retVal,i=0,n=0,argv=arguments,argc=argv.length,_obj2Array=function(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){return obj}else{var ar=[];for(var i in obj){if(obj.hasOwnProperty(i)){ar.push(obj[i])}}return ar}};_compare=function(current,next){var i=0,n=0,tmp=0,nl=0,cl=0;if(current===next){return 0}else if(typeof current==="object"){if(typeof next==="object"){current=_obj2Array(current);next=_obj2Array(next);cl=current.length;nl=next.length;if(nl>cl){return 1}else if(nl<cl){return-1}for(i=0,n=cl;i<n;++i){tmp=_compare(current[i],next[i]);if(tmp==1){return 1}else if(tmp==-1){return-1}}return 0}return-1}else if(typeof next==="object"){return 1}else if(isNaN(next)&&!isNaN(current)){if(current==0){return 0}return current<0?1:-1}else if(isNaN(current)&&!isNaN(next)){if(next==0){return 0}return next>0?1:-1}if(next==current){return 0}return next>current?1:-1};if(argc===0){throw new Error("At least one value should be passed to max()")}else if(argc===1){if(typeof argv[0]==="object"){ar=_obj2Array(argv[0])}else{throw new Error("Wrong parameter count for max()")}if(ar.length===0){throw new Error("Array must contain at least one element for max()")}}else{ar=argv}retVal=ar[0];for(i=1,n=ar.length;i<n;++i){if(_compare(retVal,ar[i])==1){retVal=ar[i]}}return retVal};exports.min=function(){var ar,retVal,i=0,n=0,argv=arguments,argc=argv.length,_obj2Array=function(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){return obj}var ar=[];for(var i in obj){if(obj.hasOwnProperty(i)){ar.push(obj[i])}}return ar};_compare=function(current,next){var i=0,n=0,tmp=0,nl=0,cl=0;if(current===next){return 0}else if(typeof current==="object"){if(typeof next==="object"){current=_obj2Array(current);next=_obj2Array(next);cl=current.length;nl=next.length;if(nl>cl){return 1}else if(nl<cl){return-1}for(i=0,n=cl;i<n;++i){tmp=_compare(current[i],next[i]);if(tmp==1){return 1}else if(tmp==-1){return-1}}return 0}return-1}else if(typeof next==="object"){return 1}else if(isNaN(next)&&!isNaN(current)){if(current==0){return 0}return current<0?1:-1}else if(isNaN(current)&&!isNaN(next)){if(next==0){return 0}return next>0?1:-1}if(next==current){return 0}return next>current?1:-1};if(argc===0){throw new Error("At least one value should be passed to min()")}else if(argc===1){if(typeof argv[0]==="object"){ar=_obj2Array(argv[0])}else{throw new Error("Wrong parameter count for min()")}if(ar.length===0){throw new Error("Array must contain at least one element for min()")}}else{ar=argv}retVal=ar[0];for(i=1,n=ar.length;i<n;++i){if(_compare(retVal,ar[i])==-1){retVal=ar[i]}}return retVal};exports.mt_getrandmax=function(){return 2147483647};exports.mt_rand=function(min,max){var argc=arguments.length;if(argc===0){min=0;max=2147483647}else if(argc===1){throw new Error("Warning: mt_rand() expects exactly 2 parameters, 1 given")}else{min=parseInt(min,10);max=parseInt(max,10)}return Math.floor(Math.random()*(max-min+1))+min};exports.octdec=function(oct_string){oct_string=(oct_string+"").replace(/[^0-7]/gi,"");return parseInt(oct_string,8)};exports.pi=function(){return 3.141592653589793};exports.pow=function(base,exp){return Math.pow(base,exp)};exports.rad2deg=function(angle){return angle*57.29577951308232};exports.rand=function(min,max){var argc=arguments.length;if(argc===0){min=0;max=2147483647}else if(argc===1){throw new Error("Warning: rand() expects exactly 2 parameters, 1 given")}return Math.floor(Math.random()*(max-min+1))+min};exports.round=function(value,precision,mode){var m,f,isHalf,sgn;precision|=0;m=Math.pow(10,precision);value*=m;sgn=value>0|-(value<0);isHalf=value%1===.5*sgn;f=Math.floor(value);if(isHalf){switch(mode){case"PHP_ROUND_HALF_DOWN":value=f+(sgn<0);break;case"PHP_ROUND_HALF_EVEN":value=f+f%2*sgn;break;case"PHP_ROUND_HALF_ODD":value=f+!(f%2);break;default:value=f+(sgn>0)}}return(isHalf?value:Math.round(value))/m};exports.sin=function(arg){return Math.sin(arg)};exports.sinh=function(arg){return(Math.exp(arg)-Math.exp(-arg))/2};exports.sqrt=function(arg){return Math.sqrt(arg)};exports.tan=function(arg){return Math.tan(arg)};exports.tanh=function(arg){return(Math.exp(arg)-Math.exp(-arg))/(Math.exp(arg)+Math.exp(-arg))};exports.pack=function(format){var formatPointer=0,argumentPointer=1,result="",argument="",i=0,r=[],instruction,quantifier,word,precisionBits,exponentBits,extraNullCount;var bias,minExp,maxExp,minUnnormExp,status,exp,len,bin,signal,n,intPart,floatPart,lastBit,rounded,j,k,tmpResult;while(formatPointer<format.length){instruction=format.charAt(formatPointer);quantifier="";formatPointer++;while(formatPointer<format.length&&format.charAt(formatPointer).match(/[\d\*]/)!==null){quantifier+=format.charAt(formatPointer);formatPointer++}if(quantifier===""){quantifier="1"}switch(instruction){case"a":case"A":if(typeof arguments[argumentPointer]==="undefined"){throw new Error("Warning:  pack() Type "+instruction+": not enough arguments")}else{argument=String(arguments[argumentPointer])}if(quantifier==="*"){quantifier=argument.length}for(i=0;i<quantifier;i++){if(typeof argument[i]==="undefined"){if(instruction==="a"){result+=String.fromCharCode(0)}else{result+=" "}}else{result+=argument[i]}}argumentPointer++;break;case"h":case"H":if(typeof arguments[argumentPointer]==="undefined"){throw new Error("Warning: pack() Type "+instruction+": not enough arguments")}else{argument=arguments[argumentPointer]}if(quantifier==="*"){quantifier=argument.length}if(quantifier>argument.length){throw new Error("Warning: pack() Type "+instruction+": not enough characters in string")}for(i=0;i<quantifier;i+=2){word=argument[i];if(i+1>=quantifier||typeof argument[i+1]==="undefined"){word+="0"}else{word+=argument[i+1]}if(instruction==="h"){word=word[1]+word[0]}result+=String.fromCharCode(parseInt(word,16))}argumentPointer++;break;case"c":case"C":if(quantifier==="*"){quantifier=arguments.length-argumentPointer}if(quantifier>arguments.length-argumentPointer){throw new Error("Warning:  pack() Type "+instruction+": too few arguments")}for(i=0;i<quantifier;i++){result+=String.fromCharCode(arguments[argumentPointer]);argumentPointer++}break;case"s":case"S":case"v":if(quantifier==="*"){quantifier=arguments.length-argumentPointer}if(quantifier>arguments.length-argumentPointer){throw new Error("Warning:  pack() Type "+instruction+": too few arguments")}for(i=0;i<quantifier;i++){result+=String.fromCharCode(arguments[argumentPointer]&255);result+=String.fromCharCode(arguments[argumentPointer]>>8&255);argumentPointer++}break;case"n":if(quantifier==="*"){quantifier=arguments.length-argumentPointer}if(quantifier>arguments.length-argumentPointer){throw new Error("Warning: pack() Type "+instruction+": too few arguments")}for(i=0;i<quantifier;i++){result+=String.fromCharCode(arguments[argumentPointer]&255);argumentPointer++}break;case"i":case"I":case"l":case"L":case"V":if(quantifier==="*"){quantifier=arguments.length-argumentPointer}if(quantifier>arguments.length-argumentPointer){throw new Error("Warning:  pack() Type "+instruction+": too few arguments")}for(i=0;i<quantifier;i++){result+=String.fromCharCode(arguments[argumentPointer]&255);result+=String.fromCharCode(arguments[argumentPointer]>>8&255);result+=String.fromCharCode(arguments[argumentPointer]>>16&255);result+=String.fromCharCode(arguments[argumentPointer]>>24&255);argumentPointer++}break;case"N":if(quantifier==="*"){quantifier=arguments.length-argumentPointer}if(quantifier>arguments.length-argumentPointer){throw new Error("Warning:  pack() Type "+instruction+": too few arguments")}for(i=0;i<quantifier;i++){result+=String.fromCharCode(arguments[argumentPointer]>>24&255);result+=String.fromCharCode(arguments[argumentPointer]>>16&255);result+=String.fromCharCode(arguments[argumentPointer]>>8&255);result+=String.fromCharCode(arguments[argumentPointer]&255);argumentPointer++}break;case"f":case"d":precisionBits=23;exponentBits=8;if(instruction==="d"){precisionBits=52;exponentBits=11}if(quantifier==="*"){quantifier=arguments.length-argumentPointer}if(quantifier>arguments.length-argumentPointer){throw new Error("Warning:  pack() Type "+instruction+": too few arguments")}for(i=0;i<quantifier;i++){argument=arguments[argumentPointer];bias=Math.pow(2,exponentBits-1)-1;minExp=-bias+1;maxExp=bias;minUnnormExp=minExp-precisionBits;status=isNaN(n=parseFloat(argument))||n===-Infinity||n===+Infinity?n:0;exp=0;len=2*bias+1+precisionBits+3;bin=new Array(len);signal=(n=status!==0?0:n)<0;n=Math.abs(n);intPart=Math.floor(n);floatPart=n-intPart;for(k=len;k;){bin[--k]=0}for(k=bias+2;intPart&&k;){bin[--k]=intPart%2;intPart=Math.floor(intPart/2)}for(k=bias+1;floatPart>0&&k;--floatPart){bin[++k]=((floatPart*=2)>=1)-0}for(k=-1;++k<len&&!bin[k];){}if(bin[(lastBit=precisionBits-1+(k=(exp=bias+1-k)>=minExp&&exp<=maxExp?k+1:bias+1-(exp=minExp-1)))+1]){if(!(rounded=bin[lastBit])){for(j=lastBit+2;!rounded&&j<len;rounded=bin[j++]){}}for(j=lastBit+1;rounded&&--j>=0;(bin[j]=!bin[j]-0)&&(rounded=0)){}}for(k=k-2<0?-1:k-3;++k<len&&!bin[k];){}if((exp=bias+1-k)>=minExp&&exp<=maxExp){++k}else{if(exp<minExp){if(exp!==bias+1-len&&exp<minUnnormExp){}k=bias+1-(exp=minExp-1)}}if(intPart||status!==0){exp=maxExp+1;k=bias+2;if(status===-Infinity){signal=1}else if(isNaN(status)){bin[k]=1}}n=Math.abs(exp+bias);tmpResult="";for(j=exponentBits+1;--j;){tmpResult=n%2+tmpResult;n=n>>=1}n=0;j=0;k=(tmpResult=(signal?"1":"0")+tmpResult+bin.slice(k,k+precisionBits).join("")).length;r=[];for(;k;){n+=(1<<j)*tmpResult.charAt(--k);if(j===7){r[r.length]=String.fromCharCode(n);n=0}j=(j+1)%8}r[r.length]=n?String.fromCharCode(n):"";result+=r.join("");argumentPointer++}break;case"x":if(quantifier==="*"){throw new Error("Warning: pack(): Type x: '*' ignored")}for(i=0;i<quantifier;i++){result+=String.fromCharCode(0)}break;case"X":if(quantifier==="*"){throw new Error("Warning: pack(): Type X: '*' ignored")}for(i=0;i<quantifier;i++){if(result.length===0){throw new Error("Warning: pack(): Type X:"+" outside of string")}else{result=result.substring(0,result.length-1)}}break;case"@":if(quantifier==="*"){throw new Error("Warning: pack(): Type X: '*' ignored")}if(quantifier>result.length){extraNullCount=quantifier-result.length;for(i=0;i<extraNullCount;i++){result+=String.fromCharCode(0)}}if(quantifier<result.length){result=result.substring(0,quantifier)}break;default:throw new Error("Warning:  pack() Type "+instruction+": unknown format code")}}if(argumentPointer<arguments.length){throw new Error("Warning: pack(): "+(arguments.length-argumentPointer)+" arguments unused")}return result};exports.time_sleep_until=function(timestamp){while(new Date<timestamp*1e3){}return true};exports.uniqid=function(prefix,more_entropy){if(typeof prefix==="undefined"){prefix=""}var retId;var formatSeed=function(seed,reqWidth){seed=parseInt(seed,10).toString(16);if(reqWidth<seed.length){return seed.slice(seed.length-reqWidth)}if(reqWidth>seed.length){return Array(1+(reqWidth-seed.length)).join("0")+seed}return seed};if(!this.php_js){this.php_js={}}if(!this.php_js.uniqidSeed){this.php_js.uniqidSeed=Math.floor(Math.random()*123456789)}this.php_js.uniqidSeed++;retId=prefix;retId+=formatSeed(parseInt((new Date).getTime()/1e3,10),8);retId+=formatSeed(this.php_js.uniqidSeed,5);if(more_entropy){retId+=(Math.random()*10).toFixed(8).toString()}return retId};exports.gopher_parsedir=function(dirent){var entryPattern=/^(.)(.*?)\t(.*?)\t(.*?)\t(.*?)\u000d\u000a$/;var entry=dirent.match(entryPattern);if(entry===null){throw"Could not parse the directory entry"}var type=entry[1];switch(type){case"i":type=255;break;case"1":type=1;break;case"0":type=0;break;case"4":type=4;break;case"5":type=5;break;case"6":type=6;break;case"9":type=9;break;case"h":type=254;break;default:return{type:-1,data:dirent}}return{type:type,title:entry[2],path:entry[3],host:entry[4],port:entry[5]}};exports.inet_ntop=function(a){var i=0,m="",c=[];a+="";if(a.length===4){return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)].join(".")}else if(a.length===16){for(i=0;i<16;i++){c.push(((a.charCodeAt(i++)<<8)+a.charCodeAt(i)).toString(16))}return c.join(":").replace(/((^|:)0(?=:|$))+:?/g,function(t){m=t.length>m.length?t:m;return t}).replace(m||" ","::")}else{return false}};exports.inet_pton=function(a){var r,m,x,i,j,f=String.fromCharCode;m=a.match(/^(?:\d{1,3}(?:\.|$)){4}/);if(m){m=m[0].split(".");m=f(m[0])+f(m[1])+f(m[2])+f(m[3]);return m.length===4?m:false}r=/^((?:[\da-f]{1,4}(?::|)){0,8})(::)?((?:[\da-f]{1,4}(?::|)){0,8})$/;m=a.match(r);if(m){for(j=1;j<4;j++){if(j===2||m[j].length===0){continue}m[j]=m[j].split(":");for(i=0;i<m[j].length;i++){m[j][i]=parseInt(m[j][i],16);if(isNaN(m[j][i])){return false}m[j][i]=f(m[j][i]>>8)+f(m[j][i]&255)}m[j]=m[j].join("")}x=m[1].length+m[3].length;if(x===16){return m[1]+m[3]}else if(x<16&&m[2].length>0){return m[1]+new Array(16-x+1).join("\0")+m[3]}}return false};exports.ip2long=function(IP){var i=0;IP=IP.match(/^([1-9]\d*|0[0-7]*|0x[\da-f]+)(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?$/i);if(!IP){return false}IP[0]=0;for(i=1;i<5;i+=1){IP[0]+=!!(IP[i]||"").length;IP[i]=parseInt(IP[i])||0}IP.push(256,256,256,256);IP[4+IP[0]]*=Math.pow(256,4-IP[0]);if(IP[1]>=IP[5]||IP[2]>=IP[6]||IP[3]>=IP[7]||IP[4]>=IP[8]){return false}return IP[1]*(IP[0]===1||16777216)+IP[2]*(IP[0]<=2||65536)+IP[3]*(IP[0]<=3||256)+IP[4]*1};exports.long2ip=function(ip){if(!isFinite(ip))return false;return[ip>>>24,ip>>>16&255,ip>>>8&255,ip&255].join(".")};exports.setrawcookie=function(name,value,expires,path,domain,secure){if(typeof expires==="string"&&/^\d+$/.test(expires)){expires=parseInt(expires,10)}if(expires instanceof Date){expires=expires.toGMTString()}else if(typeof expires==="number"){expires=new Date(expires*1e3).toGMTString()}var r=[name+"="+value],s={},i="";s={expires:expires,path:path,domain:domain};for(i in s){if(s.hasOwnProperty(i)){s[i]&&r.push(i+"="+s[i])}}return secure&&r.push("secure"),this.window.document.cookie=r.join(";"),true};exports.preg_grep=function(pattern,input,flags){var p="";var retObj={};var invert=flags===1||flags==="PREG_GREP_INVERT";if(typeof pattern==="string"){pattern=eval(pattern)}if(invert){for(p in input){if((input[p]+"").search(pattern)===-1){retObj[p]=input[p]}}}else{for(p in input){if((input[p]+"").search(pattern)!==-1){retObj[p]=input[p]}}}return retObj};exports.preg_quote=function(str,delimiter){return String(str).replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(delimiter||"")+"-]","g"),"\\$&")};exports.addcslashes=function(str,charlist){var target="",chrs=[],i=0,j=0,c="",next="",rangeBegin="",rangeEnd="",chr="",begin=0,end=0,octalLength=0,postOctalPos=0,cca=0,escHexGrp=[],encoded="",percentHex=/%([\dA-Fa-f]+)/g;var _pad=function(n,c){if((n=n+"").length<c){return new Array(++c-n.length).join("0")+n}return n};for(i=0;i<charlist.length;i++){c=charlist.charAt(i);next=charlist.charAt(i+1);if(c==="\\"&&next&&/\d/.test(next)){rangeBegin=charlist.slice(i+1).match(/^\d+/)[0];octalLength=rangeBegin.length;postOctalPos=i+octalLength+1;if(charlist.charAt(postOctalPos)+charlist.charAt(postOctalPos+1)===".."){begin=rangeBegin.charCodeAt(0);if(/\\\d/.test(charlist.charAt(postOctalPos+2)+charlist.charAt(postOctalPos+3))){rangeEnd=charlist.slice(postOctalPos+3).match(/^\d+/)[0];i+=1}else if(charlist.charAt(postOctalPos+2)){rangeEnd=charlist.charAt(postOctalPos+2)}else{throw"Range with no end point"}end=rangeEnd.charCodeAt(0);if(end>begin){for(j=begin;j<=end;j++){chrs.push(String.fromCharCode(j))}}else{chrs.push(".",rangeBegin,rangeEnd)}i+=rangeEnd.length+2}else{chr=String.fromCharCode(parseInt(rangeBegin,8));chrs.push(chr)}i+=octalLength}else if(next+charlist.charAt(i+2)===".."){rangeBegin=c;begin=rangeBegin.charCodeAt(0);if(/\\\d/.test(charlist.charAt(i+3)+charlist.charAt(i+4))){rangeEnd=charlist.slice(i+4).match(/^\d+/)[0];i+=1}else if(charlist.charAt(i+3)){rangeEnd=charlist.charAt(i+3)}else{throw"Range with no end point"}end=rangeEnd.charCodeAt(0);if(end>begin){for(j=begin;j<=end;j++){chrs.push(String.fromCharCode(j))}}else{chrs.push(".",rangeBegin,rangeEnd)}i+=rangeEnd.length+2}else{chrs.push(c)}}for(i=0;i<str.length;i++){c=str.charAt(i);if(chrs.indexOf(c)!==-1){target+="\\";cca=c.charCodeAt(0);if(cca<32||cca>126){switch(c){case"\n":target+="n";break;case"\t":target+="t";break;case"\r":target+="r";break;case"":target+="a";break;case"\v":target+="v";break;case"\b":target+="b";break;case"\f":target+="f";break;default:encoded=encodeURIComponent(c);if((escHexGrp=percentHex.exec(encoded))!==null){target+=_pad(parseInt(escHexGrp[1],16).toString(8),3)}while((escHexGrp=percentHex.exec(encoded))!==null){target+="\\"+_pad(parseInt(escHexGrp[1],16).toString(8),3)}break}}else{target+=c}}else{target+=c}}return target};exports.addslashes=function(str){return(str+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")};exports.bin2hex=function(s){var i,l,o="",n;s+="";for(i=0,l=s.length;i<l;i++){n=s.charCodeAt(i).toString(16);o+=n.length<2?"0"+n:n}return o};exports.chr=function(codePt){if(codePt>65535){codePt-=65536;return String.fromCharCode(55296+(codePt>>10),56320+(codePt&1023))}return String.fromCharCode(codePt)};exports.chunk_split=function(body,chunklen,end){chunklen=parseInt(chunklen,10)||76;end=end||"\r\n";if(chunklen<1){return false}return body.match(new RegExp(".{0,"+chunklen+"}","g")).join(end)};exports.convert_cyr_string=function(str,from,to){
var _cyr_win1251=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,154,174,190,46,159,189,46,46,179,191,180,157,46,46,156,183,46,46,182,166,173,46,46,158,163,152,164,155,46,46,46,167,225,226,247,231,228,229,246,250,233,234,235,236,237,238,239,240,242,243,244,245,230,232,227,254,251,253,255,249,248,252,224,241,193,194,215,199,196,197,214,218,201,202,203,204,205,206,207,208,210,211,212,213,198,200,195,222,219,221,223,217,216,220,192,209,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,184,186,32,179,191,32,32,32,32,32,180,162,32,32,32,32,168,170,32,178,175,32,32,32,32,32,165,161,169,254,224,225,246,228,229,244,227,245,232,233,234,235,236,237,238,239,255,240,241,242,243,230,226,252,251,231,248,253,249,247,250,222,192,193,214,196,197,212,195,213,200,201,202,203,204,205,206,207,223,208,209,210,211,198,194,220,219,199,216,221,217,215,218],_cyr_cp866=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,225,226,247,231,228,229,246,250,233,234,235,236,237,238,239,240,242,243,244,245,230,232,227,254,251,253,255,249,248,252,224,241,193,194,215,199,196,197,214,218,201,202,203,204,205,206,207,208,35,35,35,124,124,124,124,43,43,124,124,43,43,43,43,43,43,45,45,124,45,43,124,124,43,43,45,45,124,45,43,45,45,45,45,43,43,43,43,43,43,43,43,35,35,124,124,35,210,211,212,213,198,200,195,222,219,221,223,217,216,220,192,209,179,163,180,164,183,167,190,174,32,149,158,32,152,159,148,154,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,205,186,213,241,243,201,32,245,187,212,211,200,190,32,247,198,199,204,181,240,242,185,32,244,203,207,208,202,216,32,246,32,238,160,161,230,164,165,228,163,229,168,169,170,171,172,173,174,175,239,224,225,226,227,166,162,236,235,167,232,237,233,231,234,158,128,129,150,132,133,148,131,149,136,137,138,139,140,141,142,143,159,144,145,146,147,134,130,156,155,135,152,157,153,151,154],_cyr_iso88595=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,179,32,32,32,32,32,32,32,32,32,32,32,32,32,32,225,226,247,231,228,229,246,250,233,234,235,236,237,238,239,240,242,243,244,245,230,232,227,254,251,253,255,249,248,252,224,241,193,194,215,199,196,197,214,218,201,202,203,204,205,206,207,208,210,211,212,213,198,200,195,222,219,221,223,217,216,220,192,209,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,32,32,32,32,32,32,32,32,32,32,32,32,238,208,209,230,212,213,228,211,229,216,217,218,219,220,221,222,223,239,224,225,226,227,214,210,236,235,215,232,237,233,231,234,206,176,177,198,180,181,196,179,197,184,185,186,187,188,189,190,191,207,192,193,194,195,182,178,204,203,183,200,205,201,199,202],_cyr_mac=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,225,226,247,231,228,229,246,250,233,234,235,236,237,238,239,240,242,243,244,245,230,232,227,254,251,253,255,249,248,252,224,241,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,179,163,209,193,194,215,199,196,197,214,218,201,202,203,204,205,206,207,208,210,211,212,213,198,200,195,222,219,221,223,217,216,220,192,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,160,161,162,222,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,221,180,181,182,183,184,185,186,187,188,189,190,191,254,224,225,246,228,229,244,227,245,232,233,234,235,236,237,238,239,223,240,241,242,243,230,226,252,251,231,248,253,249,247,250,158,128,129,150,132,133,148,131,149,136,137,138,139,140,141,142,143,159,144,145,146,147,134,130,156,155,135,152,157,153,151,154];var from_table=null,to_table=null,tmp,i=0,retStr="";switch(from.toUpperCase()){case"W":from_table=_cyr_win1251;break;case"A":case"D":from_table=_cyr_cp866;break;case"I":from_table=_cyr_iso88595;break;case"M":from_table=_cyr_mac;break;case"K":break;default:throw"Unknown source charset: "+from}switch(to.toUpperCase()){case"W":to_table=_cyr_win1251;break;case"A":case"D":to_table=_cyr_cp866;break;case"I":to_table=_cyr_iso88595;break;case"M":to_table=_cyr_mac;break;case"K":break;default:throw"Unknown destination charset: "+to}if(!str){return str}for(i=0;i<str.length;i++){tmp=from_table===null?str.charAt(i):String.fromCharCode(from_table[str.charAt(i).charCodeAt(0)]);retStr+=to_table===null?tmp:String.fromCharCode(to_table[tmp.charCodeAt(0)+256])}return retStr};exports.count_chars=function(str,mode){var result={},resultArr=[],i;str=(""+str).split("").sort().join("").match(/(.)\1*/g);if((mode&1)==0){for(i=0;i!=256;i++){result[i]=0}}if(mode===2||mode===4){for(i=0;i!=str.length;i+=1){delete result[str[i].charCodeAt(0)]}for(i in result){result[i]=mode===4?String.fromCharCode(i):0}}else if(mode===3){for(i=0;i!=str.length;i+=1){result[i]=str[i].slice(0,1)}}else{for(i=0;i!=str.length;i+=1){result[str[i].charCodeAt(0)]=str[i].length}}if(mode<3){return result}for(i in result){resultArr.push(result[i])}return resultArr.join("")};exports.explode=function(delimiter,string,limit){if(arguments.length<2||typeof delimiter==="undefined"||typeof string==="undefined")return null;if(delimiter===""||delimiter===false||delimiter===null)return false;if(typeof delimiter==="function"||typeof delimiter==="object"||typeof string==="function"||typeof string==="object"){return{0:""}}if(delimiter===true)delimiter="1";delimiter+="";string+="";var s=string.split(delimiter);if(typeof limit==="undefined")return s;if(limit===0)limit=1;if(limit>0){if(limit>=s.length)return s;return s.slice(0,limit-1).concat([s.slice(limit-1).join(delimiter)])}if(-limit>=s.length)return[];s.splice(s.length+limit);return s};exports.get_html_translation_table=function(table,quote_style){var entities={},hash_map={},decimal;var constMappingTable={},constMappingQuoteStyle={};var useTable={},useQuoteStyle={};constMappingTable[0]="HTML_SPECIALCHARS";constMappingTable[1]="HTML_ENTITIES";constMappingQuoteStyle[0]="ENT_NOQUOTES";constMappingQuoteStyle[2]="ENT_COMPAT";constMappingQuoteStyle[3]="ENT_QUOTES";useTable=!isNaN(table)?constMappingTable[table]:table?table.toUpperCase():"HTML_SPECIALCHARS";useQuoteStyle=!isNaN(quote_style)?constMappingQuoteStyle[quote_style]:quote_style?quote_style.toUpperCase():"ENT_COMPAT";if(useTable!=="HTML_SPECIALCHARS"&&useTable!=="HTML_ENTITIES"){throw new Error("Table: "+useTable+" not supported")}entities["38"]="&amp;";if(useTable==="HTML_ENTITIES"){entities["160"]="&nbsp;";entities["161"]="&iexcl;";entities["162"]="&cent;";entities["163"]="&pound;";entities["164"]="&curren;";entities["165"]="&yen;";entities["166"]="&brvbar;";entities["167"]="&sect;";entities["168"]="&uml;";entities["169"]="&copy;";entities["170"]="&ordf;";entities["171"]="&laquo;";entities["172"]="&not;";entities["173"]="&shy;";entities["174"]="&reg;";entities["175"]="&macr;";entities["176"]="&deg;";entities["177"]="&plusmn;";entities["178"]="&sup2;";entities["179"]="&sup3;";entities["180"]="&acute;";entities["181"]="&micro;";entities["182"]="&para;";entities["183"]="&middot;";entities["184"]="&cedil;";entities["185"]="&sup1;";entities["186"]="&ordm;";entities["187"]="&raquo;";entities["188"]="&frac14;";entities["189"]="&frac12;";entities["190"]="&frac34;";entities["191"]="&iquest;";entities["192"]="&Agrave;";entities["193"]="&Aacute;";entities["194"]="&Acirc;";entities["195"]="&Atilde;";entities["196"]="&Auml;";entities["197"]="&Aring;";entities["198"]="&AElig;";entities["199"]="&Ccedil;";entities["200"]="&Egrave;";entities["201"]="&Eacute;";entities["202"]="&Ecirc;";entities["203"]="&Euml;";entities["204"]="&Igrave;";entities["205"]="&Iacute;";entities["206"]="&Icirc;";entities["207"]="&Iuml;";entities["208"]="&ETH;";entities["209"]="&Ntilde;";entities["210"]="&Ograve;";entities["211"]="&Oacute;";entities["212"]="&Ocirc;";entities["213"]="&Otilde;";entities["214"]="&Ouml;";entities["215"]="&times;";entities["216"]="&Oslash;";entities["217"]="&Ugrave;";entities["218"]="&Uacute;";entities["219"]="&Ucirc;";entities["220"]="&Uuml;";entities["221"]="&Yacute;";entities["222"]="&THORN;";entities["223"]="&szlig;";entities["224"]="&agrave;";entities["225"]="&aacute;";entities["226"]="&acirc;";entities["227"]="&atilde;";entities["228"]="&auml;";entities["229"]="&aring;";entities["230"]="&aelig;";entities["231"]="&ccedil;";entities["232"]="&egrave;";entities["233"]="&eacute;";entities["234"]="&ecirc;";entities["235"]="&euml;";entities["236"]="&igrave;";entities["237"]="&iacute;";entities["238"]="&icirc;";entities["239"]="&iuml;";entities["240"]="&eth;";entities["241"]="&ntilde;";entities["242"]="&ograve;";entities["243"]="&oacute;";entities["244"]="&ocirc;";entities["245"]="&otilde;";entities["246"]="&ouml;";entities["247"]="&divide;";entities["248"]="&oslash;";entities["249"]="&ugrave;";entities["250"]="&uacute;";entities["251"]="&ucirc;";entities["252"]="&uuml;";entities["253"]="&yacute;";entities["254"]="&thorn;";entities["255"]="&yuml;"}if(useQuoteStyle!=="ENT_NOQUOTES"){entities["34"]="&quot;"}if(useQuoteStyle==="ENT_QUOTES"){entities["39"]="&#39;"}entities["60"]="&lt;";entities["62"]="&gt;";for(decimal in entities){if(entities.hasOwnProperty(decimal)){hash_map[String.fromCharCode(decimal)]=entities[decimal]}}return hash_map};exports.echo=function(){var isNode=typeof module!=="undefined"&&module.exports&&typeof global!=="undefined"&&{}.toString.call(global)=="[object global]";if(isNode){var args=Array.prototype.slice.call(arguments);return console.log(args.join(" "))}var arg="",argc=arguments.length,argv=arguments,i=0,holder,win=this.window,d=win.document,ns_xhtml="http://www.w3.org/1999/xhtml",ns_xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";var stringToDOM=function(str,parent,ns,container){var extraNSs="";if(ns===ns_xul){extraNSs=' xmlns:html="'+ns_xhtml+'"'}var stringContainer="<"+container+' xmlns="'+ns+'"'+extraNSs+">"+str+"</"+container+">";var dils=win.DOMImplementationLS,dp=win.DOMParser,ax=win.ActiveXObject;if(dils&&dils.createLSInput&&dils.createLSParser){var lsInput=dils.createLSInput();lsInput.stringData=stringContainer;var lsParser=dils.createLSParser(1,null);return lsParser.parse(lsInput).firstChild}else if(dp){try{var fc=(new dp).parseFromString(stringContainer,"text/xml");if(fc&&fc.documentElement&&fc.documentElement.localName!=="parsererror"&&fc.documentElement.namespaceURI!=="http://www.mozilla.org/newlayout/xml/parsererror.xml"){return fc.documentElement.firstChild}}catch(e){}}else if(ax){var axo=new ax("MSXML2.DOMDocument");axo.loadXML(str);return axo.documentElement}if(d.createElementNS&&(d.documentElement.namespaceURI||d.documentElement.nodeName.toLowerCase()!=="html"||d.contentType&&d.contentType!=="text/html")){holder=d.createElementNS(ns,container)}else{holder=d.createElement(container)}holder.innerHTML=str;while(holder.firstChild){parent.appendChild(holder.firstChild)}return false};var ieFix=function(node){if(node.nodeType===1){var newNode=d.createElement(node.nodeName);var i,len;if(node.attributes&&node.attributes.length>0){for(i=0,len=node.attributes.length;i<len;i++){newNode.setAttribute(node.attributes[i].nodeName,node.getAttribute(node.attributes[i].nodeName))}}if(node.childNodes&&node.childNodes.length>0){for(i=0,len=node.childNodes.length;i<len;i++){newNode.appendChild(ieFix(node.childNodes[i]))}}return newNode}else{return d.createTextNode(node.nodeValue)}};var replacer=function(s,m1,m2){if(m1!=="\\"){return m1+eval(m2)}else{return s}};this.php_js=this.php_js||{};var phpjs=this.php_js,ini=phpjs.ini,obs=phpjs.obs;for(i=0;i<argc;i++){arg=argv[i];if(ini&&ini["phpjs.echo_embedded_vars"]){arg=arg.replace(/(.?)\{?\$(\w*?\}|\w*)/g,replacer)}if(!phpjs.flushing&&obs&&obs.length){obs[obs.length-1].buffer+=arg;continue}if(d.appendChild){if(d.body){if(win.navigator.appName==="Microsoft Internet Explorer"){d.body.appendChild(stringToDOM(ieFix(arg)))}else{var unappendedLeft=stringToDOM(arg,d.body,ns_xhtml,"div").cloneNode(true);if(unappendedLeft){d.body.appendChild(unappendedLeft)}}}else{d.documentElement.appendChild(stringToDOM(arg,d.documentElement,ns_xul,"description"))}}else if(d.write){d.write(arg)}}};exports.htmlspecialchars=function(string,quote_style,charset,double_encode){var optTemp=0,i=0,noquotes=false;if(typeof quote_style==="undefined"||quote_style===null){quote_style=2}string=string.toString();if(double_encode!==false){string=string.replace(/&/g,"&amp;")}string=string.replace(/</g,"&lt;").replace(/>/g,"&gt;");var OPTS={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(quote_style===0){noquotes=true}if(typeof quote_style!=="number"){quote_style=[].concat(quote_style);for(i=0;i<quote_style.length;i++){if(OPTS[quote_style[i]]===0){noquotes=true}else if(OPTS[quote_style[i]]){optTemp=optTemp|OPTS[quote_style[i]]}}quote_style=optTemp}if(quote_style&OPTS.ENT_HTML_QUOTE_SINGLE){string=string.replace(/'/g,"&#039;")}if(!noquotes){string=string.replace(/"/g,"&quot;")}return string};exports.htmlspecialchars_decode=function(string,quote_style){var optTemp=0,i=0,noquotes=false;if(typeof quote_style==="undefined"){quote_style=2}string=string.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var OPTS={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(quote_style===0){noquotes=true}if(typeof quote_style!=="number"){quote_style=[].concat(quote_style);for(i=0;i<quote_style.length;i++){if(OPTS[quote_style[i]]===0){noquotes=true}else if(OPTS[quote_style[i]]){optTemp=optTemp|OPTS[quote_style[i]]}}quote_style=optTemp}if(quote_style&OPTS.ENT_HTML_QUOTE_SINGLE){string=string.replace(/&#0*39;/g,"'")}if(!noquotes){string=string.replace(/&quot;/g,'"')}string=string.replace(/&amp;/g,"&");return string};exports.implode=function(glue,pieces){var i="",retVal="",tGlue="";if(arguments.length===1){pieces=glue;glue=""}if(typeof pieces==="object"){if(Object.prototype.toString.call(pieces)==="[object Array]"){return pieces.join(glue)}for(i in pieces){retVal+=tGlue+pieces[i];tGlue=glue}return retVal}return pieces};exports.lcfirst=function(str){str+="";var f=str.charAt(0).toLowerCase();return f+str.substr(1)};exports.levenshtein=function(s1,s2){if(s1==s2){return 0}var s1_len=s1.length;var s2_len=s2.length;if(s1_len===0){return s2_len}if(s2_len===0){return s1_len}var split=false;try{split=!"0"[0]}catch(e){split=true}if(split){s1=s1.split("");s2=s2.split("")}var v0=new Array(s1_len+1);var v1=new Array(s1_len+1);var s1_idx=0,s2_idx=0,cost=0;for(s1_idx=0;s1_idx<s1_len+1;s1_idx++){v0[s1_idx]=s1_idx}var char_s1="",char_s2="";for(s2_idx=1;s2_idx<=s2_len;s2_idx++){v1[0]=s2_idx;char_s2=s2[s2_idx-1];for(s1_idx=0;s1_idx<s1_len;s1_idx++){char_s1=s1[s1_idx];cost=char_s1==char_s2?0:1;var m_min=v0[s1_idx+1]+1;var b=v1[s1_idx]+1;var c=v0[s1_idx]+cost;if(b<m_min){m_min=b}if(c<m_min){m_min=c}v1[s1_idx+1]=m_min}var v_tmp=v0;v0=v1;v1=v_tmp}return v0[s1_len]};exports.ltrim=function(str,charlist){charlist=!charlist?" \\s ":(charlist+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1");var re=new RegExp("^["+charlist+"]+","g");return(str+"").replace(re,"")};exports.metaphone=function(word,max_phonemes){var type=typeof word;if(type==="undefined"||type==="object"&&word!==null){return null}if(type==="number"){if(isNaN(word)){word="NAN"}else if(!isFinite(word)){word="INF"}}if(max_phonemes<0){return false}max_phonemes=Math.floor(+max_phonemes)||0;var alpha="ABCDEFGHIJKLMNOPQRSTUVWXYZ",vowel="AEIOU",soft="EIY",leadingNonAlpha=new RegExp("^[^"+alpha+"]+");word=typeof word==="string"?word:"";word=word.toUpperCase().replace(leadingNonAlpha,"");if(!word){return""}var is=function(p,c){return c!==""&&p.indexOf(c)!==-1};var i=0,cc=word.charAt(0),nc=word.charAt(1),nnc,pc,l=word.length,meta="",traditional=true;switch(cc){case"A":meta+=nc==="E"?nc:cc;i+=1;break;case"G":case"K":case"P":if(nc==="N"){meta+=nc;i+=2}break;case"W":if(nc==="R"){meta+=nc;i+=2}else if(nc==="H"||is(vowel,nc)){meta+="W";i+=2}break;case"X":meta+="S";i+=1;break;case"E":case"I":case"O":case"U":meta+=cc;i++;break}for(;i<l&&(max_phonemes===0||meta.length<max_phonemes);i+=1){cc=word.charAt(i);nc=word.charAt(i+1);pc=word.charAt(i-1);nnc=word.charAt(i+2);if(cc===pc&&cc!=="C"){continue}switch(cc){case"B":if(pc!=="M"){meta+=cc}break;case"C":if(is(soft,nc)){if(nc==="I"&&nnc==="A"){meta+="X"}else if(pc!=="S"){meta+="S"}}else if(nc==="H"){meta+=!traditional&&(nnc==="R"||pc==="S")?"K":"X";i+=1}else{meta+="K"}break;case"D":if(nc==="G"&&is(soft,nnc)){meta+="J";i+=1}else{meta+="T"}break;case"G":if(nc==="H"){if(!(is("BDH",word.charAt(i-3))||word.charAt(i-4)==="H")){meta+="F";i+=1}}else if(nc==="N"){if(is(alpha,nnc)&&word.substr(i+1,3)!=="NED"){meta+="K"}}else if(is(soft,nc)&&pc!=="G"){meta+="J"}else{meta+="K"}break;case"H":if(is(vowel,nc)&&!is("CGPST",pc)){meta+=cc}break;case"K":if(pc!=="C"){meta+="K"}break;case"P":meta+=nc==="H"?"F":cc;break;case"Q":meta+="K";break;case"S":if(nc==="I"&&is("AO",nnc)){meta+="X"}else if(nc==="H"){meta+="X";i+=1}else if(!traditional&&word.substr(i+1,3)==="CHW"){meta+="X";i+=2}else{meta+="S"}break;case"T":if(nc==="I"&&is("AO",nnc)){meta+="X"}else if(nc==="H"){meta+="0";i+=1}else if(word.substr(i+1,2)!=="CH"){meta+="T"}break;case"V":meta+="F";break;case"W":case"Y":if(is(vowel,nc)){meta+=cc}break;case"X":meta+="KS";break;case"Z":meta+="S";break;case"F":case"J":case"L":case"M":case"N":case"R":meta+=cc;break}}return meta};exports.nl2br=function(str,is_xhtml){var breakTag=is_xhtml||typeof is_xhtml==="undefined"?"<br "+"/>":"<br>";return(str+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+breakTag+"$2")};exports.number_format=function(number,decimals,dec_point,thousands_sep){number=(number+"").replace(/[^0-9+\-Ee.]/g,"");var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=typeof thousands_sep==="undefined"?",":thousands_sep,dec=typeof dec_point==="undefined"?".":dec_point,s="",toFixedFix=function(n,prec){var k=Math.pow(10,prec);return""+(Math.round(n*k)/k).toFixed(prec)};s=(prec?toFixedFix(n,prec):""+Math.round(n)).split(".");if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)}if((s[1]||"").length<prec){s[1]=s[1]||"";s[1]+=new Array(prec-s[1].length+1).join("0")}return s.join(dec)};exports.ord=function(string){var str=string+"",code=str.charCodeAt(0);if(55296<=code&&code<=56319){var hi=code;if(str.length===1){return code}var low=str.charCodeAt(1);return(hi-55296)*1024+(low-56320)+65536}if(56320<=code&&code<=57343){return code}return code};exports.parse_str=function(str,array){var strArr=String(str).replace(/^&/,"").replace(/&$/,"").split("&"),sal=strArr.length,i,j,ct,p,lastObj,obj,lastIter,undef,chr,tmp,key,value,postLeftBracketPos,keys,keysLen,fixStr=function(str){return decodeURIComponent(str.replace(/\+/g,"%20"))};if(!array){array=this.window}for(i=0;i<sal;i++){tmp=strArr[i].split("=");key=fixStr(tmp[0]);value=tmp.length<2?"":fixStr(tmp[1]);while(key.charAt(0)===" "){key=key.slice(1)}if(key.indexOf("\0")>-1){key=key.slice(0,key.indexOf("\0"))}if(key&&key.charAt(0)!=="["){keys=[];postLeftBracketPos=0;for(j=0;j<key.length;j++){if(key.charAt(j)==="["&&!postLeftBracketPos){postLeftBracketPos=j+1}else if(key.charAt(j)==="]"){if(postLeftBracketPos){if(!keys.length){keys.push(key.slice(0,postLeftBracketPos-1))}keys.push(key.substr(postLeftBracketPos,j-postLeftBracketPos));postLeftBracketPos=0;if(key.charAt(j+1)!=="["){break}}}}if(!keys.length){keys=[key]}for(j=0;j<keys[0].length;j++){chr=keys[0].charAt(j);if(chr===" "||chr==="."||chr==="["){keys[0]=keys[0].substr(0,j)+"_"+keys[0].substr(j+1)}if(chr==="["){break}}obj=array;for(j=0,keysLen=keys.length;j<keysLen;j++){key=keys[j].replace(/^['"]/,"").replace(/['"]$/,"");lastIter=j!==keys.length-1;lastObj=obj;if(key!==""&&key!==" "||j===0){if(obj[key]===undef){obj[key]={}}obj=obj[key]}else{ct=-1;for(p in obj){if(obj.hasOwnProperty(p)){if(+p>ct&&p.match(/^\d+$/g)){ct=+p}}}key=ct+1}}lastObj[key]=value}}};exports.quoted_printable_decode=function(str){var RFC2045Decode1=/=\r\n/gm,RFC2045Decode2IN=/=([0-9A-F]{2})/gim,RFC2045Decode2OUT=function(sMatch,sHex){return String.fromCharCode(parseInt(sHex,16))};return str.replace(RFC2045Decode1,"").replace(RFC2045Decode2IN,RFC2045Decode2OUT)};exports.quoted_printable_encode=function(str){var hexChars=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],RFC2045Encode1IN=/ \r\n|\r\n|[^!-<>-~ ]/gm,RFC2045Encode1OUT=function(sMatch){if(sMatch.length>1){return sMatch.replace(" ","=20")}var chr=sMatch.charCodeAt(0);return"="+hexChars[chr>>>4&15]+hexChars[chr&15]};RFC2045Encode2IN=/.{1,72}(?!\r\n)[^=]{0,3}/g,RFC2045Encode2OUT=function(sMatch){if(sMatch.substr(sMatch.length-2)==="\r\n"){return sMatch}return sMatch+"=\r\n"};str=str.replace(RFC2045Encode1IN,RFC2045Encode1OUT).replace(RFC2045Encode2IN,RFC2045Encode2OUT);return str.substr(0,str.length-3)};exports.quotemeta=function(str){return(str+"").replace(/([\.\\\+\*\?\[\^\]\$\(\)])/g,"\\$1")};exports.rtrim=function(str,charlist){charlist=!charlist?" \\s ":(charlist+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1");var re=new RegExp("["+charlist+"]+$","g");return(str+"").replace(re,"")};exports.similar_text=function(first,second,percent){if(first===null||second===null||typeof first==="undefined"||typeof second==="undefined"){return 0}first+="";second+="";var pos1=0,pos2=0,max=0,firstLength=first.length,secondLength=second.length,p,q,l,sum;max=0;for(p=0;p<firstLength;p++){for(q=0;q<secondLength;q++){for(l=0;p+l<firstLength&&q+l<secondLength&&first.charAt(p+l)===second.charAt(q+l);l++);if(l>max){max=l;pos1=p;pos2=q}}}sum=max;if(sum){if(pos1&&pos2){sum+=this.similar_text(first.substr(0,pos1),second.substr(0,pos2))}if(pos1+max<firstLength&&pos2+max<secondLength){sum+=this.similar_text(first.substr(pos1+max,firstLength-pos1-max),second.substr(pos2+max,secondLength-pos2-max))}}if(!percent){return sum}else{return sum*200/(firstLength+secondLength)}};exports.soundex=function(str){str=(str+"").toUpperCase();if(!str){return""}var sdx=[0,0,0,0],m={B:1,F:1,P:1,V:1,C:2,G:2,J:2,K:2,Q:2,S:2,X:2,Z:2,D:3,T:3,L:4,M:5,N:5,R:6},i=0,j,s=0,c,p;while((c=str.charAt(i++))&&s<4){if(j=m[c]){if(j!==p){sdx[s++]=p=j}}else{s+=i===1;p=0}}sdx[0]=str.charAt(0);return sdx.join("")};exports.sprintf=function(){var regex=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g;var a=arguments;var i=0;var format=a[i++];var pad=function(str,len,chr,leftJustify){if(!chr){chr=" "}var padding=str.length>=len?"":new Array(1+len-str.length>>>0).join(chr);return leftJustify?str+padding:padding+str};var justify=function(value,prefix,leftJustify,minWidth,zeroPad,customPadChar){var diff=minWidth-value.length;if(diff>0){if(leftJustify||!zeroPad){value=pad(value,minWidth,customPadChar,leftJustify)}else{value=value.slice(0,prefix.length)+pad("",diff,"0",true)+value.slice(prefix.length)}}return value};var formatBaseX=function(value,base,prefix,leftJustify,minWidth,precision,zeroPad){var number=value>>>0;prefix=prefix&&number&&{2:"0b",8:"0",16:"0x"}[base]||"";value=prefix+pad(number.toString(base),precision||0,"0",false);return justify(value,prefix,leftJustify,minWidth,zeroPad)};var formatString=function(value,leftJustify,minWidth,precision,zeroPad,customPadChar){if(precision!=null){value=value.slice(0,precision)}return justify(value,"",leftJustify,minWidth,zeroPad,customPadChar)};var doFormat=function(substring,valueIndex,flags,minWidth,_,precision,type){var number,prefix,method,textTransform,value;if(substring==="%%"){return"%"}var leftJustify=false;var positivePrefix="";var zeroPad=false;var prefixBaseX=false;var customPadChar=" ";var flagsl=flags.length;for(var j=0;flags&&j<flagsl;j++){switch(flags.charAt(j)){case" ":positivePrefix=" ";break;case"+":positivePrefix="+";break;case"-":leftJustify=true;break;case"'":customPadChar=flags.charAt(j+1);break;case"0":zeroPad=true;customPadChar="0";break;case"#":prefixBaseX=true;break}}if(!minWidth){minWidth=0}else if(minWidth==="*"){minWidth=+a[i++]}else if(minWidth.charAt(0)=="*"){minWidth=+a[minWidth.slice(1,-1)]}else{minWidth=+minWidth}if(minWidth<0){minWidth=-minWidth;leftJustify=true}if(!isFinite(minWidth)){throw new Error("sprintf: (minimum-)width must be finite")}if(!precision){precision="fFeE".indexOf(type)>-1?6:type==="d"?0:undefined}else if(precision==="*"){precision=+a[i++]}else if(precision.charAt(0)=="*"){precision=+a[precision.slice(1,-1)]}else{precision=+precision}value=valueIndex?a[valueIndex.slice(0,-1)]:a[i++];switch(type){case"s":return formatString(String(value),leftJustify,minWidth,precision,zeroPad,customPadChar);case"c":return formatString(String.fromCharCode(+value),leftJustify,minWidth,precision,zeroPad);case"b":return formatBaseX(value,2,prefixBaseX,leftJustify,minWidth,precision,zeroPad);case"o":return formatBaseX(value,8,prefixBaseX,leftJustify,minWidth,precision,zeroPad);case"x":return formatBaseX(value,16,prefixBaseX,leftJustify,minWidth,precision,zeroPad);case"X":return formatBaseX(value,16,prefixBaseX,leftJustify,minWidth,precision,zeroPad).toUpperCase();case"u":return formatBaseX(value,10,prefixBaseX,leftJustify,minWidth,precision,zeroPad);case"i":case"d":number=+value||0;number=Math.round(number-number%1);prefix=number<0?"-":positivePrefix;value=prefix+pad(String(Math.abs(number)),precision,"0",false);return justify(value,prefix,leftJustify,minWidth,zeroPad);case"e":case"E":case"f":case"F":case"g":case"G":number=+value;prefix=number<0?"-":positivePrefix;method=["toExponential","toFixed","toPrecision"]["efg".indexOf(type.toLowerCase())];textTransform=["toString","toUpperCase"]["eEfFgG".indexOf(type)%2];value=prefix+Math.abs(number)[method](precision);return justify(value,prefix,leftJustify,minWidth,zeroPad)[textTransform]();default:return substring}};return format.replace(regex,doFormat)};exports.sscanf=function(str,format){var retArr=[],num=0,_NWS=/\S/,args=arguments,that=this,digit;var _setExtraConversionSpecs=function(offset){var matches=format.slice(offset).match(/%[cdeEufgosxX]/g);if(matches){var lgth=matches.length;while(lgth--){retArr.push(null)}}return _finish()};var _finish=function(){if(args.length===2){return retArr}for(var i=0;i<retArr.length;++i){that.window[args[i+2]]=retArr[i]}return i};var _addNext=function(j,regex,cb){if(assign){var remaining=str.slice(j);var check=width?remaining.substr(0,width):remaining;var match=regex.exec(check);var testNull=retArr[digit!==undefined?digit:retArr.length]=match?cb?cb.apply(null,match):match[0]:null;if(testNull===null){throw"No match in string"}return j+match[0].length}return j};if(arguments.length<2){throw"Not enough arguments passed to sscanf"}for(var i=0,j=0;i<format.length;i++){var width=0,assign=true;if(format.charAt(i)==="%"){if(format.charAt(i+1)==="%"){if(str.charAt(j)==="%"){++i,++j;continue}return _setExtraConversionSpecs(i+2)}var prePattern=new RegExp("^(?:(\\d+)\\$)?(\\*)?(\\d*)([hlL]?)","g");var preConvs=prePattern.exec(format.slice(i+1));var tmpDigit=digit;if(tmpDigit&&preConvs[1]===undefined){throw"All groups in sscanf() must be expressed as numeric if any have already been used"}digit=preConvs[1]?parseInt(preConvs[1],10)-1:undefined;assign=!preConvs[2];width=parseInt(preConvs[3],10);var sizeCode=preConvs[4];i+=prePattern.lastIndex;if(sizeCode){switch(sizeCode){case"h":case"l":case"L":break;default:throw"Unexpected size specifier in sscanf()!";break}}try{switch(format.charAt(i+1)){case"F":break;case"g":break;case"G":break;case"b":break;case"i":j=_addNext(j,/([+-])?(?:(?:0x([\da-fA-F]+))|(?:0([0-7]+))|(\d+))/,function(num,sign,hex,oct,dec){return hex?parseInt(num,16):oct?parseInt(num,8):parseInt(num,10)});break;case"n":retArr[digit!==undefined?digit:retArr.length-1]=j;break;case"c":j=_addNext(j,new RegExp(".{1,"+(width||1)+"}"));break;case"D":case"d":j=_addNext(j,/([+-])?(?:0*)(\d+)/,function(num,sign,dec){var decInt=parseInt((sign||"")+dec,10);if(decInt<0){return decInt<-2147483648?-2147483648:decInt}else{return decInt<2147483647?decInt:2147483647}});break;case"f":case"E":case"e":j=_addNext(j,/([+-])?(?:0*)(\d*\.?\d*(?:[eE]?\d+)?)/,function(num,sign,dec){if(dec==="."){return null}return parseFloat((sign||"")+dec)});break;case"u":j=_addNext(j,/([+-])?(?:0*)(\d+)/,function(num,sign,dec){var decInt=parseInt(dec,10);if(sign==="-"){return 4294967296-decInt}else{return decInt<4294967295?decInt:4294967295}});break;case"o":j=_addNext(j,/([+-])?(?:0([0-7]+))/,function(num,sign,oct){return parseInt(num,8)});break;case"s":j=_addNext(j,/\S+/);break;case"X":case"x":j=_addNext(j,/([+-])?(?:(?:0x)?([\da-fA-F]+))/,function(num,sign,hex){return parseInt(num,16)});break;case"":throw"Missing character after percent mark in sscanf() format argument";default:
throw"Unrecognized character after percent mark in sscanf() format argument"}}catch(e){if(e==="No match in string"){return _setExtraConversionSpecs(i+2)}}++i}else if(format.charAt(i)!==str.charAt(j)){_NWS.lastIndex=0;if(_NWS.test(str.charAt(j))||str.charAt(j)===""){return _setExtraConversionSpecs(i+1)}else{str=str.slice(0,j)+str.slice(j+1);i--}}else{j++}}return _finish()};exports.str_getcsv=function(input,delimiter,enclosure,escape){var i,inpLen,output=[];var backwards=function(str){return str.split("").reverse().join("")};var pq=function(str){return String(str).replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!<\>\|\:])/g,"\\$1")};delimiter=delimiter||",";enclosure=enclosure||'"';escape=escape||"\\";var pqEnc=pq(enclosure);var pqEsc=pq(escape);input=input.replace(new RegExp("^\\s*"+pqEnc),"").replace(new RegExp(pqEnc+"\\s*$"),"");input=backwards(input).split(new RegExp(pqEnc+"\\s*"+pq(delimiter)+"\\s*"+pqEnc+"(?!"+pqEsc+")","g")).reverse();for(i=0,inpLen=input.length;i<inpLen;i++){output.push(backwards(input[i]).replace(new RegExp(pqEsc+pqEnc,"g"),enclosure))}return output};exports.str_ireplace=function(search,replace,subject){var i,k="";var searchl=0;var reg;var escapeRegex=function(s){return s.replace(/([\\\^\$*+\[\]?{}.=!:(|)])/g,"\\$1")};search+="";searchl=search.length;if(Object.prototype.toString.call(replace)!=="[object Array]"){replace=[replace];if(Object.prototype.toString.call(search)==="[object Array]"){while(searchl>replace.length){replace[replace.length]=replace[0]}}}if(Object.prototype.toString.call(search)!=="[object Array]"){search=[search]}while(search.length>replace.length){replace[replace.length]=""}if(Object.prototype.toString.call(subject)==="[object Array]"){for(k in subject){if(subject.hasOwnProperty(k)){subject[k]=str_ireplace(search,replace,subject[k])}}return subject}searchl=search.length;for(i=0;i<searchl;i++){reg=new RegExp(escapeRegex(search[i]),"gi");subject=subject.replace(reg,replace[i])}return subject};exports.str_pad=function(input,pad_length,pad_string,pad_type){var half="",pad_to_go;var str_pad_repeater=function(s,len){var collect="",i;while(collect.length<len){collect+=s}collect=collect.substr(0,len);return collect};input+="";pad_string=pad_string!==undefined?pad_string:" ";if(pad_type!=="STR_PAD_LEFT"&&pad_type!=="STR_PAD_RIGHT"&&pad_type!=="STR_PAD_BOTH"){pad_type="STR_PAD_RIGHT"}if((pad_to_go=pad_length-input.length)>0){if(pad_type==="STR_PAD_LEFT"){input=str_pad_repeater(pad_string,pad_to_go)+input}else if(pad_type==="STR_PAD_RIGHT"){input=input+str_pad_repeater(pad_string,pad_to_go)}else if(pad_type==="STR_PAD_BOTH"){half=str_pad_repeater(pad_string,Math.ceil(pad_to_go/2));input=half+input+half;input=input.substr(0,pad_length)}}return input};exports.str_repeat=function(input,multiplier){var y="";while(true){if(multiplier&1){y+=input}multiplier>>=1;if(multiplier){input+=input}else{break}}return y};exports.str_replace=function(search,replace,subject,count){var i=0,j=0,temp="",repl="",sl=0,fl=0,f=[].concat(search),r=[].concat(replace),s=subject,ra=Object.prototype.toString.call(r)==="[object Array]",sa=Object.prototype.toString.call(s)==="[object Array]";s=[].concat(s);if(count){this.window[count]=0}for(i=0,sl=s.length;i<sl;i++){if(s[i]===""){continue}for(j=0,fl=f.length;j<fl;j++){temp=s[i]+"";repl=ra?r[j]!==undefined?r[j]:"":r[0];s[i]=temp.split(f[j]).join(repl);if(count&&s[i]!==temp){this.window[count]+=(temp.length-s[i].length)/f[j].length}}}return sa?s:s[0]};exports.str_rot13=function(str){return(str+"").replace(/[a-z]/gi,function(s){return String.fromCharCode(s.charCodeAt(0)+(s.toLowerCase()<"n"?13:-13))})};exports.str_shuffle=function(str){if(arguments.length===0){throw"Wrong parameter count for str_shuffle()"}if(str==null){return""}str+="";var newStr="",rand,i=str.length;while(i){rand=Math.floor(Math.random()*i);newStr+=str.charAt(rand);str=str.substring(0,rand)+str.substr(rand+1);i--}return newStr};exports.str_split=function(string,split_length){if(split_length===null){split_length=1}if(string===null||split_length<1){return false}string+="";var chunks=[],pos=0,len=string.length;while(pos<len){chunks.push(string.slice(pos,pos+=split_length))}return chunks};exports.strcasecmp=function(f_string1,f_string2){var string1=(f_string1+"").toLowerCase();var string2=(f_string2+"").toLowerCase();if(string1>string2){return 1}else if(string1==string2){return 0}return-1};exports.strcmp=function(str1,str2){return str1==str2?0:str1>str2?1:-1};exports.strcspn=function(str,mask,start,length){start=start?start:0;var count=length&&start+length<str.length?start+length:str.length;strct:for(var i=start,lgth=0;i<count;i++){for(var j=0;j<mask.length;j++){if(str.charAt(i).indexOf(mask[j])!==-1){continue strct}}++lgth}return lgth};exports.strip_tags=function(input,allowed){allowed=(((allowed||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,commentsAndPhpTags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return input.replace(commentsAndPhpTags,"").replace(tags,function($0,$1){return allowed.indexOf("<"+$1.toLowerCase()+">")>-1?$0:""})};exports.stripos=function(f_haystack,f_needle,f_offset){var haystack=(f_haystack+"").toLowerCase();var needle=(f_needle+"").toLowerCase();var index=0;if((index=haystack.indexOf(needle,f_offset))!==-1){return index}return false};exports.stripslashes=function(str){return(str+"").replace(/\\(.?)/g,function(s,n1){switch(n1){case"\\":return"\\";case"0":return"\0";case"":return"";default:return n1}})};exports.stristr=function(haystack,needle,bool){var pos=0;haystack+="";pos=haystack.toLowerCase().indexOf((needle+"").toLowerCase());if(pos==-1){return false}else{if(bool){return haystack.substr(0,pos)}else{return haystack.slice(pos)}}};exports.strlen=function(string){var str=string+"";var i=0,chr="",lgth=0;if(!this.php_js||!this.php_js.ini||!this.php_js.ini["unicode.semantics"]||this.php_js.ini["unicode.semantics"].local_value.toLowerCase()!=="on"){return string.length}var getWholeChar=function(str,i){var code=str.charCodeAt(i);var next="",prev="";if(55296<=code&&code<=56319){if(str.length<=i+1){throw"High surrogate without following low surrogate"}next=str.charCodeAt(i+1);if(56320>next||next>57343){throw"High surrogate without following low surrogate"}return str.charAt(i)+str.charAt(i+1)}else if(56320<=code&&code<=57343){if(i===0){throw"Low surrogate without preceding high surrogate"}prev=str.charCodeAt(i-1);if(55296>prev||prev>56319){throw"Low surrogate without preceding high surrogate"}return false}return str.charAt(i)};for(i=0,lgth=0;i<str.length;i++){if((chr=getWholeChar(str,i))===false){continue}lgth++}return lgth};exports.strnatcasecmp=function(str1,str2){var a=(str1+"").toLowerCase();var b=(str2+"").toLowerCase();var isWhitespaceChar=function(a){return a.charCodeAt(0)<=32};var isDigitChar=function(a){var charCode=a.charCodeAt(0);return charCode>=48&&charCode<=57};var compareRight=function(a,b){var bias=0;var ia=0;var ib=0;var ca;var cb;for(var cnt=0;true;ia++,ib++){ca=a.charAt(ia);cb=b.charAt(ib);if(!isDigitChar(ca)&&!isDigitChar(cb)){return bias}else if(!isDigitChar(ca)){return-1}else if(!isDigitChar(cb)){return 1}else if(ca<cb){if(bias===0){bias=-1}}else if(ca>cb){if(bias===0){bias=1}}else if(ca==="0"&&cb==="0"){return bias}}};var ia=0,ib=0;var nza=0,nzb=0;var ca,cb;var result;while(true){nza=nzb=0;ca=a.charAt(ia);cb=b.charAt(ib);while(isWhitespaceChar(ca)||ca==="0"){if(ca==="0"){nza++}else{nza=0}ca=a.charAt(++ia)}while(isWhitespaceChar(cb)||cb==="0"){if(cb==="0"){nzb++}else{nzb=0}cb=b.charAt(++ib)}if(isDigitChar(ca)&&isDigitChar(cb)){if((result=compareRight(a.substring(ia),b.substring(ib)))!==0){return result}}if(ca==="0"&&cb==="0"){return nza-nzb}if(ca<cb){return-1}else if(ca>cb){return+1}if(ia>=a.length&&ib>=b.length)return 0;++ia;++ib}};exports.strncasecmp=function(argStr1,argStr2,len){var diff,i=0;var str1=(argStr1+"").toLowerCase().substr(0,len);var str2=(argStr2+"").toLowerCase().substr(0,len);if(str1.length!==str2.length){if(str1.length<str2.length){len=str1.length;if(str2.substr(0,str1.length)==str1){return str1.length-str2.length}}else{len=str2.length;if(str1.substr(0,str2.length)==str2){return str1.length-str2.length}}}else{len=str1.length}for(diff=0,i=0;i<len;i++){diff=str1.charCodeAt(i)-str2.charCodeAt(i);if(diff!==0){return diff}}return 0};exports.strncmp=function(str1,str2,lgth){var s1=(str1+"").substr(0,lgth);var s2=(str2+"").substr(0,lgth);return s1==s2?0:s1>s2?1:-1};exports.strpbrk=function(haystack,char_list){for(var i=0,len=haystack.length;i<len;++i){if(char_list.indexOf(haystack.charAt(i))>=0){return haystack.slice(i)}}return false};exports.strpos=function(haystack,needle,offset){var i=(haystack+"").indexOf(needle,offset||0);return i===-1?false:i};exports.strrchr=function(haystack,needle){var pos=0;if(typeof needle!=="string"){needle=String.fromCharCode(parseInt(needle,10))}needle=needle.charAt(0);pos=haystack.lastIndexOf(needle);if(pos===-1){return false}return haystack.substr(pos)};exports.strrev=function(string){string=string+"";var grapheme_extend=/(.)([\uDC00-\uDFFF\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065E\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1C24-\u1C37\u1DC0-\u1DE6\u1DFE\u1DFF\u20D0-\u20F0\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA926-\uA92D\uA947-\uA953\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uFB1E\uFE00-\uFE0F\uFE20-\uFE26]+)/g;string=string.replace(grapheme_extend,"$2$1");return string.split("").reverse().join("")};exports.strripos=function(haystack,needle,offset){haystack=(haystack+"").toLowerCase();needle=(needle+"").toLowerCase();var i=-1;if(offset){i=(haystack+"").slice(offset).lastIndexOf(needle);if(i!==-1){i+=offset}}else{i=(haystack+"").lastIndexOf(needle)}return i>=0?i:false};exports.strrpos=function(haystack,needle,offset){var i=-1;if(offset){i=(haystack+"").slice(offset).lastIndexOf(needle);if(i!==-1){i+=offset}}else{i=(haystack+"").lastIndexOf(needle)}return i>=0?i:false};exports.strspn=function(str1,str2,start,lgth){var found;var stri;var strj;var j=0;var i=0;start=start?start<0?str1.length+start:start:0;lgth=lgth?lgth<0?str1.length+lgth-start:lgth:str1.length-start;str1=str1.substr(start,lgth);for(i=0;i<str1.length;i++){found=0;stri=str1.substring(i,i+1);for(j=0;j<=str2.length;j++){strj=str2.substring(j,j+1);if(stri==strj){found=1;break}}if(found!=1){return i}}return i};exports.strstr=function(haystack,needle,bool){var pos=0;haystack+="";pos=haystack.indexOf(needle);if(pos==-1){return false}else{if(bool){return haystack.substr(0,pos)}else{return haystack.slice(pos)}}};exports.strtok=function(str,tokens){this.php_js=this.php_js||{};if(tokens===undefined){tokens=str;str=this.php_js.strtokleftOver}if(str.length===0){return false}if(tokens.indexOf(str.charAt(0))!==-1){return this.strtok(str.substr(1),tokens)}for(var i=0;i<str.length;i++){if(tokens.indexOf(str.charAt(i))!==-1){break}}this.php_js.strtokleftOver=str.substr(i+1);return str.substring(0,i)};exports.strtolower=function(str){return(str+"").toLowerCase()};exports.strtoupper=function(str){return(str+"").toUpperCase()};exports.substr=function(str,start,len){var i=0,allBMP=true,es=0,el=0,se=0,ret="";str+="";var end=str.length;this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};switch(this.php_js.ini["unicode.semantics"]&&this.php_js.ini["unicode.semantics"].local_value.toLowerCase()){case"on":for(i=0;i<str.length;i++){if(/[\uD800-\uDBFF]/.test(str.charAt(i))&&/[\uDC00-\uDFFF]/.test(str.charAt(i+1))){allBMP=false;break}}if(!allBMP){if(start<0){for(i=end-1,es=start+=end;i>=es;i--){if(/[\uDC00-\uDFFF]/.test(str.charAt(i))&&/[\uD800-\uDBFF]/.test(str.charAt(i-1))){start--;es--}}}else{var surrogatePairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;while(surrogatePairs.exec(str)!=null){var li=surrogatePairs.lastIndex;if(li-2<start){start++}else{break}}}if(start>=end||start<0){return false}if(len<0){for(i=end-1,el=end+=len;i>=el;i--){if(/[\uDC00-\uDFFF]/.test(str.charAt(i))&&/[\uD800-\uDBFF]/.test(str.charAt(i-1))){end--;el--}}if(start>end){return false}return str.slice(start,end)}else{se=start+len;for(i=start;i<se;i++){ret+=str.charAt(i);if(/[\uD800-\uDBFF]/.test(str.charAt(i))&&/[\uDC00-\uDFFF]/.test(str.charAt(i+1))){se++}}return ret}break}case"off":default:if(start<0){start+=end}end=typeof len==="undefined"?end:len<0?len+end:len+start;return start>=str.length||start<0||start>end?!1:str.slice(start,end)}return undefined};exports.substr_compare=function(main_str,str,offset,length,case_insensitivity){if(!offset&&offset!==0){throw"Missing offset for substr_compare()"}if(offset<0){offset=main_str.length+offset}if(length&&length>main_str.length-offset){return false}length=length||main_str.length-offset;main_str=main_str.substr(offset,length);str=str.substr(0,length);if(case_insensitivity){main_str=(main_str+"").toLowerCase();str=(str+"").toLowerCase();if(main_str==str){return 0}return main_str>str?1:-1}return main_str==str?0:main_str>str?1:-1};exports.substr_count=function(haystack,needle,offset,length){var cnt=0;haystack+="";needle+="";if(isNaN(offset)){offset=0}if(isNaN(length)){length=0}if(needle.length==0){return false}offset--;while((offset=haystack.indexOf(needle,offset+1))!=-1){if(length>0&&offset+needle.length>length){return false}cnt++}return cnt};exports.substr_replace=function(str,replace,start,length){if(start<0){start=start+str.length}length=length!==undefined?length:str.length;if(length<0){length=length+str.length-start}return str.slice(0,start)+replace.substr(0,length)+replace.slice(length)+str.slice(start+length)};exports.trim=function(str,charlist){var whitespace,l=0,i=0;str+="";if(!charlist){whitespace=" \n\r\t\f\v            ​\u2028\u2029　"}else{charlist+="";whitespace=charlist.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")}l=str.length;for(i=0;i<l;i++){if(whitespace.indexOf(str.charAt(i))===-1){str=str.substring(i);break}}l=str.length;for(i=l-1;i>=0;i--){if(whitespace.indexOf(str.charAt(i))===-1){str=str.substring(0,i+1);break}}return whitespace.indexOf(str.charAt(0))===-1?str:""};exports.ucfirst=function(str){str+="";var f=str.charAt(0).toUpperCase();return f+str.substr(1)};exports.ucwords=function(str){return(str+"").replace(/^([a-z\u00E0-\u00FC])|\s+([a-z\u00E0-\u00FC])/g,function($1){return $1.toUpperCase()})};exports.wordwrap=function(str,int_width,str_break,cut){var m=arguments.length>=2?arguments[1]:75;var b=arguments.length>=3?arguments[2]:"\n";var c=arguments.length>=4?arguments[3]:false;var i,j,l,s,r;str+="";if(m<1){return str}for(i=-1,l=(r=str.split(/\r\n|\n|\r/)).length;++i<l;r[i]+=s){for(s=r[i],r[i]="";s.length>m;r[i]+=s.slice(0,j)+((s=s.slice(j)).length?b:"")){j=c==2||(j=s.slice(0,m+1).match(/\S*(\s)?$/))[1]?m:j.input.length-j[0].length||c==1&&m||j.input.length+(j=s.slice(m).match(/^\S*/))[0].length}}return r.join("\n")};exports.base64_decode=function(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,dec="",tmp_arr=[];if(!data){return data}data+="";do{h1=b64.indexOf(data.charAt(i++));h2=b64.indexOf(data.charAt(i++));h3=b64.indexOf(data.charAt(i++));h4=b64.indexOf(data.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&255;o2=bits>>8&255;o3=bits&255;if(h3==64){tmp_arr[ac++]=String.fromCharCode(o1)}else if(h4==64){tmp_arr[ac++]=String.fromCharCode(o1,o2)}else{tmp_arr[ac++]=String.fromCharCode(o1,o2,o3)}}while(i<data.length);dec=tmp_arr.join("");return decodeURIComponent(escape(dec.replace(/\0+$/,"")))};exports.base64_encode=function(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc="",tmp_arr=[];if(!data){return data}data=unescape(encodeURIComponent(data));do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&63;h2=bits>>12&63;h3=bits>>6&63;h4=bits&63;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4)}while(i<data.length);enc=tmp_arr.join("");var r=data.length%3;return(r?enc.slice(0,r-3):enc)+"===".slice(r||3)};exports.parse_url=function(str,component){var query,key=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],ini=this.php_js&&this.php_js.ini||{},mode=ini["phpjs.parse_url.mode"]&&ini["phpjs.parse_url.mode"].local_value||"php",parser={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};var m=parser[mode].exec(str),uri={},i=14;while(i--){if(m[i]){uri[key[i]]=m[i]}}if(component){return uri[component.replace("PHP_URL_","").toLowerCase()]}if(mode!=="php"){var name=ini["phpjs.parse_url.queryKey"]&&ini["phpjs.parse_url.queryKey"].local_value||"queryKey";parser=/(?:^|&)([^&=]*)=?([^&]*)/g;uri[name]={};query=uri[key[12]]||"";query.replace(parser,function($0,$1,$2){if($1){uri[name][$1]=$2}})}delete uri.source;return uri};exports.rawurldecode=function(str){return decodeURIComponent((str+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}))};exports.rawurlencode=function(str){str=(str+"").toString();return encodeURIComponent(str).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")};exports.urldecode=function(str){return decodeURIComponent((str+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}).replace(/\+/g,"%20"))};exports.urlencode=function(str){str=(str+"").toString();return encodeURIComponent(str).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")};exports.empty=function(mixed_var){var undef,key,i,len;var emptyValues=[undef,null,false,0,"","0"];for(i=0,len=emptyValues.length;i<len;i++){if(mixed_var===emptyValues[i]){return true}}if(typeof mixed_var==="object"){for(key in mixed_var){return false}return true}return false};exports.floatval=function(mixed_var){return parseFloat(mixed_var)||0};exports.intval=function(mixed_var,base){var tmp;var type=typeof mixed_var;if(type==="boolean"){return+mixed_var}else if(type==="string"){tmp=parseInt(mixed_var,base||10);return isNaN(tmp)||!isFinite(tmp)?0:tmp}else if(type==="number"&&isFinite(mixed_var)){return mixed_var|0}else{return 0}};exports.is_array=function(mixed_var){var ini,_getFuncName=function(fn){var name=/\W*function\s+([\w\$]+)\s*\(/.exec(fn);if(!name){return"(Anonymous)"}return name[1]};_isArray=function(mixed_var){if(!mixed_var||typeof mixed_var!=="object"||typeof mixed_var.length!=="number"){return false}var len=mixed_var.length;mixed_var[mixed_var.length]="bogus";if(len!==mixed_var.length){mixed_var.length-=1;return true}delete mixed_var[mixed_var.length];return false};if(!mixed_var||typeof mixed_var!=="object"){return false}this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};ini=this.php_js.ini["phpjs.objectsAsArrays"];return _isArray(mixed_var)||(!ini||parseInt(ini.local_value,10)!==0&&(!ini.local_value.toLowerCase||ini.local_value.toLowerCase()!=="off"))&&(Object.prototype.toString.call(mixed_var)==="[object Object]"&&_getFuncName(mixed_var.constructor)==="Object")};exports.is_binary=function(vr){return typeof vr==="string"};exports.is_bool=function(mixed_var){return mixed_var===true||mixed_var===false};exports.is_buffer=function(vr){return typeof vr==="string"};exports.is_callable=function(v,syntax_only,callable_name){var name="",obj={},method="";var getFuncName=function(fn){var name=/\W*function\s+([\w\$]+)\s*\(/.exec(fn);if(!name){return"(Anonymous)"}return name[1]};if(typeof v==="string"){obj=this.window;method=v;name=v}else if(typeof v==="function"){return true}else if(Object.prototype.toString.call(v)==="[object Array]"&&v.length===2&&typeof v[0]==="object"&&typeof v[1]==="string"){obj=v[0];method=v[1];name=(obj.constructor&&getFuncName(obj.constructor))+"::"+method}else{return false}if(syntax_only||typeof obj[method]==="function"){if(callable_name){this.window[callable_name]=name}return true}return false};exports.is_float=function(mixed_var){return+mixed_var===mixed_var&&(!isFinite(mixed_var)||!!(mixed_var%1))};exports.is_int=function(mixed_var){return mixed_var===+mixed_var&&isFinite(mixed_var)&&!(mixed_var%1)};exports.is_null=function(mixed_var){return mixed_var===null};exports.is_numeric=function(mixed_var){var whitespace=" \n\r\t\f\v            ​\u2028\u2029　";return(typeof mixed_var==="number"||typeof mixed_var==="string"&&whitespace.indexOf(mixed_var.slice(-1))===-1)&&mixed_var!==""&&!isNaN(mixed_var)};exports.is_object=function(mixed_var){if(Object.prototype.toString.call(mixed_var)==="[object Array]"){return false}return mixed_var!==null&&typeof mixed_var==="object"};exports.is_resource=function(handle){var getFuncName=function(fn){var name=/\W*function\s+([\w\$]+)\s*\(/.exec(fn);if(!name){return"(Anonymous)"}return name[1]};return!(!handle||typeof handle!=="object"||!handle.constructor||getFuncName(handle.constructor)!=="PHPJS_Resource")};exports.is_scalar=function(mixed_var){return/boolean|number|string/.test(typeof mixed_var)};exports.is_string=function(mixed_var){return typeof mixed_var==="string"};exports.is_unicode=function(vr){if(typeof vr!=="string"){return false}var arr=[],any="([sS])",highSurrogate="[�-�]",lowSurrogate="[�-�]",highSurrogateBeforeAny=new RegExp(highSurrogate+any,"g"),lowSurrogateAfterAny=new RegExp(any+lowSurrogate,"g"),singleLowSurrogate=new RegExp("^"+lowSurrogate+"$"),singleHighSurrogate=new RegExp("^"+highSurrogate+"$");while((arr=highSurrogateBeforeAny.exec(vr))!==null){if(!arr[1]||!arr[1].match(singleLowSurrogate)){return false}}while((arr=lowSurrogateAfterAny.exec(vr))!==null){if(!arr[1]||!arr[1].match(singleHighSurrogate)){return false}}return true};exports.isset=function(){var a=arguments,l=a.length,i=0,undef;if(l===0){throw new Error("Empty isset")}while(i!==l){if(a[i]===undef||a[i]===null){return false}i++}return true};exports.serialize=function(mixed_value){var val,key,okey,ktype="",vals="",count=0,_utf8Size=function(str){var size=0,i=0,l=str.length,code="";for(i=0;i<l;i++){code=str.charCodeAt(i);if(code<128){size+=1}else if(code<2048){size+=2}else{size+=3}}return size};_getType=function(inp){var match,key,cons,types,type=typeof inp;if(type==="object"&&!inp){return"null"}if(type==="object"){if(!inp.constructor){return"object"}cons=inp.constructor.toString();match=cons.match(/(\w+)\(/);if(match){cons=match[1].toLowerCase()}types=["boolean","number","string","array"];for(key in types){if(cons==types[key]){type=types[key];break}}}return type};type=_getType(mixed_value);switch(type){case"function":val="";break;case"boolean":val="b:"+(mixed_value?"1":"0");break;case"number":val=(Math.round(mixed_value)==mixed_value?"i":"d")+":"+mixed_value;break;case"string":val="s:"+_utf8Size(mixed_value)+':"'+mixed_value+'"';break;case"array":case"object":val="a";for(key in mixed_value){if(mixed_value.hasOwnProperty(key)){ktype=_getType(mixed_value[key]);if(ktype==="function"){continue}okey=key.match(/^[0-9]+$/)?parseInt(key,10):key;vals+=this.serialize(okey)+this.serialize(mixed_value[key]);count++}}val+=":"+count+":{"+vals+"}";break;case"undefined":default:val="N";break}if(type!=="object"&&type!=="array"){val+=";"}return val};exports.settype=function(vr,type){var is_array=function(arr){return typeof arr==="object"&&typeof arr.length==="number"&&!arr.propertyIsEnumerable("length")&&typeof arr.splice==="function"};var v,mtch,i,obj;v=this[vr]?this[vr]:vr;try{switch(type){case"boolean":if(is_array(v)&&v.length===0){this[vr]=false}else if(v==="0"){this[vr]=false}else if(typeof v==="object"&&!is_array(v)){var lgth=false;for(i in v){lgth=true}this[vr]=lgth}else{this[vr]=!!v}break;case"integer":if(typeof v==="number"){this[vr]=parseInt(v,10)}else if(typeof v==="string"){mtch=v.match(/^([+\-]?)(\d+)/);if(!mtch){this[vr]=0}else{this[vr]=parseInt(v,10)}}else if(v===true){this[vr]=1}else if(v===false||v===null){this[vr]=0}else if(is_array(v)&&v.length===0){this[vr]=0}else if(typeof v==="object"){this[vr]=1}break;case"float":if(typeof v==="string"){mtch=v.match(/^([+\-]?)(\d+(\.\d+)?|\.\d+)([eE][+\-]?\d+)?/);if(!mtch){this[vr]=0}else{this[vr]=parseFloat(v,10)}}else if(v===true){this[vr]=1}else if(v===false||v===null){this[vr]=0}else if(is_array(v)&&v.length===0){this[vr]=0}else if(typeof v==="object"){this[vr]=1}break;case"string":if(v===null||v===false){this[vr]=""}else if(is_array(v)){this[vr]="Array"}else if(typeof v==="object"){this[vr]="Object"}else if(v===true){this[vr]="1"}else{this[vr]+=""}break;case"array":if(v===null){this[vr]=[]}else if(typeof v!=="object"){this[vr]=[v]}break;case"object":if(v===null){this[vr]={}}else if(is_array(v)){for(i=0,obj={};i<v.length;i++){obj[i]=v}this[vr]=obj}else if(typeof v!=="object"){this[vr]={scalar:v}}break;case"null":delete this[vr];break}return true}catch(e){return false}};exports.unserialize=function(data){var that=this,utf8Overhead=function(chr){var code=chr.charCodeAt(0);if(code<128){return 0}if(code<2048){return 1}return 2};error=function(type,msg,filename,line){throw new that.window[type](msg,filename,line)};read_until=function(data,offset,stopchr){var i=2,buf=[],chr=data.slice(offset,offset+1);while(chr!=stopchr){if(i+offset>data.length){error("Error","Invalid")}buf.push(chr);chr=data.slice(offset+(i-1),offset+i);i+=1}return[buf.length,buf.join("")]};read_chrs=function(data,offset,length){var i,chr,buf;buf=[];for(i=0;i<length;i++){chr=data.slice(offset+(i-1),offset+i);buf.push(chr);length-=utf8Overhead(chr)}return[buf.length,buf.join("")]};_unserialize=function(data,offset){var dtype,dataoffset,keyandchrs,keys,contig,length,array,readdata,readData,ccount,stringlength,i,key,kprops,kchrs,vprops,vchrs,value,chrs=0,typeconvert=function(x){return x};if(!offset){offset=0}dtype=data.slice(offset,offset+1).toLowerCase();dataoffset=offset+2;switch(dtype){case"i":typeconvert=function(x){return parseInt(x,10)};readData=read_until(data,dataoffset,";");chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case"b":typeconvert=function(x){return parseInt(x,10)!==0};readData=read_until(data,dataoffset,";");chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case"d":typeconvert=function(x){return parseFloat(x)};readData=read_until(data,dataoffset,";");chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case"n":readdata=null;break;case"s":ccount=read_until(data,dataoffset,":");chrs=ccount[0];stringlength=ccount[1];dataoffset+=chrs+2;readData=read_chrs(data,dataoffset+1,parseInt(stringlength,10));chrs=readData[0];readdata=readData[1];dataoffset+=chrs+2;if(chrs!=parseInt(stringlength,10)&&chrs!=readdata.length){error("SyntaxError","String length mismatch")}break;case"a":readdata={};keyandchrs=read_until(data,dataoffset,":");chrs=keyandchrs[0];keys=keyandchrs[1];dataoffset+=chrs+2;length=parseInt(keys,10);contig=true;for(i=0;i<length;i++){kprops=_unserialize(data,dataoffset);kchrs=kprops[1];key=kprops[2];dataoffset+=kchrs;vprops=_unserialize(data,dataoffset);vchrs=vprops[1];value=vprops[2];dataoffset+=vchrs;if(key!==i)contig=false;readdata[key]=value}if(contig){array=new Array(length);for(i=0;i<length;i++)array[i]=readdata[i];readdata=array}dataoffset+=1;break;default:error("SyntaxError","Unknown / Unhandled data type(s): "+dtype);break}return[dtype,dataoffset-offset,typeconvert(readdata)]};return _unserialize(data+"",0)[2]};exports.xdiff_string_diff=function(old_data,new_data,context_lines,minimal){var i=0,j=0,k=0,ori_hunk_start,new_hunk_start,ori_hunk_end,new_hunk_end,ori_hunk_line_no,new_hunk_line_no,ori_hunk_size,new_hunk_size,MAX_CONTEXT_LINES=Number.POSITIVE_INFINITY,MIN_CONTEXT_LINES=0,DEFAULT_CONTEXT_LINES=3,HEADER_PREFIX="@@ ",HEADER_SUFFIX=" @@",ORIGINAL_INDICATOR="-",NEW_INDICATOR="+",RANGE_SEPARATOR=",",CONTEXT_INDICATOR=" ",DELETION_INDICATOR="-",ADDITION_INDICATOR="+",ori_lines,new_lines,NEW_LINE="\n",trim=function(text){if(typeof text!=="string"){throw new Error("String parameter required")}return text.replace(/(^\s*)|(\s*$)/g,"")},verify_type=function(type){var args=arguments,args_len=arguments.length,basic_types=["number","boolean","string","function","object","undefined"],basic_type,i,j,type_of_type=typeof type;if(type_of_type!=="string"&&type_of_type!=="function"){throw new Error("Bad type parameter")}if(args_len<2){throw new Error("Too few arguments")}if(type_of_type==="string"){type=trim(type);if(type===""){throw new Error("Bad type parameter")}for(j=0;j<basic_types.length;j++){basic_type=basic_types[j];if(basic_type==type){for(i=1;i<args_len;i++){if(typeof args[i]!==type){throw new Error("Bad type")}}return}}throw new Error("Bad type parameter")}for(i=1;i<args_len;i++){if(!(args[i]instanceof type)){throw new Error("Bad type")}}},has_value=function(array,value){var i;verify_type(Array,array);for(i=0;i<array.length;i++){if(array[i]===value){return true}}return false},are_type_of=function(type){var args=arguments,args_len=arguments.length,basic_types=["number","boolean","string","function","object","undefined"],basic_type,i,j,type_of_type=typeof type;if(type_of_type!=="string"&&type_of_type!=="function"){throw new Error("Bad type parameter")}if(args_len<2){throw new Error("Too few arguments")}if(type_of_type==="string"){type=trim(type);if(type===""){return false}for(j=0;j<basic_types.length;j++){basic_type=basic_types[j];if(basic_type==type){for(i=1;i<args_len;i++){if(typeof args[i]!=type){return false}}return true}}throw new Error("Bad type parameter")}for(i=1;i<args_len;i++){if(!(args[i]instanceof type)){return false}}return true},get_initialized_array=function(array_size,init_value){var array=[],i;verify_type("number",array_size);for(i=0;i<array_size;i++){array.push(init_value)}return array},split_into_lines=function(text){verify_type("string",text);if(text===""){return[]}return text.split("\n")},is_empty_array=function(obj){return are_type_of(Array,obj)&&obj.length===0},find_longest_common_sequence=function(seq1,seq2,seq1_is_in_lcs,seq2_is_in_lcs){if(!are_type_of(Array,seq1,seq2)){throw new Error("Array parameters are required")}if(is_empty_array(seq1)||is_empty_array(seq2)){return[]}var lcs_lens=function(xs,ys){var i,j,prev,curr=get_initialized_array(ys.length+1,0);for(i=0;i<xs.length;i++){prev=curr.slice(0);for(j=0;j<ys.length;j++){if(xs[i]===ys[j]){curr[j+1]=prev[j]+1}else{curr[j+1]=Math.max(curr[j],prev[j+1])}}}return curr
},find_lcs=function(xs,xidx,xs_is_in,ys){var i,xb,xe,ll_b,ll_e,pivot,max,yb,ye,nx=xs.length,ny=ys.length;if(nx===0){return[]}if(nx===1){if(has_value(ys,xs[0])){xs_is_in[xidx]=true;return[xs[0]]}return[]}i=Math.floor(nx/2);xb=xs.slice(0,i);xe=xs.slice(i);ll_b=lcs_lens(xb,ys);ll_e=lcs_lens(xe.slice(0).reverse(),ys.slice(0).reverse());pivot=0;max=0;for(j=0;j<=ny;j++){if(ll_b[j]+ll_e[ny-j]>max){pivot=j;max=ll_b[j]+ll_e[ny-j]}}yb=ys.slice(0,pivot);ye=ys.slice(pivot);return find_lcs(xb,xidx,xs_is_in,yb).concat(find_lcs(xe,xidx+i,xs_is_in,ye))};find_lcs(seq1,0,seq1_is_in_lcs,seq2);return find_lcs(seq2,0,seq2_is_in_lcs,seq1)};if(are_type_of("string",old_data,new_data)===false){return false}if(old_data==new_data){return""}if(typeof context_lines!=="number"||context_lines>MAX_CONTEXT_LINES||context_lines<MIN_CONTEXT_LINES){context_lines=DEFAULT_CONTEXT_LINES}ori_lines=split_into_lines(old_data);new_lines=split_into_lines(new_data);var ori_len=ori_lines.length,new_len=new_lines.length,ori_is_in_lcs=get_initialized_array(ori_len,false),new_is_in_lcs=get_initialized_array(new_len,false),lcs_len=find_longest_common_sequence(ori_lines,new_lines,ori_is_in_lcs,new_is_in_lcs).length,unidiff="";if(lcs_len===0){unidiff=HEADER_PREFIX+ORIGINAL_INDICATOR+(ori_len>0?"1":"0")+RANGE_SEPARATOR+ori_len+" "+NEW_INDICATOR+(new_len>0?"1":"0")+RANGE_SEPARATOR+new_len+HEADER_SUFFIX;for(i=0;i<ori_len;i++){unidiff+=NEW_LINE+DELETION_INDICATOR+ori_lines[i]}for(j=0;j<new_len;j++){unidiff+=NEW_LINE+ADDITION_INDICATOR+new_lines[j]}return unidiff}var leading_context=[],trailing_context=[],actual_leading_context=[],actual_trailing_context=[],regularize_leading_context=function(context){if(context.length===0||context_lines===0){return[]}var context_start_pos=Math.max(context.length-context_lines,0);return context.slice(context_start_pos)},regularize_trailing_context=function(context){if(context.length===0||context_lines===0){return[]}return context.slice(0,Math.min(context_lines,context.length))};while(i<ori_len&&ori_is_in_lcs[i]===true&&new_is_in_lcs[i]===true){leading_context.push(ori_lines[i]);i++}j=i;k=i;ori_hunk_start=i;new_hunk_start=j;ori_hunk_end=i;new_hunk_end=j;while(i<ori_len||j<new_len){while(i<ori_len&&ori_is_in_lcs[i]===false){i++}ori_hunk_end=i;while(j<new_len&&new_is_in_lcs[j]===false){j++}new_hunk_end=j;trailing_context=[];while(i<ori_len&&ori_is_in_lcs[i]===true&&j<new_len&&new_is_in_lcs[j]===true){trailing_context.push(ori_lines[i]);k++;i++;j++}if(k>=lcs_len||trailing_context.length>=2*context_lines){if(trailing_context.length<2*context_lines){trailing_context=[];i=ori_len;j=new_len;ori_hunk_end=ori_len;new_hunk_end=new_len}actual_leading_context=regularize_leading_context(leading_context);actual_trailing_context=regularize_trailing_context(trailing_context);ori_hunk_start-=actual_leading_context.length;new_hunk_start-=actual_leading_context.length;ori_hunk_end+=actual_trailing_context.length;new_hunk_end+=actual_trailing_context.length;ori_hunk_line_no=ori_hunk_start+1;new_hunk_line_no=new_hunk_start+1;ori_hunk_size=ori_hunk_end-ori_hunk_start;new_hunk_size=new_hunk_end-new_hunk_start;unidiff+=HEADER_PREFIX+ORIGINAL_INDICATOR+ori_hunk_line_no+RANGE_SEPARATOR+ori_hunk_size+" "+NEW_INDICATOR+new_hunk_line_no+RANGE_SEPARATOR+new_hunk_size+HEADER_SUFFIX+NEW_LINE;while(ori_hunk_start<ori_hunk_end||new_hunk_start<new_hunk_end){if(ori_hunk_start<ori_hunk_end&&ori_is_in_lcs[ori_hunk_start]===true&&new_is_in_lcs[new_hunk_start]===true){unidiff+=CONTEXT_INDICATOR+ori_lines[ori_hunk_start]+NEW_LINE;ori_hunk_start++;new_hunk_start++}else if(ori_hunk_start<ori_hunk_end&&ori_is_in_lcs[ori_hunk_start]===false){unidiff+=DELETION_INDICATOR+ori_lines[ori_hunk_start]+NEW_LINE;ori_hunk_start++}else if(new_hunk_start<new_hunk_end&&new_is_in_lcs[new_hunk_start]===false){unidiff+=ADDITION_INDICATOR+new_lines[new_hunk_start]+NEW_LINE;new_hunk_start++}}ori_hunk_start=i;new_hunk_start=j;leading_context=trailing_context}}if(unidiff.length>0&&unidiff.charAt(unidiff.length)===NEW_LINE){unidiff=unidiff.slice(0,-1)}return unidiff};exports.xdiff_string_patch=function(originalStr,patch,flags,error){var getNativeFlags=function(regex){return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+(regex.sticky?"y":"")},cbSplit=function(string,sep){if(!(sep instanceof RegExp)){return String.prototype.split.apply(string,arguments)}var str=String(string),output=[],lastLastIndex=0,match,lastLength,limit=Infinity,x=sep._xregexp,s=new RegExp(sep.source,getNativeFlags(sep)+"g");if(x){s._xregexp={source:x.source,captureNames:x.captureNames?x.captureNames.slice(0):null}}while(match=s.exec(str)){if(s.lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=s.lastIndex;if(output.length>=limit){break}}if(s.lastIndex===match.index){s.lastIndex++}}if(lastLastIndex===str.length){if(!s.test("")||lastLength){output.push("")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output},i=0,ll=0,ranges=[],lastLinePos=0,firstChar="",rangeExp=/^@@\s+-(\d+),(\d+)\s+\+(\d+),(\d+)\s+@@$/,lineBreaks=/\r?\n/,lines=cbSplit(patch.replace(/(\r?\n)+$/,""),lineBreaks),origLines=cbSplit(originalStr,lineBreaks),newStrArr=[],linePos=0,errors="",optTemp=0,OPTS={XDIFF_PATCH_NORMAL:1,XDIFF_PATCH_REVERSE:2,XDIFF_PATCH_IGNORESPACE:4};if(typeof originalStr!=="string"||!patch){return false}if(!flags){flags="XDIFF_PATCH_NORMAL"}if(typeof flags!=="number"){flags=[].concat(flags);for(i=0;i<flags.length;i++){if(OPTS[flags[i]]){optTemp=optTemp|OPTS[flags[i]]}}flags=optTemp}if(flags&OPTS.XDIFF_PATCH_NORMAL){for(i=0,ll=lines.length;i<ll;i++){ranges=lines[i].match(rangeExp);if(ranges){lastLinePos=linePos;linePos=ranges[1]-1;while(lastLinePos<linePos){newStrArr[newStrArr.length]=origLines[lastLinePos++]}while(lines[++i]&&rangeExp.exec(lines[i])===null){firstChar=lines[i].charAt(0);switch(firstChar){case"-":++linePos;break;case"+":newStrArr[newStrArr.length]=lines[i].slice(1);break;case" ":newStrArr[newStrArr.length]=origLines[linePos++];break;default:throw"Unrecognized initial character in unidiff line"}}if(lines[i]){i--}}}while(linePos>0&&linePos<origLines.length){newStrArr[newStrArr.length]=origLines[linePos++]}}else if(flags&OPTS.XDIFF_PATCH_REVERSE){for(i=0,ll=lines.length;i<ll;i++){ranges=lines[i].match(rangeExp);if(ranges){lastLinePos=linePos;linePos=ranges[3]-1;while(lastLinePos<linePos){newStrArr[newStrArr.length]=origLines[lastLinePos++]}while(lines[++i]&&rangeExp.exec(lines[i])===null){firstChar=lines[i].charAt(0);switch(firstChar){case"-":newStrArr[newStrArr.length]=lines[i].slice(1);break;case"+":++linePos;break;case" ":newStrArr[newStrArr.length]=origLines[linePos++];break;default:throw"Unrecognized initial character in unidiff line"}}if(lines[i]){i--}}}while(linePos>0&&linePos<origLines.length){newStrArr[newStrArr.length]=origLines[linePos++]}}if(typeof error==="string"){this.window[error]=errors}return newStrArr.join("\n")};exports.utf8_decode=function(str_data){var tmp_arr=[],i=0,ac=0,c1=0,c2=0,c3=0,c4=0;str_data+="";while(i<str_data.length){c1=str_data.charCodeAt(i);if(c1<=191){tmp_arr[ac++]=String.fromCharCode(c1);i++}else if(c1<=223){c2=str_data.charCodeAt(i+1);tmp_arr[ac++]=String.fromCharCode((c1&31)<<6|c2&63);i+=2}else if(c1<=239){c2=str_data.charCodeAt(i+1);c3=str_data.charCodeAt(i+2);tmp_arr[ac++]=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63);i+=3}else{c2=str_data.charCodeAt(i+1);c3=str_data.charCodeAt(i+2);c4=str_data.charCodeAt(i+3);c1=(c1&7)<<18|(c2&63)<<12|(c3&63)<<6|c4&63;c1-=65536;tmp_arr[ac++]=String.fromCharCode(55296|c1>>10&1023);tmp_arr[ac++]=String.fromCharCode(56320|c1&1023);i+=4}}return tmp_arr.join("")};exports.utf8_encode=function(argString){if(argString===null||typeof argString==="undefined"){return""}var string=argString+"";var utftext="",start,end,stringl=0;start=end=0;stringl=string.length;for(var n=0;n<stringl;n++){var c1=string.charCodeAt(n);var enc=null;if(c1<128){end++}else if(c1>127&&c1<2048){enc=String.fromCharCode(c1>>6|192,c1&63|128)}else if((c1&63488)!=55296){enc=String.fromCharCode(c1>>12|224,c1>>6&63|128,c1&63|128)}else{if((c1&64512)!=55296){throw new RangeError("Unmatched trail surrogate at "+n)}var c2=string.charCodeAt(++n);if((c2&64512)!=56320){throw new RangeError("Unmatched lead surrogate at "+(n-1))}c1=((c1&1023)<<10)+(c2&1023)+65536;enc=String.fromCharCode(c1>>18|240,c1>>12&63|128,c1>>6&63|128,c1&63|128)}if(enc!==null){if(end>start){utftext+=string.slice(start,end)}utftext+=enc;start=end=n+1}}if(end>start){utftext+=string.slice(start,stringl)}return utftext};exports.array_flip=function(trans){var key,tmp_ar={};if(trans&&typeof trans==="object"&&trans.change_key_case){return trans.flip()}for(key in trans){if(!trans.hasOwnProperty(key)){continue}tmp_ar[trans[key]]=key}return tmp_ar};exports.array_merge_recursive=function(arr1,arr2){var idx="";if(arr1&&Object.prototype.toString.call(arr1)==="[object Array]"&&arr2&&Object.prototype.toString.call(arr2)==="[object Array]"){for(idx in arr2){arr1.push(arr2[idx])}}else if(arr1&&arr1 instanceof Object&&(arr2&&arr2 instanceof Object)){for(idx in arr2){if(idx in arr1){if(typeof arr1[idx]==="object"&&typeof arr2==="object"){arr1[idx]=this.array_merge(arr1[idx],arr2[idx])}else{arr1[idx]=arr2[idx]}}else{arr1[idx]=arr2[idx]}}}return arr1};exports.array_search=function(needle,haystack,argStrict){var strict=!!argStrict,key="";if(haystack&&typeof haystack==="object"&&haystack.change_key_case){return haystack.search(needle,argStrict)}if(typeof needle==="object"&&needle.exec){if(!strict){var flags="i"+(needle.global?"g":"")+(needle.multiline?"m":"")+(needle.sticky?"y":"");needle=new RegExp(needle.source,flags)}for(key in haystack){if(needle.test(haystack[key])){return key}}return false}for(key in haystack){if(strict&&haystack[key]===needle||!strict&&haystack[key]==needle){return key}}return false};exports.array_slice=function(arr,offst,lgth,preserve_keys){var key="";if(Object.prototype.toString.call(arr)!=="[object Array]"||preserve_keys&&offst!==0){var lgt=0,newAssoc={};for(key in arr){lgt+=1;newAssoc[key]=arr[key]}arr=newAssoc;offst=offst<0?lgt+offst:offst;lgth=lgth===undefined?lgt:lgth<0?lgt+lgth-offst:lgth;var assoc={};var start=false,it=-1,arrlgth=0,no_pk_idx=0;for(key in arr){++it;if(arrlgth>=lgth){break}if(it==offst){start=true}if(!start){continue}++arrlgth;if(this.is_int(key)&&!preserve_keys){assoc[no_pk_idx++]=arr[key]}else{assoc[key]=arr[key]}}return assoc}if(lgth===undefined){return arr.slice(offst)}else if(lgth>=0){return arr.slice(offst,offst+lgth)}else{return arr.slice(offst,lgth)}};exports.array_splice=function(arr,offst,lgth,replacement){var _checkToUpIndices=function(arr,ct,key){if(arr[ct]!==undefined){var tmp=ct;ct+=1;if(ct===key){ct+=1}ct=_checkToUpIndices(arr,ct,key);arr[ct]=arr[tmp];delete arr[tmp]}return ct};if(replacement&&typeof replacement!=="object"){replacement=[replacement]}if(lgth===undefined){lgth=offst>=0?arr.length-offst:-offst}else if(lgth<0){lgth=(offst>=0?arr.length-offst:-offst)+lgth}if(Object.prototype.toString.call(arr)!=="[object Array]"){var lgt=0,ct=-1,rmvd=[],rmvdObj={},repl_ct=-1,int_ct=-1;var returnArr=true,rmvd_ct=0,rmvd_lgth=0,key="";for(key in arr){lgt+=1}offst=offst>=0?offst:lgt+offst;for(key in arr){ct+=1;if(ct<offst){if(this.is_int(key)){int_ct+=1;if(parseInt(key,10)===int_ct){continue}_checkToUpIndices(arr,int_ct,key);arr[int_ct]=arr[key];delete arr[key]}continue}if(returnArr&&this.is_int(key)){rmvd.push(arr[key]);rmvdObj[rmvd_ct++]=arr[key]}else{rmvdObj[key]=arr[key];returnArr=false}rmvd_lgth+=1;if(replacement&&replacement[++repl_ct]){arr[key]=replacement[repl_ct]}else{delete arr[key]}}return returnArr?rmvd:rmvdObj}if(replacement){replacement.unshift(offst,lgth);return Array.prototype.splice.apply(arr,replacement)}return arr.splice(offst,lgth)};exports.array_walk=function(array,funcname,userdata){var key,value,ini;if(!array||typeof array!=="object"){return false}if(typeof array==="object"&&array.change_key_case){if(arguments.length>2){return array.walk(funcname,userdata)}else{return array.walk(funcname)}}try{if(typeof funcname==="function"){for(key in array){if(arguments.length>2){funcname(array[key],key,userdata)}else{funcname(array[key],key)}}}else if(typeof funcname==="string"){this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};ini=this.php_js.ini["phpjs.no-eval"];if(ini&&(parseInt(ini.local_value,10)!==0&&(!ini.local_value.toLowerCase||ini.local_value.toLowerCase()!=="off"))){if(arguments.length>2){for(key in array){this.window[funcname](array[key],key,userdata)}}else{for(key in array){this.window[funcname](array[key],key)}}}else{if(arguments.length>2){for(key in array){eval(funcname+"(array[key], key, userdata)")}}else{for(key in array){eval(funcname+"(array[key], key)")}}}}else if(funcname&&typeof funcname==="object"&&funcname.length===2){var obj=funcname[0],func=funcname[1];if(arguments.length>2){for(key in array){obj[func](array[key],key,userdata)}}else{for(key in array){obj[func](array[key],key)}}}else{return false}}catch(e){return false}return true};exports.natcasesort=function(inputArr){var valArr=[],k,i,ret,that=this,strictForIn=false,populateArr={};this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push([k,inputArr[k]]);if(strictForIn){delete inputArr[k]}}}valArr.sort(function(a,b){return that.strnatcasecmp(a[1],b[1])});for(i=0;i<valArr.length;i++){populateArr[valArr[i][0]]=valArr[i][1]}return strictForIn||populateArr};exports.pos=function(arr){return this.current(arr)};exports.sizeof=function(mixed_var,mode){return this.count(mixed_var,mode)};exports.bcadd=function(left_operand,right_operand,scale){var libbcmath=this._phpjs_shared_bc();var first,second,result;if(typeof scale==="undefined"){scale=libbcmath.scale}scale=scale<0?0:scale;first=libbcmath.bc_init_num();second=libbcmath.bc_init_num();result=libbcmath.bc_init_num();first=libbcmath.php_str2num(left_operand.toString());second=libbcmath.php_str2num(right_operand.toString());result=libbcmath.bc_add(first,second,scale);if(result.n_scale>scale){result.n_scale=scale}return result.toString()};exports.bccomp=function(left_operand,right_operand,scale){var libbcmath=this._phpjs_shared_bc();var first,second;if(typeof scale==="undefined"){scale=libbcmath.scale}scale=scale<0?0:scale;first=libbcmath.bc_init_num();second=libbcmath.bc_init_num();first=libbcmath.bc_str2num(left_operand.toString(),scale);second=libbcmath.bc_str2num(right_operand.toString(),scale);return libbcmath.bc_compare(first,second,scale)};exports.bcdiv=function(left_operand,right_operand,scale){var libbcmath=this._phpjs_shared_bc();var first,second,result;if(typeof scale==="undefined"){scale=libbcmath.scale}scale=scale<0?0:scale;first=libbcmath.bc_init_num();second=libbcmath.bc_init_num();result=libbcmath.bc_init_num();first=libbcmath.php_str2num(left_operand.toString());second=libbcmath.php_str2num(right_operand.toString());result=libbcmath.bc_divide(first,second,scale);if(result===-1){throw new Error(11,"(BC) Division by zero")}if(result.n_scale>scale){result.n_scale=scale}return result.toString()};exports.bcmul=function(left_operand,right_operand,scale){var libbcmath=this._phpjs_shared_bc();var first,second,result;if(typeof scale==="undefined"){scale=libbcmath.scale}scale=scale<0?0:scale;first=libbcmath.bc_init_num();second=libbcmath.bc_init_num();result=libbcmath.bc_init_num();first=libbcmath.php_str2num(left_operand.toString());second=libbcmath.php_str2num(right_operand.toString());result=libbcmath.bc_multiply(first,second,scale);if(result.n_scale>scale){result.n_scale=scale}return result.toString()};exports.bcround=function(val,precision){var libbcmath=this._phpjs_shared_bc();var temp,result,digit;var right_operand;temp=libbcmath.bc_init_num();temp=libbcmath.php_str2num(val.toString());if(precision>=temp.n_scale){while(temp.n_scale<precision){temp.n_value[temp.n_len+temp.n_scale]=0;temp.n_scale++}return temp.toString()}digit=temp.n_value[temp.n_len+precision];right_operand=libbcmath.bc_init_num();right_operand=libbcmath.bc_new_num(1,precision);if(digit>=5){right_operand.n_value[right_operand.n_len+right_operand.n_scale-1]=1;if(temp.n_sign==libbcmath.MINUS){right_operand.n_sign=libbcmath.MINUS}result=libbcmath.bc_add(temp,right_operand,precision)}else{result=temp}if(result.n_scale>precision){result.n_scale=precision}return result.toString()};exports.bcscale=function(scale){var libbcmath=this._phpjs_shared_bc();scale=parseInt(scale,10);if(isNaN(scale)){return false}if(scale<0){return false}libbcmath.scale=scale;return true};exports.bcsub=function(left_operand,right_operand,scale){var libbcmath=this._phpjs_shared_bc();var first,second,result;if(typeof scale==="undefined"){scale=libbcmath.scale}scale=scale<0?0:scale;first=libbcmath.bc_init_num();second=libbcmath.bc_init_num();result=libbcmath.bc_init_num();first=libbcmath.php_str2num(left_operand.toString());second=libbcmath.php_str2num(right_operand.toString());result=libbcmath.bc_sub(first,second,scale);if(result.n_scale>scale){result.n_scale=scale}return result.toString()};exports.date_parse=function(date){this.php_js=this.php_js||{};var ts,warningsOffset=this.php_js.warnings?this.php_js.warnings.length:null,errorsOffset=this.php_js.errors?this.php_js.errors.length:null;try{this.php_js.date_parse_state=true;ts=this.strtotime(date);this.php_js.date_parse_state=false}finally{if(!ts){return false}}var dt=new Date(ts*1e3);var retObj={warning_count:warningsOffset!==null?this.php_js.warnings.slice(warningsOffset).length:0,warnings:warningsOffset!==null?this.php_js.warnings.slice(warningsOffset):[],error_count:errorsOffset!==null?this.php_js.errors.slice(errorsOffset).length:0,errors:errorsOffset!==null?this.php_js.errors.slice(errorsOffset):[]};retObj.year=dt.getFullYear();retObj.month=dt.getMonth()+1;retObj.day=dt.getDate();retObj.hour=dt.getHours();retObj.minute=dt.getMinutes();retObj.second=dt.getSeconds();retObj.fraction=parseFloat("0."+dt.getMilliseconds());retObj.is_localtime=dt.getTimezoneOffset()!==0;return retObj};exports.gmdate=function(format,timestamp){var dt=typeof timestamp==="undefined"?new Date:typeof timestamp==="object"?new Date(timestamp):new Date(timestamp*1e3);timestamp=Date.parse(dt.toUTCString().slice(0,-4))/1e3;return this.date(format,timestamp)};exports.pathinfo=function(path,options){var opt="",optName="",optTemp=0,tmp_arr={},cnt=0,i=0;var have_basename=false,have_extension=false,have_filename=false;if(!path){return false}if(!options){options="PATHINFO_ALL"}var OPTS={PATHINFO_DIRNAME:1,PATHINFO_BASENAME:2,PATHINFO_EXTENSION:4,PATHINFO_FILENAME:8,PATHINFO_ALL:0};for(optName in OPTS){OPTS.PATHINFO_ALL=OPTS.PATHINFO_ALL|OPTS[optName]}if(typeof options!=="number"){options=[].concat(options);for(i=0;i<options.length;i++){if(OPTS[options[i]]){optTemp=optTemp|OPTS[options[i]]}}options=optTemp}var __getExt=function(path){var str=path+"";var dotP=str.lastIndexOf(".")+1;return!dotP?false:dotP!==str.length?str.substr(dotP):""};if(options&OPTS.PATHINFO_DIRNAME){var dirName=path.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"");tmp_arr.dirname=dirName===path?".":dirName}if(options&OPTS.PATHINFO_BASENAME){if(false===have_basename){have_basename=this.basename(path)}tmp_arr.basename=have_basename}if(options&OPTS.PATHINFO_EXTENSION){if(false===have_basename){have_basename=this.basename(path)}if(false===have_extension){have_extension=__getExt(have_basename)}if(false!==have_extension){tmp_arr.extension=have_extension}}if(options&OPTS.PATHINFO_FILENAME){if(false===have_basename){have_basename=this.basename(path)}if(false===have_extension){have_extension=__getExt(have_basename)}if(false===have_filename){have_filename=have_basename.slice(0,have_basename.length-(have_extension?have_extension.length+1:have_extension===false?0:1))}tmp_arr.filename=have_filename}cnt=0;for(opt in tmp_arr){cnt++}if(cnt==1){return tmp_arr[opt]}return tmp_arr};exports.i18n_loc_get_default=function(){try{this.php_js=this.php_js||{}}catch(e){this.php_js={}}return this.php_js.i18nLocale||(i18n_loc_set_default("en_US_POSIX"),"en_US_POSIX")};exports.setcookie=function(name,value,expires,path,domain,secure){return this.setrawcookie(name,encodeURIComponent(value),expires,path,domain,secure)};exports.chop=function(str,charlist){return this.rtrim(str,charlist)};exports.convert_uuencode=function(str){var chr=function(c){return String.fromCharCode(c)};if(!str||str===""){return chr(0)}else if(!this.is_scalar(str)){return false}var c=0,u=0,i=0,a=0;var encoded="",tmp1="",tmp2="",bytes={};var chunk=function(){bytes=str.substr(u,45);for(i in bytes){bytes[i]=bytes[i].charCodeAt(0)}if(bytes.length!=0){return bytes.length}else{return 0}};while(chunk()!==0){c=chunk();u+=45;encoded+=chr(c+32);for(i in bytes){tmp1=bytes[i].charCodeAt(0).toString(2);while(tmp1.length<8){tmp1="0"+tmp1}tmp2+=tmp1}while(tmp2.length%6){tmp2=tmp2+"0"}for(i=0;i<=tmp2.length/6-1;i++){tmp1=tmp2.substr(a,6);if(tmp1=="000000"){encoded+=chr(96)}else{encoded+=chr(parseInt(tmp1,2)+32)}a+=6}a=0;tmp2="";encoded+="\n"}encoded+=chr(96)+"\n";return encoded};exports.crc32=function(str){str=this.utf8_encode(str);var table="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";var crc=0;var x=0;var y=0;crc=crc^-1;for(var i=0,iTop=str.length;i<iTop;i++){y=(crc^str.charCodeAt(i))&255;x="0x"+table.substr(y*9,8);crc=crc>>>8^x}return crc^-1};exports.html_entity_decode=function(string,quote_style){var hash_map={},symbol="",tmp_str="",entity="";tmp_str=string.toString();if(false===(hash_map=this.get_html_translation_table("HTML_ENTITIES",quote_style))){return false}delete hash_map["&"];hash_map["&"]="&amp;";for(symbol in hash_map){entity=hash_map[symbol];tmp_str=tmp_str.split(entity).join(symbol)}tmp_str=tmp_str.split("&#039;").join("'");return tmp_str};exports.htmlentities=function(string,quote_style,charset,double_encode){var hash_map=this.get_html_translation_table("HTML_ENTITIES",quote_style),symbol="";string=string==null?"":string+"";if(!hash_map){return false}if(quote_style&&quote_style==="ENT_QUOTES"){hash_map["'"]="&#039;"}if(!!double_encode||double_encode==null){for(symbol in hash_map){if(hash_map.hasOwnProperty(symbol)){string=string.split(symbol).join(hash_map[symbol])}}}else{string=string.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(ignore,text,entity){for(symbol in hash_map){if(hash_map.hasOwnProperty(symbol)){text=text.split(symbol).join(hash_map[symbol])}}return text+entity})}return string};exports.join=function(glue,pieces){return this.implode(glue,pieces)};exports.md5=function(str){var xl;var rotateLeft=function(lValue,iShiftBits){return lValue<<iShiftBits|lValue>>>32-iShiftBits};var addUnsigned=function(lX,lY){var lX4,lY4,lX8,lY8,lResult;lX8=lX&2147483648;lY8=lY&2147483648;lX4=lX&1073741824;lY4=lY&1073741824;lResult=(lX&1073741823)+(lY&1073741823);if(lX4&lY4){return lResult^2147483648^lX8^lY8}if(lX4|lY4){if(lResult&1073741824){return lResult^3221225472^lX8^lY8}else{return lResult^1073741824^lX8^lY8}}else{return lResult^lX8^lY8}};var _F=function(x,y,z){return x&y|~x&z};var _G=function(x,y,z){return x&z|y&~z};var _H=function(x,y,z){return x^y^z};var _I=function(x,y,z){return y^(x|~z)};var _FF=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_F(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var _GG=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_G(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var _HH=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_H(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var _II=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_I(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var convertToWordArray=function(str){var lWordCount;var lMessageLength=str.length;var lNumberOfWords_temp1=lMessageLength+8;var lNumberOfWords_temp2=(lNumberOfWords_temp1-lNumberOfWords_temp1%64)/64;var lNumberOfWords=(lNumberOfWords_temp2+1)*16;var lWordArray=new Array(lNumberOfWords-1);var lBytePosition=0;var lByteCount=0;while(lByteCount<lMessageLength){lWordCount=(lByteCount-lByteCount%4)/4;lBytePosition=lByteCount%4*8;lWordArray[lWordCount]=lWordArray[lWordCount]|str.charCodeAt(lByteCount)<<lBytePosition;lByteCount++}lWordCount=(lByteCount-lByteCount%4)/4;lBytePosition=lByteCount%4*8;lWordArray[lWordCount]=lWordArray[lWordCount]|128<<lBytePosition;lWordArray[lNumberOfWords-2]=lMessageLength<<3;lWordArray[lNumberOfWords-1]=lMessageLength>>>29;return lWordArray};var wordToHex=function(lValue){var wordToHexValue="",wordToHexValue_temp="",lByte,lCount;for(lCount=0;lCount<=3;lCount++){lByte=lValue>>>lCount*8&255;wordToHexValue_temp="0"+lByte.toString(16);wordToHexValue=wordToHexValue+wordToHexValue_temp.substr(wordToHexValue_temp.length-2,2)}return wordToHexValue};var x=[],k,AA,BB,CC,DD,a,b,c,d,S11=7,S12=12,S13=17,S14=22,S21=5,S22=9,S23=14,S24=20,S31=4,S32=11,S33=16,S34=23,S41=6,S42=10,S43=15,S44=21;str=this.utf8_encode(str);x=convertToWordArray(str);a=1732584193;b=4023233417;c=2562383102;d=271733878;xl=x.length;for(k=0;k<xl;k+=16){AA=a;BB=b;CC=c;DD=d;a=_FF(a,b,c,d,x[k+0],S11,3614090360);d=_FF(d,a,b,c,x[k+1],S12,3905402710);c=_FF(c,d,a,b,x[k+2],S13,606105819);b=_FF(b,c,d,a,x[k+3],S14,3250441966);a=_FF(a,b,c,d,x[k+4],S11,4118548399);d=_FF(d,a,b,c,x[k+5],S12,1200080426);c=_FF(c,d,a,b,x[k+6],S13,2821735955);b=_FF(b,c,d,a,x[k+7],S14,4249261313);a=_FF(a,b,c,d,x[k+8],S11,1770035416);d=_FF(d,a,b,c,x[k+9],S12,2336552879);c=_FF(c,d,a,b,x[k+10],S13,4294925233);b=_FF(b,c,d,a,x[k+11],S14,2304563134);a=_FF(a,b,c,d,x[k+12],S11,1804603682);d=_FF(d,a,b,c,x[k+13],S12,4254626195);c=_FF(c,d,a,b,x[k+14],S13,2792965006);b=_FF(b,c,d,a,x[k+15],S14,1236535329);a=_GG(a,b,c,d,x[k+1],S21,4129170786);d=_GG(d,a,b,c,x[k+6],S22,3225465664);c=_GG(c,d,a,b,x[k+11],S23,643717713);b=_GG(b,c,d,a,x[k+0],S24,3921069994);a=_GG(a,b,c,d,x[k+5],S21,3593408605);d=_GG(d,a,b,c,x[k+10],S22,38016083);c=_GG(c,d,a,b,x[k+15],S23,3634488961);b=_GG(b,c,d,a,x[k+4],S24,3889429448);a=_GG(a,b,c,d,x[k+9],S21,568446438);d=_GG(d,a,b,c,x[k+14],S22,3275163606);c=_GG(c,d,a,b,x[k+3],S23,4107603335);b=_GG(b,c,d,a,x[k+8],S24,1163531501);a=_GG(a,b,c,d,x[k+13],S21,2850285829);d=_GG(d,a,b,c,x[k+2],S22,4243563512);c=_GG(c,d,a,b,x[k+7],S23,1735328473);b=_GG(b,c,d,a,x[k+12],S24,2368359562);a=_HH(a,b,c,d,x[k+5],S31,4294588738);d=_HH(d,a,b,c,x[k+8],S32,2272392833);c=_HH(c,d,a,b,x[k+11],S33,1839030562);b=_HH(b,c,d,a,x[k+14],S34,4259657740);a=_HH(a,b,c,d,x[k+1],S31,2763975236);d=_HH(d,a,b,c,x[k+4],S32,1272893353);c=_HH(c,d,a,b,x[k+7],S33,4139469664);b=_HH(b,c,d,a,x[k+10],S34,3200236656);a=_HH(a,b,c,d,x[k+13],S31,681279174);d=_HH(d,a,b,c,x[k+0],S32,3936430074);c=_HH(c,d,a,b,x[k+3],S33,3572445317);b=_HH(b,c,d,a,x[k+6],S34,76029189);a=_HH(a,b,c,d,x[k+9],S31,3654602809);d=_HH(d,a,b,c,x[k+12],S32,3873151461);c=_HH(c,d,a,b,x[k+15],S33,530742520);b=_HH(b,c,d,a,x[k+2],S34,3299628645);a=_II(a,b,c,d,x[k+0],S41,4096336452);d=_II(d,a,b,c,x[k+7],S42,1126891415);c=_II(c,d,a,b,x[k+14],S43,2878612391);b=_II(b,c,d,a,x[k+5],S44,4237533241);a=_II(a,b,c,d,x[k+12],S41,1700485571);d=_II(d,a,b,c,x[k+3],S42,2399980690);c=_II(c,d,a,b,x[k+10],S43,4293915773);b=_II(b,c,d,a,x[k+1],S44,2240044497);a=_II(a,b,c,d,x[k+8],S41,1873313359);d=_II(d,a,b,c,x[k+15],S42,4264355552);c=_II(c,d,a,b,x[k+6],S43,2734768916);b=_II(b,c,d,a,x[k+13],S44,1309151649);a=_II(a,b,c,d,x[k+4],S41,4149444226);d=_II(d,a,b,c,x[k+11],S42,3174756917);c=_II(c,d,a,b,x[k+2],S43,718787259);b=_II(b,c,d,a,x[k+9],S44,3951481745);a=addUnsigned(a,AA);b=addUnsigned(b,BB);c=addUnsigned(c,CC);d=addUnsigned(d,DD)}var temp=wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);return temp.toLowerCase()};exports.md5_file=function(str_filename){var buf="";buf=this.file_get_contents(str_filename);if(!buf){return false}return this.md5(buf)};exports.printf=function(){var body,elmt,d=this.window.document;var ret="";var HTMLNS="http://www.w3.org/1999/xhtml";body=d.getElementsByTagNameNS?d.getElementsByTagNameNS(HTMLNS,"body")[0]?d.getElementsByTagNameNS(HTMLNS,"body")[0]:d.documentElement.lastChild:d.getElementsByTagName("body")[0];if(!body){return false}ret=this.sprintf.apply(this,arguments);elmt=d.createTextNode(ret);body.appendChild(elmt);return ret.length};exports.setlocale=function(category,locale){var categ="",cats=[],i=0,d=this.window.document;var _copy=function _copy(orig){if(orig instanceof RegExp){return new RegExp(orig)}else if(orig instanceof Date){return new Date(orig)}var newObj={};for(var i in orig){if(typeof orig[i]==="object"){newObj[i]=_copy(orig[i])}else{newObj[i]=orig[i]}}return newObj};var _nplurals1=function(n){return 0};var _nplurals2a=function(n){return n!==1?1:0};var _nplurals2b=function(n){return n>1?1:0};var _nplurals2c=function(n){return n%10===1&&n%100!==11?0:1};var _nplurals3a=function(n){return n%10===1&&n%100!==11?0:n!==0?1:2};var _nplurals3b=function(n){return n===1?0:n===2?1:2};var _nplurals3c=function(n){return n===1?0:n===0||n%100>0&&n%100<20?1:2};var _nplurals3d=function(n){return n%10===1&&n%100!==11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2};var _nplurals3e=function(n){return n%10===1&&n%100!==11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2};var _nplurals3f=function(n){return n===1?0:n>=2&&n<=4?1:2};var _nplurals3g=function(n){return n===1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2};var _nplurals3h=function(n){return n%10===1?0:n%10===2?1:2};var _nplurals4a=function(n){return n%100===1?0:n%100===2?1:n%100===3||n%100===4?2:3}
;var _nplurals4b=function(n){return n===1?0:n===0||n%100&&n%100<=10?1:n%100>=11&&n%100<=19?2:3};var _nplurals5=function(n){return n===1?0:n===2?1:n>=3&&n<=6?2:n>=7&&n<=10?3:4};var _nplurals6=function(n){return n===0?5:n===1?0:n===2?1:n%100>=3&&n%100<=10?2:n%100>=11&&n%100<=99?3:4};try{this.php_js=this.php_js||{}}catch(e){this.php_js={}}var phpjs=this.php_js;if(!phpjs.locales){phpjs.locales={};phpjs.locales.en={LC_COLLATE:function(str1,str2){return str1==str2?0:str1>str2?1:-1},LC_CTYPE:{an:/^[A-Za-z\d]+$/g,al:/^[A-Za-z]+$/g,ct:/^[\u0000-\u001F\u007F]+$/g,dg:/^[\d]+$/g,gr:/^[\u0021-\u007E]+$/g,lw:/^[a-z]+$/g,pr:/^[\u0020-\u007E]+$/g,pu:/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g,sp:/^[\f\n\r\t\v ]+$/g,up:/^[A-Z]+$/g,xd:/^[A-Fa-f\d]+$/g,CODESET:"UTF-8",lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},LC_TIME:{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %r %Z",p:["AM","PM"],P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%Y",X:"%r",alt_digits:"",ERA:"",ERA_YEAR:"",ERA_D_T_FMT:"",ERA_D_FMT:"",ERA_T_FMT:""},LC_MONETARY:{int_curr_symbol:"USD",currency_symbol:"$",mon_decimal_point:".",mon_thousands_sep:",",mon_grouping:[3],positive_sign:"",negative_sign:"-",int_frac_digits:2,frac_digits:2,p_cs_precedes:1,p_sep_by_space:0,n_cs_precedes:1,n_sep_by_space:0,p_sign_posn:3,n_sign_posn:0},LC_NUMERIC:{decimal_point:".",thousands_sep:",",grouping:[3]},LC_MESSAGES:{YESEXPR:"^[yY].*",NOEXPR:"^[nN].*",YESSTR:"",NOSTR:""},nplurals:_nplurals2a};phpjs.locales.en_US=_copy(phpjs.locales.en);phpjs.locales.en_US.LC_TIME.c="%a %d %b %Y %r %Z";phpjs.locales.en_US.LC_TIME.x="%D";phpjs.locales.en_US.LC_TIME.X="%r";phpjs.locales.en_US.LC_MONETARY.int_curr_symbol="USD ";phpjs.locales.en_US.LC_MONETARY.p_sign_posn=1;phpjs.locales.en_US.LC_MONETARY.n_sign_posn=1;phpjs.locales.en_US.LC_MONETARY.mon_grouping=[3,3];phpjs.locales.en_US.LC_NUMERIC.thousands_sep="";phpjs.locales.en_US.LC_NUMERIC.grouping=[];phpjs.locales.en_GB=_copy(phpjs.locales.en);phpjs.locales.en_GB.LC_TIME.r="%l:%M:%S %P %Z";phpjs.locales.en_AU=_copy(phpjs.locales.en_GB);phpjs.locales.C=_copy(phpjs.locales.en);phpjs.locales.C.LC_CTYPE.CODESET="ANSI_X3.4-1968";phpjs.locales.C.LC_MONETARY={int_curr_symbol:"",currency_symbol:"",mon_decimal_point:"",mon_thousands_sep:"",mon_grouping:[],p_cs_precedes:127,p_sep_by_space:127,n_cs_precedes:127,n_sep_by_space:127,p_sign_posn:127,n_sign_posn:127,positive_sign:"",negative_sign:"",int_frac_digits:127,frac_digits:127};phpjs.locales.C.LC_NUMERIC={decimal_point:".",thousands_sep:"",grouping:[]};phpjs.locales.C.LC_TIME.c="%a %b %e %H:%M:%S %Y";phpjs.locales.C.LC_TIME.x="%m/%d/%y";phpjs.locales.C.LC_TIME.X="%H:%M:%S";phpjs.locales.C.LC_MESSAGES.YESEXPR="^[yY]";phpjs.locales.C.LC_MESSAGES.NOEXPR="^[nN]";phpjs.locales.fr=_copy(phpjs.locales.en);phpjs.locales.fr.nplurals=_nplurals2b;phpjs.locales.fr.LC_TIME.a=["dim","lun","mar","mer","jeu","ven","sam"];phpjs.locales.fr.LC_TIME.A=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"];phpjs.locales.fr.LC_TIME.b=["jan","fév","mar","avr","mai","jun","jui","aoû","sep","oct","nov","déc"];phpjs.locales.fr.LC_TIME.B=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"];phpjs.locales.fr.LC_TIME.c="%a %d %b %Y %T %Z";phpjs.locales.fr.LC_TIME.p=["",""];phpjs.locales.fr.LC_TIME.P=["",""];phpjs.locales.fr.LC_TIME.x="%d.%m.%Y";phpjs.locales.fr.LC_TIME.X="%T";phpjs.locales.fr_CA=_copy(phpjs.locales.fr);phpjs.locales.fr_CA.LC_TIME.x="%Y-%m-%d"}if(!phpjs.locale){phpjs.locale="en_US";var NS_XHTML="http://www.w3.org/1999/xhtml";var NS_XML="http://www.w3.org/XML/1998/namespace";if(d.getElementsByTagNameNS&&d.getElementsByTagNameNS(NS_XHTML,"html")[0]){if(d.getElementsByTagNameNS(NS_XHTML,"html")[0].getAttributeNS&&d.getElementsByTagNameNS(NS_XHTML,"html")[0].getAttributeNS(NS_XML,"lang")){phpjs.locale=d.getElementsByTagName(NS_XHTML,"html")[0].getAttributeNS(NS_XML,"lang")}else if(d.getElementsByTagNameNS(NS_XHTML,"html")[0].lang){phpjs.locale=d.getElementsByTagNameNS(NS_XHTML,"html")[0].lang}}else if(d.getElementsByTagName("html")[0]&&d.getElementsByTagName("html")[0].lang){phpjs.locale=d.getElementsByTagName("html")[0].lang}}phpjs.locale=phpjs.locale.replace("-","_");if(!(phpjs.locale in phpjs.locales)){if(phpjs.locale.replace(/_[a-zA-Z]+$/,"")in phpjs.locales){phpjs.locale=phpjs.locale.replace(/_[a-zA-Z]+$/,"")}}if(!phpjs.localeCategories){phpjs.localeCategories={LC_COLLATE:phpjs.locale,LC_CTYPE:phpjs.locale,LC_MONETARY:phpjs.locale,LC_NUMERIC:phpjs.locale,LC_TIME:phpjs.locale,LC_MESSAGES:phpjs.locale}}if(locale===null||locale===""){locale=this.getenv(category)||this.getenv("LANG")}else if(Object.prototype.toString.call(locale)==="[object Array]"){for(i=0;i<locale.length;i++){if(!(locale[i]in this.php_js.locales)){if(i===locale.length-1){return false}continue}locale=locale[i];break}}if(locale==="0"||locale===0){if(category==="LC_ALL"){for(categ in this.php_js.localeCategories){cats.push(categ+"="+this.php_js.localeCategories[categ])}return cats.join(";")}return this.php_js.localeCategories[category]}if(!(locale in this.php_js.locales)){return false}if(category==="LC_ALL"){for(categ in this.php_js.localeCategories){this.php_js.localeCategories[categ]=locale}}else{this.php_js.localeCategories[category]=locale}return locale};exports.sha1=function(str){var rotate_left=function(n,s){var t4=n<<s|n>>>32-s;return t4};var cvt_hex=function(val){var str="";var i;var v;for(i=7;i>=0;i--){v=val>>>i*4&15;str+=v.toString(16)}return str};var blockstart;var i,j;var W=new Array(80);var H0=1732584193;var H1=4023233417;var H2=2562383102;var H3=271733878;var H4=3285377520;var A,B,C,D,E;var temp;str=this.utf8_encode(str);var str_len=str.length;var word_array=[];for(i=0;i<str_len-3;i+=4){j=str.charCodeAt(i)<<24|str.charCodeAt(i+1)<<16|str.charCodeAt(i+2)<<8|str.charCodeAt(i+3);word_array.push(j)}switch(str_len%4){case 0:i=2147483648;break;case 1:i=str.charCodeAt(str_len-1)<<24|8388608;break;case 2:i=str.charCodeAt(str_len-2)<<24|str.charCodeAt(str_len-1)<<16|32768;break;case 3:i=str.charCodeAt(str_len-3)<<24|str.charCodeAt(str_len-2)<<16|str.charCodeAt(str_len-1)<<8|128;break}word_array.push(i);while(word_array.length%16!=14){word_array.push(0)}word_array.push(str_len>>>29);word_array.push(str_len<<3&4294967295);for(blockstart=0;blockstart<word_array.length;blockstart+=16){for(i=0;i<16;i++){W[i]=word_array[blockstart+i]}for(i=16;i<=79;i++){W[i]=rotate_left(W[i-3]^W[i-8]^W[i-14]^W[i-16],1)}A=H0;B=H1;C=H2;D=H3;E=H4;for(i=0;i<=19;i++){temp=rotate_left(A,5)+(B&C|~B&D)+E+W[i]+1518500249&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=20;i<=39;i++){temp=rotate_left(A,5)+(B^C^D)+E+W[i]+1859775393&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=40;i<=59;i++){temp=rotate_left(A,5)+(B&C|B&D|C&D)+E+W[i]+2400959708&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=60;i<=79;i++){temp=rotate_left(A,5)+(B^C^D)+E+W[i]+3395469782&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}H0=H0+A&4294967295;H1=H1+B&4294967295;H2=H2+C&4294967295;H3=H3+D&4294967295;H4=H4+E&4294967295}temp=cvt_hex(H0)+cvt_hex(H1)+cvt_hex(H2)+cvt_hex(H3)+cvt_hex(H4);return temp.toLowerCase()};exports.sha1_file=function(str_filename){var buf=this.file_get_contents(str_filename);return this.sha1(buf)};exports.split=function(delimiter,string){return this.explode(delimiter,string)};exports.strchr=function(haystack,needle,bool){return this.strstr(haystack,needle,bool)};exports.strnatcmp=function(f_string1,f_string2,f_version){var i=0;if(f_version==undefined){f_version=false}var __strnatcmp_split=function(f_string){var result=[];var buffer="";var chr="";var i=0,f_stringl=0;var text=true;f_stringl=f_string.length;for(i=0;i<f_stringl;i++){chr=f_string.substring(i,i+1);if(chr.match(/\d/)){if(text){if(buffer.length>0){result[result.length]=buffer;buffer=""}text=false}buffer+=chr}else if(text==false&&chr==="."&&i<f_string.length-1&&f_string.substring(i+1,i+2).match(/\d/)){result[result.length]=buffer;buffer=""}else{if(text==false){if(buffer.length>0){result[result.length]=parseInt(buffer,10);buffer=""}text=true}buffer+=chr}}if(buffer.length>0){if(text){result[result.length]=buffer}else{result[result.length]=parseInt(buffer,10)}}return result};var array1=__strnatcmp_split(f_string1+"");var array2=__strnatcmp_split(f_string2+"");var len=array1.length;var text=true;var result=-1;var r=0;if(len>array2.length){len=array2.length;result=1}for(i=0;i<len;i++){if(isNaN(array1[i])){if(isNaN(array2[i])){text=true;if((r=this.strcmp(array1[i],array2[i]))!=0){return r}}else if(text){return 1}else{return-1}}else if(isNaN(array2[i])){if(text){return-1}else{return 1}}else{if(text||f_version){if((r=array1[i]-array2[i])!=0){return r}}else{if((r=this.strcmp(array1[i].toString(),array2[i].toString()))!=0){return r}}text=false}}return result};exports.vprintf=function(format,args){var body,elmt;var ret="",d=this.window.document;var HTMLNS="http://www.w3.org/1999/xhtml";body=d.getElementsByTagNameNS?d.getElementsByTagNameNS(HTMLNS,"body")[0]?d.getElementsByTagNameNS(HTMLNS,"body")[0]:d.documentElement.lastChild:d.getElementsByTagName("body")[0];if(!body){return false}ret=this.sprintf.apply(this,[format].concat(args));elmt=d.createTextNode(ret);body.appendChild(elmt);return ret.length};exports.vsprintf=function(format,args){return this.sprintf.apply(this,[format].concat(args))};exports.get_headers=function(url,format){var req=this.window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;if(!req){throw new Error("XMLHttpRequest not supported")}var tmp,headers,pair,i,j=0;ß;req.open("HEAD",url,false);req.send(null);if(req.readyState<3){return false}tmp=req.getAllResponseHeaders();tmp=tmp.split("\n");tmp=this.array_filter(tmp,function(value){return value.substring(1)!==""});headers=format?{}:[];for(var i in tmp){if(format){pair=tmp[i].split(":");headers[pair.splice(0,1)]=pair.join(":").substring(1)}else{headers[j++]=tmp[i]}}return headers};exports.get_meta_tags=function(file){var fulltxt="";if(false){fulltxt='<meta name="author" content="name">'+'<meta name="keywords" content="php documentation">'+'<meta name="DESCRIPTION" content="a php manual">'+'<meta name="geo.position" content="49.33;-86.59">'+"</head>"}else{fulltxt=this.file_get_contents(file).match(/^[\s\S]*<\/head>/i)}var patt=/<meta[^>]*?>/gim;var patt1=/<meta\s+.*?name\s*=\s*(['"]?)(.*?)\1\s+.*?content\s*=\s*(['"]?)(.*?)\3/gim;var patt2=/<meta\s+.*?content\s*=\s*(['"?])(.*?)\1\s+.*?name\s*=\s*(['"]?)(.*?)\3/gim;var txt,match,name,arr={};while((txt=patt.exec(fulltxt))!==null){while((match=patt1.exec(txt))!==null){name=match[2].replace(/\W/g,"_").toLowerCase();arr[name]=match[4]}while((match=patt2.exec(txt))!==null){name=match[4].replace(/\W/g,"_").toLowerCase();arr[name]=match[2]}}return arr};exports.http_build_query=function(formdata,numeric_prefix,arg_separator){var value,key,tmp=[],that=this;var _http_build_query_helper=function(key,val,arg_separator){var k,tmp=[];if(val===true){val="1"}else if(val===false){val="0"}if(val!=null){if(typeof val==="object"){for(k in val){if(val[k]!=null){tmp.push(_http_build_query_helper(key+"["+k+"]",val[k],arg_separator))}}return tmp.join(arg_separator)}else if(typeof val!=="function"){return that.urlencode(key)+"="+that.urlencode(val)}else{throw new Error("There was an error processing for http_build_query().")}}else{return""}};if(!arg_separator){arg_separator="&"}for(key in formdata){value=formdata[key];if(numeric_prefix&&!isNaN(key)){key=String(numeric_prefix)+key}var query=_http_build_query_helper(key,value,arg_separator);if(query!==""){tmp.push(query)}}return tmp.join(arg_separator)};exports.doubleval=function(mixed_var){return this.floatval(mixed_var)};exports.gettype=function(mixed_var){var s=typeof mixed_var,name;var getFuncName=function(fn){var name=/\W*function\s+([\w\$]+)\s*\(/.exec(fn);if(!name){return"(Anonymous)"}return name[1]};if(s==="object"){if(mixed_var!==null){if(typeof mixed_var.length==="number"&&!mixed_var.propertyIsEnumerable("length")&&typeof mixed_var.splice==="function"){s="array"}else if(mixed_var.constructor&&getFuncName(mixed_var.constructor)){name=getFuncName(mixed_var.constructor);if(name==="Date"){s="date"}else if(name==="RegExp"){s="regexp"}else if(name==="PHPJS_Resource"){s="resource"}}}else{s="null"}}else if(s==="number"){s=this.is_float(mixed_var)?"double":"integer"}return s};exports.is_double=function(mixed_var){return this.is_float(mixed_var)};exports.is_integer=function(mixed_var){return this.is_int(mixed_var)};exports.is_long=function(mixed_var){return this.is_float(mixed_var)};exports.is_real=function(mixed_var){return this.is_float(mixed_var)};exports.print_r=function(array,return_val){var output="",pad_char=" ",pad_val=4,d=this.window.document,getFuncName=function(fn){var name=/\W*function\s+([\w\$]+)\s*\(/.exec(fn);if(!name){return"(Anonymous)"}return name[1]};repeat_char=function(len,pad_char){var str="";for(var i=0;i<len;i++){str+=pad_char}return str};formatArray=function(obj,cur_depth,pad_val,pad_char){if(cur_depth>0){cur_depth++}var base_pad=repeat_char(pad_val*cur_depth,pad_char);var thick_pad=repeat_char(pad_val*(cur_depth+1),pad_char);var str="";if(typeof obj==="object"&&obj!==null&&obj.constructor&&getFuncName(obj.constructor)!=="PHPJS_Resource"){str+="Array\n"+base_pad+"(\n";for(var key in obj){if(Object.prototype.toString.call(obj[key])==="[object Array]"){str+=thick_pad+"["+key+"] => "+formatArray(obj[key],cur_depth+1,pad_val,pad_char)}else{str+=thick_pad+"["+key+"] => "+obj[key]+"\n"}}str+=base_pad+")\n"}else if(obj===null||obj===undefined){str=""}else{str=obj.toString()}return str};output=formatArray(array,0,pad_val,pad_char);if(return_val!==true){if(d.body){this.echo(output)}else{try{d=XULDocument;this.echo('<pre xmlns="http://www.w3.org/1999/xhtml" style="white-space:pre;">'+output+"</pre>")}catch(e){this.echo(output)}}return true}return output};exports.var_dump=function(){var output="",pad_char=" ",pad_val=4,lgth=0,i=0;var _getFuncName=function(fn){var name=/\W*function\s+([\w\$]+)\s*\(/.exec(fn);if(!name){return"(Anonymous)"}return name[1]};var _repeat_char=function(len,pad_char){var str="";for(var i=0;i<len;i++){str+=pad_char}return str};var _getInnerVal=function(val,thick_pad){var ret="";if(val===null){ret="NULL"}else if(typeof val==="boolean"){ret="bool("+val+")"}else if(typeof val==="string"){ret="string("+val.length+') "'+val+'"'}else if(typeof val==="number"){if(parseFloat(val)==parseInt(val,10)){ret="int("+val+")"}else{ret="float("+val+")"}}else if(typeof val==="undefined"){ret="undefined"}else if(typeof val==="function"){var funcLines=val.toString().split("\n");ret="";for(var i=0,fll=funcLines.length;i<fll;i++){ret+=(i!==0?"\n"+thick_pad:"")+funcLines[i]}}else if(val instanceof Date){ret="Date("+val+")"}else if(val instanceof RegExp){ret="RegExp("+val+")"}else if(val.nodeName){switch(val.nodeType){case 1:if(typeof val.namespaceURI==="undefined"||val.namespaceURI==="http://www.w3.org/1999/xhtml"){ret='HTMLElement("'+val.nodeName+'")'}else{ret='XML Element("'+val.nodeName+'")'}break;case 2:ret="ATTRIBUTE_NODE("+val.nodeName+")";break;case 3:ret="TEXT_NODE("+val.nodeValue+")";break;case 4:ret="CDATA_SECTION_NODE("+val.nodeValue+")";break;case 5:ret="ENTITY_REFERENCE_NODE";break;case 6:ret="ENTITY_NODE";break;case 7:ret="PROCESSING_INSTRUCTION_NODE("+val.nodeName+":"+val.nodeValue+")";break;case 8:ret="COMMENT_NODE("+val.nodeValue+")";break;case 9:ret="DOCUMENT_NODE";break;case 10:ret="DOCUMENT_TYPE_NODE";break;case 11:ret="DOCUMENT_FRAGMENT_NODE";break;case 12:ret="NOTATION_NODE";break}}return ret};var _formatArray=function(obj,cur_depth,pad_val,pad_char){var someProp="";if(cur_depth>0){cur_depth++}var base_pad=_repeat_char(pad_val*(cur_depth-1),pad_char);var thick_pad=_repeat_char(pad_val*(cur_depth+1),pad_char);var str="";var val="";if(typeof obj==="object"&&obj!==null){if(obj.constructor&&_getFuncName(obj.constructor)==="PHPJS_Resource"){return obj.var_dump()}lgth=0;for(someProp in obj){lgth++}str+="array("+lgth+") {\n";for(var key in obj){var objVal=obj[key];if(typeof objVal==="object"&&objVal!==null&&!(objVal instanceof Date)&&!(objVal instanceof RegExp)&&!objVal.nodeName){str+=thick_pad+"["+key+"] =>\n"+thick_pad+_formatArray(objVal,cur_depth+1,pad_val,pad_char)}else{val=_getInnerVal(objVal,thick_pad);str+=thick_pad+"["+key+"] =>\n"+thick_pad+val+"\n"}}str+=base_pad+"}\n"}else{str=_getInnerVal(obj,thick_pad)}return str};output=_formatArray(arguments[0],0,pad_val,pad_char);for(i=1;i<arguments.length;i++){output+="\n"+_formatArray(arguments[i],0,pad_val,pad_char)}this.echo(output)};exports.var_export=function(mixed_expression,bool_return){var retstr="",iret="",value,cnt=0,x=[],i=0,funcParts=[],idtLevel=arguments[2]||2,innerIndent="",outerIndent="",getFuncName=function(fn){var name=/\W*function\s+([\w\$]+)\s*\(/.exec(fn);if(!name){return"(Anonymous)"}return name[1]};_makeIndent=function(idtLevel){return new Array(idtLevel+1).join(" ")};__getType=function(inp){var i=0,match,types,cons,type=typeof inp;if(type==="object"&&(inp&&inp.constructor)&&getFuncName(inp.constructor)==="PHPJS_Resource"){return"resource"}if(type==="function"){return"function"}if(type==="object"&&!inp){return"null"}if(type==="object"){if(!inp.constructor){return"object"}cons=inp.constructor.toString();match=cons.match(/(\w+)\(/);if(match){cons=match[1].toLowerCase()}types=["boolean","number","string","array"];for(i=0;i<types.length;i++){if(cons===types[i]){type=types[i];break}}}return type};type=__getType(mixed_expression);if(type===null){retstr="NULL"}else if(type==="array"||type==="object"){outerIndent=_makeIndent(idtLevel-2);innerIndent=_makeIndent(idtLevel);for(i in mixed_expression){value=this.var_export(mixed_expression[i],1,idtLevel+2);value=typeof value==="string"?value.replace(/</g,"&lt;").replace(/>/g,"&gt;"):value;x[cnt++]=innerIndent+i+" => "+(__getType(mixed_expression[i])==="array"?"\n":"")+value}iret=x.join(",\n");retstr=outerIndent+"array (\n"+iret+"\n"+outerIndent+")"}else if(type==="function"){funcParts=mixed_expression.toString().match(/function .*?\((.*?)\) \{([\s\S]*)\}/);retstr="create_function ('"+funcParts[1]+"', '"+funcParts[2].replace(new RegExp("'","g"),"\\'")+"')"}else if(type==="resource"){retstr="NULL"}else{retstr=typeof mixed_expression!=="string"?mixed_expression:"'"+mixed_expression.replace(/(["'])/g,"\\$1").replace(/\0/g,"\\0")+"'"}if(!bool_return){this.echo(retstr);return null}return retstr};exports.arsort=function(inputArr,sort_flags){var valArr=[],valArrLen=0,k,i,ret,sorter,that=this,strictForIn=false,populateArr={};switch(sort_flags){case"SORT_STRING":sorter=function(a,b){return that.strnatcmp(b,a)};break;case"SORT_LOCALE_STRING":var loc=this.i18n_loc_get_default();sorter=this.php_js.i18nLocales[loc].sorting;break;case"SORT_NUMERIC":sorter=function(a,b){return a-b};break;case"SORT_REGULAR":default:sorter=function(b,a){var aFloat=parseFloat(a),bFloat=parseFloat(b),aNumeric=aFloat+""===a,bNumeric=bFloat+""===b;if(aNumeric&&bNumeric){return aFloat>bFloat?1:aFloat<bFloat?-1:0}else if(aNumeric&&!bNumeric){return 1}else if(!aNumeric&&bNumeric){return-1}return a>b?1:a<b?-1:0};break}this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push([k,inputArr[k]]);if(strictForIn){delete inputArr[k]}}}valArr.sort(function(a,b){return sorter(a[1],b[1])});for(i=0,valArrLen=valArr.length;i<valArrLen;i++){populateArr[valArr[i][0]]=valArr[i][1]}return strictForIn||populateArr};exports.asort=function(inputArr,sort_flags){var valArr=[],valArrLen=0,k,i,ret,sorter,that=this,strictForIn=false,populateArr={};switch(sort_flags){case"SORT_STRING":sorter=function(a,b){return that.strnatcmp(a,b)};break;case"SORT_LOCALE_STRING":var loc=this.i18n_loc_get_default();sorter=this.php_js.i18nLocales[loc].sorting;break;case"SORT_NUMERIC":sorter=function(a,b){return a-b};break;case"SORT_REGULAR":default:sorter=function(a,b){var aFloat=parseFloat(a),bFloat=parseFloat(b),aNumeric=aFloat+""===a,bNumeric=bFloat+""===b;if(aNumeric&&bNumeric){return aFloat>bFloat?1:aFloat<bFloat?-1:0}else if(aNumeric&&!bNumeric){return 1}else if(!aNumeric&&bNumeric){return-1}return a>b?1:a<b?-1:0};break}this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push([k,inputArr[k]]);if(strictForIn){delete inputArr[k]}}}valArr.sort(function(a,b){return sorter(a[1],b[1])});for(i=0,valArrLen=valArr.length;i<valArrLen;i++){populateArr[valArr[i][0]]=valArr[i][1]}return strictForIn||populateArr};exports.krsort=function(inputArr,sort_flags){var tmp_arr={},keys=[],sorter,i,k,that=this,strictForIn=false,populateArr={};switch(sort_flags){case"SORT_STRING":sorter=function(a,b){return that.strnatcmp(b,a)};break;case"SORT_LOCALE_STRING":var loc=this.i18n_loc_get_default();sorter=this.php_js.i18nLocales[loc].sorting;break;case"SORT_NUMERIC":sorter=function(a,b){return b-a};break;case"SORT_REGULAR":default:sorter=function(b,a){var aFloat=parseFloat(a),bFloat=parseFloat(b),aNumeric=aFloat+""===a,bNumeric=bFloat+""===b;if(aNumeric&&bNumeric){return aFloat>bFloat?1:aFloat<bFloat?-1:0}else if(aNumeric&&!bNumeric){return 1}else if(!aNumeric&&bNumeric){return-1}return a>b?1:a<b?-1:0};break}for(k in inputArr){if(inputArr.hasOwnProperty(k)){keys.push(k)}}keys.sort(sorter);this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(i=0;i<keys.length;i++){k=keys[i];tmp_arr[k]=inputArr[k];if(strictForIn){delete inputArr[k]}}for(i in tmp_arr){if(tmp_arr.hasOwnProperty(i)){populateArr[i]=tmp_arr[i]}}return strictForIn||populateArr};exports.ksort=function(inputArr,sort_flags){var tmp_arr={},keys=[],sorter,i,k,that=this,strictForIn=false,populateArr={};switch(sort_flags){case"SORT_STRING":sorter=function(a,b){return that.strnatcmp(a,b)};break;case"SORT_LOCALE_STRING":var loc=this.i18n_loc_get_default();sorter=this.php_js.i18nLocales[loc].sorting;break;case"SORT_NUMERIC":sorter=function(a,b){return a+0-(b+0)};break;default:sorter=function(a,b){var aFloat=parseFloat(a),bFloat=parseFloat(b),aNumeric=aFloat+""===a,bNumeric=bFloat+""===b;if(aNumeric&&bNumeric){return aFloat>bFloat?1:aFloat<bFloat?-1:0}else if(aNumeric&&!bNumeric){return 1}else if(!aNumeric&&bNumeric){return-1}return a>b?1:a<b?-1:0};break}for(k in inputArr){if(inputArr.hasOwnProperty(k)){keys.push(k)}}keys.sort(sorter);this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(i=0;i<keys.length;i++){k=keys[i];tmp_arr[k]=inputArr[k];if(strictForIn){delete inputArr[k]}}for(i in tmp_arr){if(tmp_arr.hasOwnProperty(i)){populateArr[i]=tmp_arr[i]}}return strictForIn||populateArr};exports.natsort=function(inputArr){var valArr=[],k,i,ret,that=this,strictForIn=false,populateArr={};this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push([k,inputArr[k]]);if(strictForIn){delete inputArr[k]}}}valArr.sort(function(a,b){return that.strnatcmp(a[1],b[1])});for(i=0;i<valArr.length;i++){populateArr[valArr[i][0]]=valArr[i][1]}return strictForIn||populateArr};exports.rsort=function(inputArr,sort_flags){var valArr=[],k="",i=0,sorter=false,that=this,strictForIn=false,populateArr=[];switch(sort_flags){case"SORT_STRING":sorter=function(a,b){return that.strnatcmp(b,a)};break;case"SORT_LOCALE_STRING":var loc=this.i18n_loc_get_default();sorter=this.php_js.i18nLocales[loc].sorting;break;case"SORT_NUMERIC":sorter=function(a,b){return b-a};break;case"SORT_REGULAR":default:sorter=function(b,a){var aFloat=parseFloat(a),bFloat=parseFloat(b),aNumeric=aFloat+""===a,bNumeric=bFloat+""===b;if(aNumeric&&bNumeric){return aFloat>bFloat?1:aFloat<bFloat?-1:0}else if(aNumeric&&!bNumeric){return 1}else if(!aNumeric&&bNumeric){return-1}return a>b?1:a<b?-1:0};break}try{this.php_js=this.php_js||{}}catch(e){this.php_js={}}this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push(inputArr[k]);if(strictForIn){delete inputArr[k]}}}valArr.sort(sorter);for(i=0;i<valArr.length;i++){populateArr[i]=valArr[i]}return strictForIn||populateArr};exports.sort=function(inputArr,sort_flags){var valArr=[],keyArr=[],k="",i=0,sorter=false,that=this,strictForIn=false,populateArr=[];switch(sort_flags){case"SORT_STRING":sorter=function(a,b){return that.strnatcmp(a,b)};break;case"SORT_LOCALE_STRING":var loc=this.i18n_loc_get_default();sorter=this.php_js.i18nLocales[loc].sorting;break;case"SORT_NUMERIC":sorter=function(a,b){return a-b};break;case"SORT_REGULAR":default:sorter=function(a,b){var aFloat=parseFloat(a),bFloat=parseFloat(b),aNumeric=aFloat+""===a,bNumeric=bFloat+""===b;if(aNumeric&&bNumeric){return aFloat>bFloat?1:aFloat<bFloat?-1:0}else if(aNumeric&&!bNumeric){return 1}else if(!aNumeric&&bNumeric){return-1}return a>b?1:a<b?-1:0};break}try{this.php_js=this.php_js||{}}catch(e){this.php_js={}}this.php_js.ini=this.php_js.ini||{};strictForIn=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";populateArr=strictForIn?inputArr:populateArr;for(k in inputArr){if(inputArr.hasOwnProperty(k)){valArr.push(inputArr[k]);if(strictForIn){delete inputArr[k]}}}valArr.sort(sorter);for(i=0;i<valArr.length;i++){populateArr[i]=valArr[i]}return strictForIn||populateArr};exports.ctype_alnum=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.an)!==-1};exports.ctype_alpha=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.al)!==-1};exports.ctype_cntrl=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.ct)!==-1};exports.ctype_digit=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.dg)!==-1};exports.ctype_graph=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.gr)!==-1};exports.ctype_lower=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.lw)!==-1};exports.ctype_print=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.pr)!==-1};exports.ctype_punct=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.pu)!==-1};exports.ctype_space=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.sp)!==-1};exports.ctype_upper=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.up)!==-1};exports.ctype_xdigit=function(text){if(typeof text!=="string"){return false}this.setlocale("LC_ALL",0);return text.search(this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.xd)!==-1};exports.strftime=function(fmt,timestamp){this.php_js=this.php_js||{};this.setlocale("LC_ALL",0);var phpjs=this.php_js;var _xPad=function(x,pad,r){if(typeof r==="undefined"){r=10}for(;parseInt(x,10)<r&&r>1;r/=10){x=pad.toString()+x}return x.toString()};var locale=phpjs.localeCategories.LC_TIME;var locales=phpjs.locales;var lc_time=locales[locale].LC_TIME;var _formats={a:function(d){return lc_time.a[d.getDay()]},A:function(d){return lc_time.A[d.getDay()]},b:function(d){return lc_time.b[d.getMonth()]},B:function(d){return lc_time.B[d.getMonth()]},C:function(d){return _xPad(parseInt(d.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(d){return _xPad(parseInt(this.G(d)/100,10),0)},G:function(d){var y=d.getFullYear();var V=parseInt(_formats.V(d),10);var W=parseInt(_formats.W(d),10);if(W>V){y++}else if(W===0&&V>=52){y--}return y},H:["getHours","0"],I:function(d){var I=d.getHours()%12;return _xPad(I===0?12:I,0)},j:function(d){var ms=d-new Date(""+d.getFullYear()+"/1/1 GMT");ms+=d.getTimezoneOffset()*6e4;var doy=parseInt(ms/6e4/60/24,10)+1;return _xPad(doy,0,100)},k:["getHours","0"],l:function(d){var l=d.getHours()%12;return _xPad(l===0?12:l," ")},m:function(d){return _xPad(d.getMonth()+1,0)},M:["getMinutes","0"],p:function(d){return lc_time.p[d.getHours()>=12?1:0]},P:function(d){return lc_time.P[d.getHours()>=12?1:0]},s:function(d){return Date.parse(d)/1e3},S:["getSeconds","0"],u:function(d){var dow=d.getDay();return dow===0?7:dow},U:function(d){var doy=parseInt(_formats.j(d),10);var rdow=6-d.getDay();var woy=parseInt((doy+rdow)/7,10);return _xPad(woy,0)},V:function(d){var woy=parseInt(_formats.W(d),10);var dow1_1=new Date(""+d.getFullYear()+"/1/1").getDay();var idow=woy+(dow1_1>4||dow1_1<=1?0:1);if(idow===53&&new Date(""+d.getFullYear()+"/12/31").getDay()<4){idow=1}else if(idow===0){idow=_formats.V(new Date(""+(d.getFullYear()-1)+"/12/31"))}return _xPad(idow,0)},w:"getDay",W:function(d){var doy=parseInt(_formats.j(d),10);var rdow=7-_formats.u(d);var woy=parseInt((doy+rdow)/7,10);return _xPad(woy,0,10)},y:function(d){return _xPad(d.getFullYear()%100,0)},Y:"getFullYear",z:function(d){var o=d.getTimezoneOffset();var H=_xPad(parseInt(Math.abs(o/60),10),0);var M=_xPad(o%60,0);return(o>0?"-":"+")+H+M},Z:function(d){return d.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(d){return"%"}};var _date=typeof timestamp==="undefined"?new Date:typeof timestamp==="object"?new Date(timestamp):new Date(timestamp*1e3);var _aggregates={c:"locale",D:"%m/%d/%y",F:"%y-%m-%d",h:"%b",n:"\n",r:"locale",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"};while(fmt.match(/%[cDFhnrRtTxX]/)){fmt=fmt.replace(/%([cDFhnrRtTxX])/g,function(m0,m1){var f=_aggregates[m1];return f==="locale"?lc_time[m1]:f})}var str=fmt.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,function(m0,m1){var f=_formats[m1];if(typeof f==="string"){return _date[f]()}else if(typeof f==="function"){return f(_date)}else if(typeof f==="object"&&typeof f[0]==="string"){return _xPad(_date[f[0]](),f[1])}else{return m1}})
;return str};exports.strptime=function(dateStr,format){var retObj={tm_sec:0,tm_min:0,tm_hour:0,tm_mday:0,tm_mon:0,tm_year:0,tm_wday:0,tm_yday:0,unparsed:""},i=0,that=this,amPmOffset=0,prevHour=false,_reset=function(dateObj,realMday){var jan1,o=retObj,d=dateObj;o.tm_sec=d.getUTCSeconds();o.tm_min=d.getUTCMinutes();o.tm_hour=d.getUTCHours();o.tm_mday=realMday===0?realMday:d.getUTCDate();o.tm_mon=d.getUTCMonth();o.tm_year=d.getUTCFullYear()-1900;o.tm_wday=realMday===0?d.getUTCDay()>0?d.getUTCDay()-1:6:d.getUTCDay();jan1=new Date(Date.UTC(d.getUTCFullYear(),0,1));o.tm_yday=Math.ceil((d-jan1)/(1e3*60*60*24))},_date=function(){var o=retObj;return _reset(new Date(Date.UTC(o.tm_year+1900,o.tm_mon,o.tm_mday||1,o.tm_hour,o.tm_min,o.tm_sec)),o.tm_mday)};var _NWS=/\S/,_WS=/\s/;var _aggregates={c:"locale",D:"%m/%d/%y",F:"%y-%m-%d",r:"locale",R:"%H:%M",T:"%H:%M:%S",x:"locale",X:"locale"};var _preg_quote=function(str){return(str+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!<>\|\:])/g,"\\$1")};this.php_js=this.php_js||{};this.setlocale("LC_ALL",0);var phpjs=this.php_js;var locale=phpjs.localeCategories.LC_TIME;var locales=phpjs.locales;var lc_time=locales[locale].LC_TIME;while(format.match(/%[cDFhnrRtTxX]/)){format=format.replace(/%([cDFhnrRtTxX])/g,function(m0,m1){var f=_aggregates[m1];return f==="locale"?lc_time[m1]:f})}var _addNext=function(j,regex,cb){if(typeof regex==="string"){regex=new RegExp("^"+regex,"i")}var check=dateStr.slice(j);var match=regex.exec(check);var testNull=match?cb.apply(null,match):null;if(testNull===null){throw"No match in string"}return j+match[0].length};var _addLocalized=function(j,formatChar,category){return _addNext(j,that.array_map(_preg_quote,lc_time[formatChar]).join("|"),function(m){var match=lc_time[formatChar].search(new RegExp("^"+_preg_quote(m)+"$","i"));if(match){retObj[category]=match[0]}})};for(i=0,j=0;i<format.length;i++){if(format.charAt(i)==="%"){var literalPos=["%","n","t"].indexOf(format.charAt(i+1));if(literalPos!==-1){if(["%","\n","\t"].indexOf(dateStr.charAt(j))===literalPos){++i;++j;continue}return false}var formatChar=format.charAt(i+1);try{switch(formatChar){case"a":case"A":j=_addLocalized(j,formatChar,"tm_wday");break;case"h":case"b":j=_addLocalized(j,"b","tm_mon");_date();break;case"B":j=_addLocalized(j,formatChar,"tm_mon");_date();break;case"C":j=_addNext(j,/^\d?\d/,function(d){var year=(parseInt(d,10)-19)*100;retObj.tm_year=year;_date();if(!retObj.tm_yday){retObj.tm_yday=-1}});break;case"d":case"e":j=_addNext(j,formatChar==="d"?/^(0[1-9]|[1-2]\d|3[0-1])/:/^([1-2]\d|3[0-1]|[1-9])/,function(d){var dayMonth=parseInt(d,10);retObj.tm_mday=dayMonth;_date()});break;case"g":break;case"G":break;case"H":j=_addNext(j,/^([0-1]\d|2[0-3])/,function(d){var hour=parseInt(d,10);retObj.tm_hour=hour});break;case"l":case"I":j=_addNext(j,formatChar==="l"?/^([1-9]|1[0-2])/:/^(0[1-9]|1[0-2])/,function(d){var hour=parseInt(d,10)-1+amPmOffset;retObj.tm_hour=hour;prevHour=true});break;case"j":j=_addNext(j,/^(00[1-9]|0[1-9]\d|[1-2]\d\d|3[0-6][0-6])/,function(d){var dayYear=parseInt(d,10)-1;retObj.tm_yday=dayYear});break;case"m":j=_addNext(j,/^(0[1-9]|1[0-2])/,function(d){var month=parseInt(d,10)-1;retObj.tm_mon=month;_date()});break;case"M":j=_addNext(j,/^[0-5]\d/,function(d){var minute=parseInt(d,10);retObj.tm_min=minute});break;case"P":return false;case"p":j=_addNext(j,/^(am|pm)/i,function(d){amPmOffset=/a/.test(d)?0:12;if(prevHour){retObj.tm_hour+=amPmOffset}});break;case"s":j=_addNext(j,/^\d+/,function(d){var timestamp=parseInt(d,10);var date=new Date(Date.UTC(timestamp*1e3));_reset(date)});break;case"S":j=_addNext(j,/^[0-5]\d/,function(d){var second=parseInt(d,10);retObj.tm_sec=second});break;case"u":case"w":j=_addNext(j,/^\d/,function(d){retObj.tm_wday=d-(formatChar==="u")});break;case"U":case"V":case"W":break;case"y":j=_addNext(j,/^\d?\d/,function(d){d=parseInt(d,10);var year=d>=69?d:d+100;retObj.tm_year=year;_date();if(!retObj.tm_yday){retObj.tm_yday=-1}});break;case"Y":j=_addNext(j,/^\d{1,4}/,function(d){var year=parseInt(d,10)-1900;retObj.tm_year=year;_date();if(!retObj.tm_yday){retObj.tm_yday=-1}});break;case"z":break;case"Z":break;default:throw"Unrecognized formatting character in strptime()"}}catch(e){if(e==="No match in string"){return false}}++i}else if(format.charAt(i)!==dateStr.charAt(j)){if(dateStr.charAt(j).search(_WS)!==-1){j++;i--}else if(format.charAt(i).search(_NWS)!==-1){return false}}else{j++}}retObj.unparsed=dateStr.slice(j);return retObj};exports.sql_regcase=function(str){this.setlocale("LC_ALL",0);var i=0,upper="",lower="",pos=0,retStr="";upper=this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.upper;lower=this.php_js.locales[this.php_js.localeCategories.LC_CTYPE].LC_CTYPE.lower;for(i=0;i<str.length;i++){if((pos=upper.indexOf(str.charAt(i)))!==-1||(pos=lower.indexOf(str.charAt(i)))!==-1){retStr+="["+upper.charAt(pos)+lower.charAt(pos)+"]"}else{retStr+=str.charAt(i)}}return retStr};exports.localeconv=function(){var arr={},prop="";this.setlocale("LC_ALL",0);for(prop in this.php_js.locales[this.php_js.localeCategories.LC_NUMERIC].LC_NUMERIC){arr[prop]=this.php_js.locales[this.php_js.localeCategories.LC_NUMERIC].LC_NUMERIC[prop]}for(prop in this.php_js.locales[this.php_js.localeCategories.LC_MONETARY].LC_MONETARY){arr[prop]=this.php_js.locales[this.php_js.localeCategories.LC_MONETARY].LC_MONETARY[prop]}return arr};exports.money_format=function(format,number){if(typeof number!=="number"){return null}var regex=/%((=.|[+^(!-])*?)(\d*?)(#(\d+))?(\.(\d+))?([in%])/g;this.setlocale("LC_ALL",0);var monetary=this.php_js.locales[this.php_js.localeCategories["LC_MONETARY"]]["LC_MONETARY"];var doReplace=function(n0,flags,n2,width,n4,left,n6,right,conversion){var value="",repl="";if(conversion==="%"){return"%"}var fill=flags&&/=./.test(flags)?flags.match(/=(.)/)[1]:" ";var showCurrSymbol=!flags||flags.indexOf("!")===-1;width=parseInt(width,10)||0;var neg=number<0;number=number+"";number=neg?number.slice(1):number;var decpos=number.indexOf(".");var integer=decpos!==-1?number.slice(0,decpos):number;var fraction=decpos!==-1?number.slice(decpos+1):"";var _str_splice=function(integerStr,idx,thous_sep){var integerArr=integerStr.split("");integerArr.splice(idx,0,thous_sep);return integerArr.join("")};var init_lgth=integer.length;left=parseInt(left,10);var filler=init_lgth<left;if(filler){var fillnum=left-init_lgth;integer=new Array(fillnum+1).join(fill)+integer}if(flags.indexOf("^")===-1){var thous_sep=monetary.mon_thousands_sep;var mon_grouping=monetary.mon_grouping;if(mon_grouping[0]<integer.length){for(var i=0,idx=integer.length;i<mon_grouping.length;i++){idx-=mon_grouping[i];if(idx<=0){break}if(filler&&idx<fillnum){thous_sep=fill}integer=_str_splice(integer,idx,thous_sep)}}if(mon_grouping[i-1]>0){while(idx>mon_grouping[i-1]){idx-=mon_grouping[i-1];if(filler&&idx<fillnum){thous_sep=fill}integer=_str_splice(integer,idx,thous_sep)}}}if(right==="0"){value=integer}else{var dec_pt=monetary.mon_decimal_point;if(right===""||right===undefined){right=conversion==="i"?monetary.int_frac_digits:monetary.frac_digits}right=parseInt(right,10);if(right===0){fraction="";dec_pt=""}else if(right<fraction.length){fraction=Math.round(parseFloat(fraction.slice(0,right)+"."+fraction.substr(right,1)))+"";if(right>fraction.length){fraction=new Array(right-fraction.length+1).join("0")+fraction}}else if(right>fraction.length){fraction+=new Array(right-fraction.length+1).join("0")}value=integer+dec_pt+fraction}var symbol="";if(showCurrSymbol){symbol=conversion==="i"?monetary.int_curr_symbol:monetary.currency_symbol}var sign_posn=neg?monetary.n_sign_posn:monetary.p_sign_posn;var sep_by_space=neg?monetary.n_sep_by_space:monetary.p_sep_by_space;var cs_precedes=neg?monetary.n_cs_precedes:monetary.p_cs_precedes;if(flags.indexOf("(")!==-1){repl=(cs_precedes?symbol+(sep_by_space===1?" ":""):"")+value+(!cs_precedes?(sep_by_space===1?" ":"")+symbol:"");if(neg){repl="("+repl+")"}else{repl=" "+repl+" "}}else{var pos_sign=monetary.positive_sign;var neg_sign=monetary.negative_sign;var sign=neg?neg_sign:pos_sign;var otherSign=neg?pos_sign:neg_sign;var signPadding="";if(sign_posn){signPadding=new Array(otherSign.length-sign.length+1).join(" ")}var valueAndCS="";switch(sign_posn){case 0:valueAndCS=cs_precedes?symbol+(sep_by_space===1?" ":"")+value:value+(sep_by_space===1?" ":"")+symbol;repl="("+valueAndCS+")";break;case 1:valueAndCS=cs_precedes?symbol+(sep_by_space===1?" ":"")+value:value+(sep_by_space===1?" ":"")+symbol;repl=signPadding+sign+(sep_by_space===2?" ":"")+valueAndCS;break;case 2:valueAndCS=cs_precedes?symbol+(sep_by_space===1?" ":"")+value:value+(sep_by_space===1?" ":"")+symbol;repl=valueAndCS+(sep_by_space===2?" ":"")+sign+signPadding;break;case 3:repl=cs_precedes?signPadding+sign+(sep_by_space===2?" ":"")+symbol+(sep_by_space===1?" ":"")+value:value+(sep_by_space===1?" ":"")+sign+signPadding+(sep_by_space===2?" ":"")+symbol;break;case 4:repl=cs_precedes?symbol+(sep_by_space===2?" ":"")+signPadding+sign+(sep_by_space===1?" ":"")+value:value+(sep_by_space===1?" ":"")+symbol+(sep_by_space===2?" ":"")+sign+signPadding;break}}var padding=width-repl.length;if(padding>0){padding=new Array(padding+1).join(" ");if(flags.indexOf("-")!==-1){repl+=padding}else{repl=padding+repl}}return repl};return format.replace(regex,doReplace)};exports.nl_langinfo=function(item){this.setlocale("LC_ALL",0);var loc=this.php_js.locales[this.php_js.localeCategories.LC_TIME];if(item.indexOf("ABDAY_")===0){return loc.LC_TIME.a[parseInt(item.replace(/^ABDAY_/,""),10)-1]}else if(item.indexOf("DAY_")===0){return loc.LC_TIME.A[parseInt(item.replace(/^DAY_/,""),10)-1]}else if(item.indexOf("ABMON_")===0){return loc.LC_TIME.b[parseInt(item.replace(/^ABMON_/,""),10)-1]}else if(item.indexOf("MON_")===0){return loc.LC_TIME.B[parseInt(item.replace(/^MON_/,""),10)-1]}else{switch(item){case"AM_STR":return loc.LC_TIME.p[0];case"PM_STR":return loc.LC_TIME.p[1];case"D_T_FMT":return loc.LC_TIME.c;case"D_FMT":return loc.LC_TIME.x;case"T_FMT":return loc.LC_TIME.X;case"T_FMT_AMPM":return loc.LC_TIME.r;case"ERA":case"ERA_YEAR":case"ERA_D_T_FMT":case"ERA_D_FMT":case"ERA_T_FMT":return loc.LC_TIME[item]}loc=this.php_js.locales[this.php_js.localeCategories.LC_MONETARY];if(item==="CRNCYSTR"){item="CURRENCY_SYMBOL"}switch(item){case"INT_CURR_SYMBOL":case"CURRENCY_SYMBOL":case"MON_DECIMAL_POINT":case"MON_THOUSANDS_SEP":case"POSITIVE_SIGN":case"NEGATIVE_SIGN":case"INT_FRAC_DIGITS":case"FRAC_DIGITS":case"P_CS_PRECEDES":case"P_SEP_BY_SPACE":case"N_CS_PRECEDES":case"N_SEP_BY_SPACE":case"P_SIGN_POSN":case"N_SIGN_POSN":return loc.LC_MONETARY[item.toLowerCase()];case"MON_GROUPING":return loc.LC_MONETARY[item.toLowerCase()]}loc=this.php_js.locales[this.php_js.localeCategories.LC_NUMERIC];switch(item){case"RADIXCHAR":case"DECIMAL_POINT":return loc.LC_NUMERIC[item.toLowerCase()];case"THOUSEP":case"THOUSANDS_SEP":return loc.LC_NUMERIC[item.toLowerCase()];case"GROUPING":return loc.LC_NUMERIC[item.toLowerCase()]}loc=this.php_js.locales[this.php_js.localeCategories.LC_MESSAGES];switch(item){case"YESEXPR":case"NOEXPR":case"YESSTR":case"NOSTR":return loc.LC_MESSAGES[item]}loc=this.php_js.locales[this.php_js.localeCategories.LC_CTYPE];if(item==="CODESET"){return loc.LC_CTYPE[item]}return false}};exports.strcoll=function(str1,str2){this.setlocale("LC_ALL",0);var cmp=this.php_js.locales[this.php_js.localeCategories.LC_COLLATE].LC_COLLATE;return cmp(str1,str2)};exports.strval=function(str){var type="";if(str===null){return""}type=this.gettype(str);switch(type){case"boolean":if(str===true){return"1"}return"";case"array":return"Array";case"object":return"Object"}return str};exports.gmstrftime=function(format,timestamp){var dt=typeof timestamp==="undefined"?new Date:typeof timestamp==="object"?new Date(timestamp):new Date(timestamp*1e3);timestamp=Date.parse(dt.toUTCString().slice(0,-4))/1e3;return this.strftime(format,timestamp)};exports.str_word_count=function(str,format,charlist){var len=str.length,cl=charlist&&charlist.length,chr="",tmpStr="",i=0,c="",wArr=[],wC=0,assoc={},aC=0,reg="",match=false;var _preg_quote=function(str){return(str+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!<>\|\:])/g,"\\$1")};_getWholeChar=function(str,i){var code=str.charCodeAt(i);if(code<55296||code>57343){return str.charAt(i)}if(55296<=code&&code<=56319){if(str.length<=i+1){throw"High surrogate without following low surrogate"}var next=str.charCodeAt(i+1);if(56320>next||next>57343){throw"High surrogate without following low surrogate"}return str.charAt(i)+str.charAt(i+1)}if(i===0){throw"Low surrogate without preceding high surrogate"}var prev=str.charCodeAt(i-1);if(55296>prev||prev>56319){throw"Low surrogate without preceding high surrogate"}return false};if(cl){reg="^("+_preg_quote(_getWholeChar(charlist,0));for(i=1;i<cl;i++){if((chr=_getWholeChar(charlist,i))===false){continue}reg+="|"+_preg_quote(chr)}reg+=")$";reg=new RegExp(reg)}for(i=0;i<len;i++){if((c=_getWholeChar(str,i))===false){continue}match=this.ctype_alpha(c)||reg&&c.search(reg)!==-1||i!==0&&i!==len-1&&c==="-"||i!==0&&c==="'";if(match){if(tmpStr===""&&format===2){aC=i}tmpStr=tmpStr+c}if(i===len-1||!match&&tmpStr!==""){if(format!==2){wArr[wArr.length]=tmpStr}else{assoc[aC]=tmpStr}tmpStr="";wC++}}if(!format){return wC}else if(format===1){return wArr}else if(format===2){return assoc}throw"You have supplied an incorrect format"};exports.strtr=function(str,from,to){var fr="",i=0,j=0,lenStr=0,lenFrom=0,tmpStrictForIn=false,fromTypeStr="",toTypeStr="",istr="";var tmpFrom=[];var tmpTo=[];var ret="";var match=false;if(typeof from==="object"){tmpStrictForIn=this.ini_set("phpjs.strictForIn",false);from=this.krsort(from);this.ini_set("phpjs.strictForIn",tmpStrictForIn);for(fr in from){if(from.hasOwnProperty(fr)){tmpFrom.push(fr);tmpTo.push(from[fr])}}from=tmpFrom;to=tmpTo}lenStr=str.length;lenFrom=from.length;fromTypeStr=typeof from==="string";toTypeStr=typeof to==="string";for(i=0;i<lenStr;i++){match=false;if(fromTypeStr){istr=str.charAt(i);for(j=0;j<lenFrom;j++){if(istr==from.charAt(j)){match=true;break}}}else{for(j=0;j<lenFrom;j++){if(str.substr(i,from[j].length)==from[j]){match=true;i=i+from[j].length-1;break}}}if(match){ret+=toTypeStr?to.charAt(j):to[j]}else{ret+=str.charAt(i)}}return ret}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],140:[function(require,module,exports){(function(global){phpjs=require("./build/npm");phpjs.registerGlobals=function(){for(var key in this){global[key]=this[key]}};module.exports=phpjs}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./build/npm":139}],141:[function(require,module,exports){"use strict";var builtins=require("./src/builtin/builtins"),runtime=require("phpcore/async");runtime.install(builtins);module.exports=runtime},{"./src/builtin/builtins":143,"phpcore/async":99}],142:[function(require,module,exports){"use strict";module.exports=require("./async")},{"./async":141}],143:[function(require,module,exports){"use strict";var arrayFunctions=require("./functions/array"),constantFunctions=require("./functions/constant"),filesystemConstants=require("./constants/filesystem"),filesystemFunctions=require("./functions/filesystem"),functionHandlingFunctions=require("./functions/functionHandling"),stringFunctions=require("./functions/string"),timeFunctions=require("./functions/time"),variableHandlingFunctions=require("./functions/variableHandling");module.exports={constantGroups:[filesystemConstants],functionGroups:[arrayFunctions,constantFunctions,filesystemFunctions,functionHandlingFunctions,stringFunctions,timeFunctions,variableHandlingFunctions]}},{"./constants/filesystem":144,"./functions/array":145,"./functions/constant":146,"./functions/filesystem":147,"./functions/functionHandling":148,"./functions/string":149,"./functions/time":150,"./functions/variableHandling":151}],144:[function(require,module,exports){"use strict";module.exports=function(){return{DIRECTORY_SEPARATOR:"/"}}},{}],145:[function(require,module,exports){"use strict";var _=require("microdash"),phpCommon=require("phpcommon"),IMPLODE="implode",PHPError=phpCommon.PHPError;module.exports=function(internals){var callStack=internals.callStack,methods,valueFactory=internals.valueFactory;methods={array_push:function(arrayReference){var arrayValue=arrayReference.getValue(),i,reference,value;for(i=1;i<arguments.length;i++){reference=arguments[i];value=reference.getValue();arrayValue.push(value)}return valueFactory.createInteger(arrayValue.getLength())},current:function(arrayReference){var arrayValue=arrayReference.getValue();if(arrayValue.getPointer()>=arrayValue.getLength()){return valueFactory.createBoolean(false)}return arrayValue.getCurrentElement().getValue()},implode:function(glueReference,piecesReference){var glueValue=glueReference.getValue(),piecesValue=piecesReference.getValue(),tmp,values;if(glueValue.getType()==="array"){tmp=glueValue;glueValue=piecesValue;piecesValue=tmp}values=piecesValue.getValues();_.each(values,function(value,key){values[key]=value.coerceToString().getNative()});return valueFactory.createString(values.join(glueValue.getNative()))},join:function(glueReference,piecesReference){return methods[IMPLODE](glueReference,piecesReference)},next:function(arrayReference){var arrayValue=arrayReference.getValue();if(arrayValue.getType()!=="array"){callStack.raiseError(PHPError.E_WARNING,"next() expects parameter 1 to be array, "+arrayValue.getType()+" given");return valueFactory.createNull()}arrayValue.setPointer(arrayValue.getPointer()+1);if(arrayValue.getPointer()>=arrayValue.getLength()){return valueFactory.createBoolean(false)}return arrayValue.getCurrentElement().getValue()}};return methods}},{microdash:27,phpcommon:94}],146:[function(require,module,exports){"use strict";module.exports=function(internals){var globalNamespace=internals.globalNamespace;return{define:function(name,value,isCaseInsensitive){var match,namespace,path;name=name.toValue().getNative();isCaseInsensitive=isCaseInsensitive?isCaseInsensitive.toValue().getNative():false;value=value.toValue();name=name.replace(/^\//,"");match=name.match(/^(.*?)\\([^\\]+)$/);if(match){path=match[1];name=match[2];namespace=globalNamespace.getDescendant(path)}else{namespace=globalNamespace}namespace.defineConstant(name,value,{caseInsensitive:isCaseInsensitive})}}}},{}],147:[function(require,module,exports){"use strict";var INCLUDE_PATH_INI="include_path";module.exports=function(internals){var iniState=internals.iniState,valueFactory=internals.valueFactory;return{dirname:function(pathReference){var pathValue=pathReference.getValue(),path=pathValue.getNative();if(path&&path.indexOf("/")===-1){path="."}else{path=path.replace(/\/[^\/]+$/,"")}pathValue=valueFactory.createString(path);return pathValue},get_include_path:function(){return valueFactory.createString(iniState.get(INCLUDE_PATH_INI))},set_include_path:function(newIncludePathReference){var oldIncludePath=iniState.get(INCLUDE_PATH_INI);iniState.set(INCLUDE_PATH_INI,newIncludePathReference.getValue().getNative());return valueFactory.createString(oldIncludePath)}}}},{}],148:[function(require,module,exports){"use strict";module.exports=function(internals){var globalNamespace=internals.globalNamespace,valueFactory=internals.valueFactory;return{function_exists:function(nameReference){var name=nameReference.getValue().getNative().replace(/^\\/,"");try{globalNamespace.getFunction(name)}catch(e){return valueFactory.createBoolean(false)}return valueFactory.createBoolean(true)}}}},{}],149:[function(require,module,exports){"use strict";var _=require("microdash"),phpCommon=require("phpcommon"),PHPError=phpCommon.PHPError;module.exports=function(internals){var callStack=internals.callStack,valueFactory=internals.valueFactory;return{strlen:function(stringReference){var stringValue=stringReference.getValue();if(stringValue.getType()==="array"||stringValue.getType()==="object"){callStack.raiseError(PHPError.E_WARNING,"strlen() expects parameter 1 to be string, "+stringValue.getType()+" given");return valueFactory.createNull()}return valueFactory.createInteger(stringValue.getLength())},str_replace:function(searchReference,replaceReference,subjectReference,countReference){function getNative(reference){var value=reference.getValue();return value.getNative()}var count=0,search,replacement,subject,replace=countReference?function replace(search,replacement,subject){return subject.replace(search,function(){count++;return replacement})}:function replace(search,replacement,subject){return subject.replace(search,replacement)};if(arguments.length<3){callStack.raiseError(PHPError.E_WARNING,"str_replace() expects at least 3 parameters, "+arguments.length+" given");return valueFactory.createNull()}search=getNative(searchReference);replacement=getNative(replaceReference);subject=getNative(subjectReference);function buildRegex(search){return new RegExp(_.escapeRegExp(search),"g")}if(_.isArray(search)){if(_.isArray(replacement)){_.each(search,function(search,index){subject=replace(buildRegex(search),index<replacement.length?replacement[index]:"",subject)})}else{_.each(search,function(search){subject=replace(buildRegex(search),replacement,subject)})}}else{subject=replace(buildRegex(search),replacement,subject)}if(countReference){countReference.setValue(valueFactory.createInteger(count))}return valueFactory.createString(subject)},strpos:function(haystackReference,needleReference,offsetReference){var haystack=haystackReference.getNative(),needle=needleReference.getNative(),offset=offsetReference?offsetReference.getNative():0,position;if(offset<0){offset=haystack.length+offset}position=haystack.substr(offset).indexOf(needle);if(position===-1){return valueFactory.createBoolean(false)}return valueFactory.createInteger(offset+position)},strrpos:function(haystackReference,needleReference,offsetReference){var haystack=haystackReference.getValue().getNative(),needle=needleReference.getValue().getNative(),offset=offsetReference?offsetReference.getValue().getNative():0,position;if(offset<0){offset=haystack.length+offset}position=haystack.substr(offset).lastIndexOf(needle);if(position===-1){return valueFactory.createBoolean(false)}return valueFactory.createInteger(offset+position)},strtr:function(stringReference){var from,to,i,replacePairs,replaceKeys,replaceValues,string=stringReference.getValue().getNative();if(arguments.length===2){replacePairs=arguments[1].getValue();replaceKeys=replacePairs.getKeys();replaceValues=replacePairs.getValues();_.each(replaceKeys,function(key,index){var find=key.coerceToString().getNative(),replace=replaceValues[index].coerceToString().getNative();string=string.replace(new RegExp(_.escapeRegExp(find),"g"),replace)})}else{from=arguments[1].getValue().getNative();to=arguments[2].getValue().getNative();for(i=0;i<from.length&&i<to.length;i++){string=string.replace(new RegExp(_.escapeRegExp(from.charAt(i)),"g"),to.charAt(i))}}return valueFactory.createString(string)},substr:function(stringReference,startReference,lengthReference){var string=stringReference.getValue().getNative(),start=startReference.getValue().getNative(),length=lengthReference?lengthReference.getValue().getNative():string.length,substring;if(start<0){start=string.length+start}if(length<0){length=string.length-start+length}substring=string.substr(start,length);return valueFactory.createString(substring)}}}},{microdash:27,phpcommon:94}],150:[function(require,module,exports){"use strict";var phpCommon=require("phpcommon"),PHPError=phpCommon.PHPError;module.exports=function(internals){var callStack=internals.callStack,pausable=internals.pausable;return{usleep:function(microsecondsReference){var microsecondsValue=microsecondsReference.getValue(),pause;if(microsecondsValue.getType()!=="integer"&&microsecondsValue.getType()!=="float"){callStack.raiseError(PHPError.E_WARNING,"usleep() expects parameter 1 to be integer or float, "+microsecondsValue.getType()+" given");return}pause=pausable.createPause();setTimeout(function(){pause.resume()},microsecondsValue.getNative()/1e3);pause.now()}}}},{phpcommon:94}],151:[function(require,module,exports){"use strict";var _=require("microdash"),phpCommon=require("phpcommon"),MAX_DUMPS=2e4,MAX_RECURSION_DEPTH=5,MAX_STRING_LENGTH=2048,PHPError=phpCommon.PHPError;module.exports=function(internals){var callStack=internals.callStack,stdout=internals.stdout;return{var_dump:function(valueReference){var arrays=[],dumps=0,value,objects=[];if(!valueReference){callStack.raiseError(PHPError.E_WARNING,"var_dump() expects at least 1 parameter, 0 given");return}value=valueReference.getValue();function dump(value,depth,isReference){var currentIndentation=new Array(depth).join("  "),names,nativeLength,nativeValue,nextIndentation=new Array(depth+1).join("  "),representation=currentIndentation;dumps++;if(depth>MAX_RECURSION_DEPTH||dumps>MAX_DUMPS){representation+="*RECURSION*";return representation+"\n"}if(value.getType()==="array"){if(arrays.indexOf(value.getValue())>-1){representation+="*RECURSION*";return representation+"\n"}if(isReference){arrays.push(value.getValue());representation+="&"}representation+="array("+value.getLength()+") {\n";_.each(value.getKeys(),function(key){var element=value.getElementByKey(key),elementRepresentation;elementRepresentation=dump(element.getValue(),depth+1,element.isReference());representation+=nextIndentation+"["+JSON.stringify(key.getNative())+"]=>\n"+elementRepresentation});representation+=currentIndentation+"}"}else if(value.getType()==="object"){if(objects.indexOf(value.getNative())>-1){representation+="*RECURSION*";return representation+"\n"}if(isReference){representation+="&"}names=value.getInstancePropertyNames();representation+="object("+value.getClassName()+")#"+value.getID()+" ("+names.length+") {\n";objects.push(value.getNative());_.each(names,function(nameValue){var property=value.getInstancePropertyByName(nameValue);representation+=nextIndentation+"["+JSON.stringify(nameValue.getNative())+"]=>\n"+dump(property.getValue(),depth+1,property.isReference())});representation+=currentIndentation+"}"}else{if(isReference){representation+="&"}switch(value.getType()){case"boolean":representation+="bool("+(value.getNative()?"true":"false")+")";break;case"float":representation+="float("+value.getNative()+")";break;case"integer":representation+="int("+value.getNative()+")";break;case"null":representation+="NULL";break;case"string":nativeValue=value.getNative();nativeLength=nativeValue.length;if(nativeLength>MAX_STRING_LENGTH){nativeValue=nativeValue.substr(0,MAX_STRING_LENGTH)+"..."}representation+="string("+nativeLength+') "'+nativeValue+'"';break}}return representation+"\n"}stdout.write(dump(value,1))}}}},{microdash:27,phpcommon:94}],152:[function(require,module,exports){"use strict";var parsing=require("parsing"),phpGrammarSpec=require("./src/grammar"),PHPToAST=require("./src/PHPToAST");module.exports=new PHPToAST(parsing,phpGrammarSpec)},{"./src/PHPToAST":154,"./src/grammar":156,parsing:41}],153:[function(require,module,exports){"use strict";var _=require("microdash"),PHPParseError=require("phpcommon").PHPParseError;function ErrorHandler(stderr,state){this.state=state;this.stderr=stderr}_.extend(ErrorHandler.prototype,{handle:function(parseException){var handler=this,text=parseException.getText(),error,what;if(parseException.unexpectedEndOfInput()){what="$end"}else{what="'"+text.substr(parseException.getFurthestMatchEnd(),1)+"'"}error=new PHPParseError(PHPParseError.SYNTAX_UNEXPECTED,{file:handler.state.getPath(),line:parseException.getLineNumber(),what:what});if(handler.state.isMainProgram()&&handler.stderr){handler.stderr.write(error.message)}throw error}});module.exports=ErrorHandler},{microdash:27,phpcommon:94}],154:[function(require,module,exports){"use strict";var _=require("microdash");function PHPToAST(parsing,phpGrammarSpec){this.parsing=parsing;this.phpGrammarSpec=phpGrammarSpec}_.extend(PHPToAST.prototype,{create:function(stderr){var lib=this;return lib.parsing.create(lib.phpGrammarSpec,stderr)}});module.exports=PHPToAST},{microdash:27}],155:[function(require,module,exports){"use strict";var _=require("microdash");function State(){this.path=null}_.extend(State.prototype,{getPath:function(){var path=this.path;return path===null?"(program)":path},isMainProgram:function(){return this.path===null},setPath:function(path){this.path=path}});module.exports=State},{microdash:27}],156:[function(require,module,exports){"use strict";var _=require("microdash"),uppercaseReplacements=[{pattern:/.*/g,replacement:function(all){return all.toUpperCase()}}],stringEscapeReplacements=[{pattern:/\\([\$efnrtv\\"])/g,replacement:function(all,chr){return{e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v","\\":"\\",$:"$",'"':'"'}[chr]}}],singleQuotedStringEscapeReplacements=[{pattern:/\\\\/g,replacement:"\\"}],buildTree=function(first,rest,buildNode){var i,length,result=first;for(i=0,length=rest.length;i<length;i++){result=buildNode(result,rest[i])}return result},buildBinaryExpression=function(first,rest){return buildTree(first,rest,function(result,element){return{name:"N_EXPRESSION",left:result,right:[{operator:element.operator,operand:element.operand}]}})},PHPErrorHandler=require("./ErrorHandler"),PHPGrammarState=require("./State");module.exports={ErrorHandler:PHPErrorHandler,State:PHPGrammarState,ignore:"N_IGNORE",rules:{T_ABSTRACT:/abstract\b/i,T_AND_EQUAL:/&=/i,T_ARRAY:/array\b/i,T_ARRAY_CAST:/\(\s*array\s*\)/i,T_AS:/as\b/i,T_BAD_CHARACTER:/(?![\u0009\u000A\u000D])[\u0000-\u001F]/,T_BOOLEAN_AND:/&&/i,T_BOOLEAN_OR:/\|\|/,T_BOOL_CAST:/\(\s*bool(ean)?\s*\)/i,T_BREAK:/break\b/i,T_CALLABLE:/callable\b/i,T_CASE:/case\b/i,T_CATCH:/catch\b/i,T_CLASS:/class\b/i,T_CLASS_C:/__CLASS__/i,T_CLONE:/clone/i,T_CLOSE_TAG:/[?%]>\n?/,T_COMMENT:/(?:\/\/|#)(.*?)[\r\n]+|\/\*(?!\*)([\s\S]*?)\*\//,T_CONCAT_EQUAL:/\.=/,T_CONST:/const\b/i,T_CONSTANT_ENCAPSED_STRING:{oneOf:[{what:/'((?:[^']|\\')*)'/,captureIndex:1,replace:singleQuotedStringEscapeReplacements},{what:/"((?:(?!\$\{?[\$a-z0-9_]+)(?:[^\\"]|\\[\s\S]))*)"/,captureIndex:1,replace:stringEscapeReplacements}]},T_CONTINUE:/continue\b/i,T_CURLY_OPEN:/\{(?=\$)/,T_DEC:/--/i,T_DECLARE:/declare\b/i,T_DEFAULT:/default\b/i,T_DIR:/__DIR__\b/i,T_DIV_EQUAL:/\/=/,T_DNUMBER:/\d+\.\d+|\d\.\d+e\d+|\d+e[+-]\d+/i,T_DOC_COMMENT:/\/\*\*([\s\S]*?)\*\//,T_DO:/do\b/i,T_DOLLAR_OPEN_CURLY_BRACES:/\$\{/,T_DOUBLE_ARROW:/=>/,T_DOUBLE_CAST:/\((real|double|float)\)/i,T_DOUBLE_COLON:/::/i,T_ECHO:/echo\b/i,T_ELSE:/else\b/i,T_ELSEIF:/elseif\b/i,T_EMPTY:/empty\b/i,T_ENCAPSED_AND_WHITESPACE:/(?:[^"\${]|\\["\${])+/,T_ENDDECLARE:/enddeclare\b/i,T_ENDFOR:/endfor\b/i,T_ENDFOREACH:/endforeach\b/i,T_ENDIF:/endif\b/i,T_ENDSWITCH:/endswitch\b/i,T_ENDWHILE:/endwhile\b/i,T_END_HEREDOC:/(?!)/,T_EVAL:/eval\b/i,T_EXIT:/(?:exit|die)\b/i,T_EXTENDS:/extends\b/i,T_FILE:/__FILE__\b/i,T_FINAL:/final\b/i,T_FINALLY:/finally\b/i,T_FOR:/for\b/i,T_FOREACH:/foreach\b/i,T_FUNCTION:/function\b/i,T_FUNC_C:/__FUNCTION__\b/i,T_GLOBAL:/global\b/i,T_GOTO:/goto\b/i,T_HALT_COMPILER:/__halt_compiler(?=\(\)|\s|;)/,T_IF:/if\b/i,T_IMPLEMENTS:/implements\b/i,T_INC:/\+\+/,T_INCLUDE:/include\b/i,T_INCLUDE_ONCE:/include_once\b/i,T_INLINE_HTML:/(?:[^<]|<[^?%]|<\?(?!php)[\s\S]{3})+/,T_INSTANCEOF:/instanceof\b/i,T_INSTEADOF:/insteadof\b/i,T_INT_CAST:/\(\s*int(eger)?\s*\)/i,T_INTERFACE:/interface\b/i,T_ISSET:/isset\b/i,T_IS_EQUAL:/==(?!=)/i,T_IS_GREATER_OR_EQUAL:/>=/,T_IS_IDENTICAL:/===/i,T_IS_NOT_EQUAL:/!=|<>/,T_IS_NOT_IDENTICAL:/!==/,T_IS_SMALLER_OR_EQUAL:/<=/,T_LINE:/__LINE__\b/i,T_LIST:/list\b/i,T_LNUMBER:/\d+|0x[0-9a-f]/i,T_LOGICAL_AND:/and\b/i,T_LOGICAL_OR:/or\b/i,T_LOGICAL_XOR:/xor\b/i,T_METHOD_C:/__METHOD__\b/i,T_MINUS_EQUAL:/-=/i,T_ML_COMMENT:/(?!)/,T_MOD_EQUAL:/%=/i,T_MUL_EQUAL:/\*=/,T_NAMESPACE:/namespace\b/i,T_NS_C:/__NAMESPACE__\b/i,T_NS_SEPARATOR:/\\/,T_NEW:/new\b/i,T_NUM_STRING:/\d+/,T_OBJECT_CAST:/\(\s*object\s*\)/i,T_OBJECT_OPERATOR:/->/,T_OLD_FUNCTION:/old_function\b/i,
T_OPEN_TAG:/(?:<\?(php)?|<%)\s?(?!=)/,T_OPEN_TAG_WITH_ECHO:/<[?%]=/,T_OR_EQUAL:/\|=/,T_PAAMAYIM_NEKUDOTAYIM:/::/i,T_PLUS_EQUAL:/\+=/,T_PRINT:/print\b/i,T_PRIVATE:/private\b/i,T_PUBLIC:/public\b/i,T_PROTECTED:/protected\b/i,T_REQUIRE:/require\b/i,T_REQUIRE_ONCE:/require_once\b/i,T_RETURN:/return\b/i,T_SL:/<</,T_SL_EQUAL:/<<=/,T_SR:/>>/,T_SR_EQUAL:/>>=/,T_START_HEREDOC:/<<<(["']?)([\$a-z0-9_]+)\1\n?/,T_STATIC:/static\b/i,T_STRING:/(?![\$0-9])[\$a-z0-9_]+/i,T_STRING_CAST:/\(\s*string\s*\)/i,T_STRING_VARNAME:/(?![\$0-9])[\$a-z0-9_]+/,T_SWITCH:/switch\b/i,T_THROW:/throw\b/i,T_TRAIT:/trait\b/i,T_TRAIT_C:/__TRAIT__\b/i,T_TRY:/try\b/i,T_UNSET:/unset\b/i,T_UNSET_CAST:/\(\s*unset\s*\)/i,T_USE:/use\b/i,T_VAR:/var\b/i,T_VARIABLE:{what:/\$([a-z0-9_]+)/i,captureIndex:1},T_WHILE:/while\b/i,T_WHITESPACE:/[\r\n\t ]+/,T_XOR_EQUAL:/\^=/i,T_YIELD:/yield\b/i,N_ARGUMENT:{oneOf:["N_DECORATED_ARGUMENT","N_VARIABLE"]},N_DECORATED_ARGUMENT:{captureAs:"N_ARGUMENT",components:{oneOf:[[{name:"variable",rule:"N_VARIABLE"},/=/,{name:"value",rule:"N_TERM"}],[{name:"type",oneOf:["N_NAMESPACE","T_STRING"]},{name:"variable",rule:"N_VARIABLE"},/=/,{name:"value",rule:"N_TERM"}],[{name:"type",oneOf:["N_NAMESPACE","T_STRING"]},{name:"variable",rule:"N_VARIABLE"}]]}},N_ARRAY_INDEX:{components:"N_EXPRESSION_LEVEL_2_A"},N_ARRAY_LITERAL:{components:["T_ARRAY",/\(/,{name:"elements",zeroOrMoreOf:[{oneOf:["N_KEY_VALUE_PAIR","N_EXPRESSION"]},{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/]},N_BOOLEAN:{components:{name:"bool",what:/true|false/i}},N_BREAK_STATEMENT:{components:["T_BREAK",{name:"levels",oneOf:["N_INTEGER","N_JUMP_ONE_LEVEL"]},/;/]},N_CASE:{components:["T_CASE",{name:"expression",what:"N_EXPRESSION"},/:/,{name:"body",zeroOrMoreOf:"N_STATEMENT"}]},N_CLASS_STATEMENT:{components:["T_CLASS",{name:"className",rule:"T_STRING"},{optionally:["T_EXTENDS",{name:"extend",oneOf:["N_NAMESPACE","T_STRING"]}]},{optionally:["T_IMPLEMENTS",{name:"implement",zeroOrMoreOf:[{oneOf:["N_NAMESPACE","T_STRING"]},{what:/(,|(?=\{))()/,captureIndex:2}]}]},/\{/,{name:"members",zeroOrMoreOf:{oneOf:["N_INSTANCE_PROPERTY_DEFINITION","N_STATIC_PROPERTY_DEFINITION","N_METHOD_DEFINITION","N_STATIC_METHOD_DEFINITION","N_CONSTANT_DEFINITION"]}},/\}/]},N_CLOSURE:{components:["T_FUNCTION",/\(/,{name:"args",zeroOrMoreOf:["N_ARGUMENT",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/,{oneOf:[["T_USE",/\(/,{name:"bindings",zeroOrMoreOf:["N_VARIABLE",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/],{name:"bindings",zeroOrMoreOf:{what:/(?!)/}}]},{name:"body",what:"N_STATEMENT"}]},N_COMMA_EXPRESSION:{components:{optionally:[{name:"expressions",zeroOrMoreOf:["N_EXPRESSION",{what:/(,|(?=[;\)]))()/,captureIndex:2}]},/(?=[;\)])/]}},N_COMPOUND_STATEMENT:{components:[/\{/,{name:"statements",zeroOrMoreOf:"N_STATEMENT"},/\}/]},N_CONSTANT_DEFINITION:{components:["T_CONST",{name:"constant",what:"T_STRING"},/=/,{name:"value",oneOf:["N_CLASS_CONSTANT","N_TERM"]},/;/]},N_CONTINUE_STATEMENT:{components:["T_CONTINUE",{name:"levels",oneOf:["N_INTEGER","N_JUMP_ONE_LEVEL"]},/;/]},N_DEFAULT_CASE:{components:["T_DEFAULT",/:/,{name:"body",zeroOrMoreOf:"N_STATEMENT"}]},N_ECHO_STATEMENT:{components:["T_ECHO",{name:"expression",what:"N_EXPRESSION"},/;/]},N_EMPTY_STATEMENT:{components:/;/},N_EXPRESSION:{components:{oneOf:["N_EXPRESSION_LEVEL_21"]}},N_EXPRESSION_LEVEL_0:{components:[{oneOf:["N_TERM",[/\(/,"N_EXPRESSION",/\)/]]}]},N_EXPRESSION_LEVEL_1_A:{captureAs:"N_NEW_EXPRESSION",components:{oneOf:[["T_NEW",{name:"className",oneOf:["N_NAMESPACED_REFERENCE","N_EXPRESSION_LEVEL_0"]},{optionally:[/\(/,{name:"args",zeroOrMoreOf:["N_EXPRESSION",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/]}],{name:"next",what:"N_EXPRESSION_LEVEL_0"}]},ifNoMatch:{component:"className",capture:"next"}},N_DO_WHILE_STATEMENT:{components:["T_DO",{name:"body",what:"N_STATEMENT"},"T_WHILE",/\(/,{name:"condition",what:"N_EXPRESSION"},/\)/,/;/]},N_EXPRESSION_LEVEL_1_B:{captureAs:"N_FUNCTION_CALL",components:{oneOf:[[{name:"func",oneOf:["N_NAMESPACED_REFERENCE","N_EXPRESSION_LEVEL_1_A"]},[/\(/,{name:"args",zeroOrMoreOf:["N_EXPRESSION",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/]],{name:"next",what:"N_EXPRESSION_LEVEL_1_A"}]},ifNoMatch:{component:"func",capture:"next"}},N_EXPRESSION_LEVEL_1_D:{captureAs:"N_UNARY_EXPRESSION",components:[{name:"operator",optionally:"T_CLONE"},{name:"operand",what:"N_EXPRESSION_LEVEL_1_B"}],ifNoMatch:{component:"operator",capture:"operand"},options:{prefix:true}},N_EXPRESSION_LEVEL_2_A:{captureAs:"N_CLASS_CONSTANT",components:{oneOf:[[{name:"className",oneOf:["N_NAMESPACED_REFERENCE","N_EXPRESSION_LEVEL_1_D"]},"T_DOUBLE_COLON",{name:"constant",what:["T_STRING",/(?!\()/]}],{name:"next",what:"N_EXPRESSION_LEVEL_1_D"}]},ifNoMatch:{component:"constant",capture:"next"}},N_CLASS_CONSTANT:"N_EXPRESSION_LEVEL_2_A",N_EMPTY_ARRAY_INDEX:{captureAs:"N_ARRAY_INDEX",components:{name:"indices",what:[/\[/,/\]/]},options:{indices:true}},N_EXPRESSION_LEVEL_2_B:{components:[{name:"expression",oneOf:["N_EXPRESSION_LEVEL_2_A","N_NAMESPACED_REFERENCE"]},{name:"member",zeroOrMoreOf:{oneOf:[{name:"array_index",oneOf:["N_EMPTY_ARRAY_INDEX",{name:"indices",oneOrMoreOf:[/\[/,{name:"index",what:"N_EXPRESSION"},/\]/]}]},{name:"method_call",what:{name:"calls",oneOrMoreOf:["T_OBJECT_OPERATOR",{name:"func",oneOf:["N_STRING","N_VARIABLE"]},/\(/,{name:"args",zeroOrMoreOf:["N_EXPRESSION",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/]}},{name:"object_property",what:{name:"properties",oneOrMoreOf:["T_OBJECT_OPERATOR",{name:"property",what:"N_INSTANCE_MEMBER"},/(?!\()/]}},{name:"static_method_call",what:["T_DOUBLE_COLON",{name:"method",oneOf:["N_STRING","N_VARIABLE","N_VARIABLE_EXPRESSION"]},/\(/,{name:"args",zeroOrMoreOf:["N_EXPRESSION",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/]},{name:"static_property",what:["T_DOUBLE_COLON",{name:"property",what:"N_STATIC_MEMBER"}]}]}}],processor:function(node){var result;if(!node||!node.expression){return node}result=node.expression;_.each(node.member,function(member){if(member.array_index){result={name:"N_ARRAY_INDEX",array:result,indices:member.array_index.indices}}else if(member.method_call){result={name:"N_METHOD_CALL",object:result,calls:member.method_call.calls}}else if(member.object_property){result={name:"N_OBJECT_PROPERTY",object:result,properties:member.object_property.properties}}else if(member.static_method_call){result={name:"N_STATIC_METHOD_CALL",className:result,method:member.static_method_call.method,args:member.static_method_call.args}}else if(member.static_property){result={name:"N_STATIC_PROPERTY",className:result,property:member.static_property.property}}});return result}},N_EXPRESSION_LEVEL_3_A:{oneOf:["N_UNARY_PREFIX_EXPRESSION","N_UNARY_SUFFIX_EXPRESSION","N_EXPRESSION_LEVEL_2_B"]},N_EXPRESSION_LEVEL_3_B:{oneOf:["N_ARRAY_CAST","N_EXPRESSION_LEVEL_3_A"]},N_ARRAY_CAST:{components:["T_ARRAY_CAST",{name:"value",rule:"N_EXPRESSION_LEVEL_3_A"}]},N_UNARY_PREFIX_EXPRESSION:{captureAs:"N_UNARY_EXPRESSION",components:[{name:"operator",oneOf:["T_INC","T_DEC",/~/]},{name:"operand",what:"N_EXPRESSION_LEVEL_2_B"}],ifNoMatch:{component:"operator",capture:"operand"},options:{prefix:true}},N_UNARY_SUFFIX_EXPRESSION:{captureAs:"N_UNARY_EXPRESSION",components:[{name:"operand",what:"N_EXPRESSION_LEVEL_2_B"},{name:"operator",oneOf:["T_INC","T_DEC"]}],ifNoMatch:{component:"operator",capture:"operand"},options:{prefix:false}},N_EXPRESSION_LEVEL_4:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_3_B"},{name:"right",zeroOrMoreOf:[{name:"operator",what:"T_INSTANCEOF"},{name:"operand",what:"N_EXPRESSION_LEVEL_3_B"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_5:{captureAs:"N_UNARY_EXPRESSION",components:[{name:"operator",optionally:/!/},{name:"operand",what:"N_EXPRESSION_LEVEL_4"}],ifNoMatch:{component:"operator",capture:"operand"},options:{prefix:true}},N_EXPRESSION_LEVEL_6:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_5"},{name:"right",zeroOrMoreOf:[{name:"operator",oneOf:[/\*/,/\//,/%/]},{name:"operand",what:"N_EXPRESSION_LEVEL_5"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_7_A:{captureAs:"N_UNARY_EXPRESSION",components:[{name:"operator",optionally:/([+-])(?!\1)/},{name:"operand",what:"N_EXPRESSION_LEVEL_6"}],ifNoMatch:{component:"operator",capture:"operand"},options:{prefix:true}},N_EXPRESSION_LEVEL_7_B:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_7_A"},{name:"right",zeroOrMoreOf:[{name:"operator",oneOf:[/\+/,/-/,/\./]},{name:"operand",what:"N_EXPRESSION_LEVEL_7_A"}]}],processor:function(node){if(!node.right){return node.left}return buildBinaryExpression(node.left,node.right)}},N_EXPRESSION_LEVEL_8:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_7_B"},{name:"right",zeroOrMoreOf:[{name:"operator",oneOf:["T_SL","T_SR"]},{name:"operand",what:"N_EXPRESSION_LEVEL_7_B"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_9:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_8"},{name:"right",zeroOrMoreOf:[{name:"operator",oneOf:["T_IS_SMALLER_OR_EQUAL",/</,"T_IS_GREATER_OR_EQUAL",/>/]},{name:"operand",what:"N_EXPRESSION"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_10:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_9"},{name:"right",wrapInArray:true,optionally:[{name:"operator",oneOf:["T_IS_IDENTICAL","T_IS_EQUAL","T_IS_NOT_IDENTICAL","T_IS_NOT_EQUAL"]},{name:"operand",what:"N_EXPRESSION"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_11:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_10"},{name:"right",zeroOrMoreOf:[{name:"operator",what:/&&/},{name:"operand",what:"N_EXPRESSION"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_12:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_11"},{name:"right",zeroOrMoreOf:[{name:"operator",what:/\^/},{name:"operand",what:"N_EXPRESSION_LEVEL_11"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_13:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_12"},{name:"right",zeroOrMoreOf:[{name:"operator",what:/\|/},{name:"operand",what:"N_EXPRESSION_LEVEL_12"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_14:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_13"},{name:"right",zeroOrMoreOf:[{name:"operator",what:/&/},{name:"operand",what:"N_EXPRESSION_LEVEL_13"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_15:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_14"},{name:"right",zeroOrMoreOf:[{name:"operator",what:/\|\|/},{name:"operand",what:"N_EXPRESSION"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_16:{captureAs:"N_TERNARY",components:[{name:"condition",what:"N_EXPRESSION_LEVEL_15"},{name:"options",zeroOrMoreOf:[/\?/,{name:"consequent",what:"N_EXPRESSION_LEVEL_15"},/:/,{name:"alternate",what:"N_EXPRESSION_LEVEL_15"}]}],ifNoMatch:{component:"options",capture:"condition"}},N_EXPRESSION_LEVEL_17_A:{captureAs:"N_EXPRESSION",components:{oneOf:[[{name:"left",what:"N_EXPRESSION_LEVEL_2_B"},{name:"right",oneOrMoreOf:[{name:"operator",what:/[+-]?=/},{name:"operand",what:"N_EXPRESSION_LEVEL_17_A"}]}],"N_EXPRESSION_LEVEL_16"]}},N_EXPRESSION_LEVEL_17_B:{captureAs:"N_PRINT_EXPRESSION",components:{oneOf:[["T_PRINT",{name:"operand",what:"N_EXPRESSION_LEVEL_17_A"}],{name:"next",what:"N_EXPRESSION_LEVEL_17_A"}]},ifNoMatch:{component:"operand",capture:"next"}},N_EXPRESSION_LEVEL_18:{captureAs:"N_EXPRESSION",components:[{name:"left",what:"N_EXPRESSION_LEVEL_17_B"},{name:"right",zeroOrMoreOf:[{name:"operator",what:"T_LOGICAL_AND"},{name:"operand",what:"N_EXPRESSION_LEVEL_17_B"}]}],ifNoMatch:{component:"right",capture:"left"}},N_EXPRESSION_LEVEL_19:{components:"N_EXPRESSION_LEVEL_18"},N_EXPRESSION_LEVEL_20:{components:"N_EXPRESSION_LEVEL_19"},N_EXPRESSION_LEVEL_21:{components:"N_EXPRESSION_LEVEL_20"},N_EXPRESSION_STATEMENT:{components:[{name:"expression",what:"N_EXPRESSION"},/;/]},N_FLOAT:{components:{name:"number",what:"T_DNUMBER"}},N_FOR_STATEMENT:{components:["T_FOR",/\(/,{name:"initializer",what:"N_COMMA_EXPRESSION"},/;/,{name:"condition",what:"N_COMMA_EXPRESSION"},/;/,{name:"update",what:"N_COMMA_EXPRESSION"},/\)/,{name:"body",what:"N_STATEMENT"}]},N_FOREACH_STATEMENT:{components:["T_FOREACH",/\(/,{name:"array",rule:"N_EXPRESSION"},"T_AS",{optionally:[{name:"key",oneOf:["N_ARRAY_INDEX","N_VARIABLE"]},"T_DOUBLE_ARROW"]},{name:"value",oneOf:["N_ARRAY_INDEX","N_VARIABLE"]},/\)/,{name:"body",what:"N_STATEMENT"}]},N_FUNCTION_STATEMENT:{components:["T_FUNCTION",{name:"func",what:"T_STRING"},/\(/,{name:"args",zeroOrMoreOf:["N_ARGUMENT",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/,{name:"body",what:"N_STATEMENT"}]},N_GOTO_STATEMENT:{components:["T_GOTO",{name:"label",what:"T_STRING"},/;/]},N_IF_STATEMENT:{components:["T_IF",/\(/,{name:"condition",what:"N_EXPRESSION"},/\)/,{name:"consequentStatement",what:"N_STATEMENT"},{optionally:[/else(\b|(?=if\b))/,{name:"alternateStatement",what:"N_STATEMENT"}]}]},N_IGNORE:{components:{oneOrMoreOf:{oneOf:["T_WHITESPACE","T_COMMENT","T_DOC_COMMENT"]}}},N_INCLUDE_EXPRESSION:{components:["T_INCLUDE",{name:"path",what:"N_EXPRESSION"}]},N_INLINE_HTML_STATEMENT:[{oneOf:["T_CLOSE_TAG","<BOF>"]},{name:"html",what:"T_INLINE_HTML"},{oneOf:["T_OPEN_TAG","<EOF>"]}],N_INSTANCE_MEMBER:{components:{oneOf:["N_STRING","N_VARIABLE",[/\{/,"N_EXPRESSION",/\}/]]}},N_INSTANCE_PROPERTY_DEFINITION:{components:[{name:"visibility",oneOf:["T_PUBLIC","T_PRIVATE","T_PROTECTED"]},{name:"variable",what:"N_VARIABLE"},{optionally:[/=/,{name:"value",what:"N_TERM"}]},/;/]},N_INTEGER:{components:{name:"number",what:"T_LNUMBER"}},N_INTERFACE_METHOD_DEFINITION:{components:[{name:"visibility",oneOf:["T_PUBLIC","T_PRIVATE","T_PROTECTED"]},"T_FUNCTION",{name:"func",what:"T_STRING"},/\(/,{name:"args",zeroOrMoreOf:["N_ARGUMENT",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/,/;/]},N_INTERFACE_STATEMENT:{components:["T_INTERFACE",{name:"interfaceName",rule:"T_STRING"},{optionally:["T_EXTENDS",{name:"extend",oneOf:["N_NAMESPACE","T_STRING"]}]},/\{/,{name:"members",zeroOrMoreOf:{oneOf:["N_INTERFACE_METHOD_DEFINITION","N_STATIC_INTERFACE_METHOD_DEFINITION","N_CONSTANT_DEFINITION","N_INSTANCE_PROPERTY_DEFINITION","N_STATIC_PROPERTY_DEFINITION","N_METHOD_DEFINITION","N_STATIC_METHOD_DEFINITION"]}},/\}/]},N_ISSET:{components:["T_ISSET",/\(/,{name:"variables",zeroOrMoreOf:["N_EXPRESSION",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/]},N_JUMP_ONE_LEVEL:{captureAs:"N_INTEGER",components:{name:"number",what:/()/},options:{number:"1"}},N_KEY_VALUE_PAIR:{components:[{name:"key",what:"N_EXPRESSION"},"T_DOUBLE_ARROW",{name:"value",what:"N_EXPRESSION"}]},N_LABEL_STATEMENT:{components:[{name:"label",what:[/(?!default\b)/i,"T_STRING"]},/:/]},N_LIST:{components:["T_LIST",/\(/,{name:"elements",zeroOrMoreOf:{oneOf:[[{oneOf:["N_VARIABLE","N_ARRAY_INDEX"]},{what:/(,|(?=\)))()/,captureIndex:2}],"N_VOID"]}},/\)/]},N_MAGIC_CONSTANT:{components:{oneOf:["N_MAGIC_DIR_CONSTANT","N_MAGIC_FILE_CONSTANT","N_MAGIC_LINE_CONSTANT"]}},N_MAGIC_DIR_CONSTANT:{components:{what:"T_DIR",replace:uppercaseReplacements,allowMerge:false}},N_MAGIC_FILE_CONSTANT:{components:{what:"T_FILE",replace:uppercaseReplacements,allowMerge:false}},N_MAGIC_LINE_CONSTANT:{components:{what:"T_LINE",replace:uppercaseReplacements,captureOffsetAs:"offset"}},N_METHOD_DEFINITION:{components:[{name:"visibility",optionally:{oneOf:["T_PUBLIC","T_PRIVATE","T_PROTECTED"]}},"T_FUNCTION",{name:"func",what:"T_STRING"},/\(/,{name:"args",zeroOrMoreOf:["N_ARGUMENT",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/,{name:"body",what:"N_STATEMENT"}],processor:function(node){if(!node.visibility){node.visibility="public"}return node}},N_NAMESPACE:{components:[/(?!(?:new|use)\b)/i,{optionally:"T_STRING"},{oneOrMoreOf:["T_NS_SEPARATOR","T_STRING"]}]},N_NAMESPACE_STATEMENT:{oneOf:["N_SEMICOLON_NAMESPACE_STATEMENT","N_BRACED_NAMESPACE_STATEMENT"]},N_SEMICOLON_NAMESPACE_STATEMENT:{captureAs:"N_NAMESPACE_STATEMENT",components:["T_NAMESPACE",{name:"namespace",oneOf:["N_NAMESPACE","T_STRING"]},/;/,{name:"statements",zeroOrMoreOf:"N_NAMESPACE_SCOPED_STATEMENT"}]},N_BRACED_NAMESPACE_STATEMENT:{captureAs:"N_NAMESPACE_STATEMENT",components:["T_NAMESPACE",{name:"namespace",oneOf:["N_NAMESPACE","T_STRING",/()/]},/\{/,{name:"statements",zeroOrMoreOf:"N_NAMESPACE_SCOPED_STATEMENT"},/\}/]},N_NAMESPACED_REFERENCE:{captureAs:"N_STRING",components:{name:"string",what:"N_NAMESPACE"}},N_NULL:{allowMerge:false,what:/null\b/i},N_PROGRAM:{components:[{optionally:"T_OPEN_TAG"},{name:"statements",zeroOrMoreOf:"N_STATEMENT"},{oneOf:["T_CLOSE_TAG",{what:"<EOF>"}]}]},N_RETURN_STATEMENT:{components:["T_RETURN",{name:"expression",optionally:"N_EXPRESSION"},/;/]},N_STATEMENT:{components:{oneOf:["N_NAMESPACE_SCOPED_STATEMENT","N_NAMESPACE_STATEMENT"]}},N_NAMESPACE_SCOPED_STATEMENT:{components:{oneOf:["N_COMPOUND_STATEMENT","N_RETURN_STATEMENT","N_INLINE_HTML_STATEMENT","N_EMPTY_STATEMENT","N_ECHO_STATEMENT","N_BREAK_STATEMENT","N_CONTINUE_STATEMENT","N_EXPRESSION_STATEMENT","N_FUNCTION_STATEMENT","N_IF_STATEMENT","N_FOREACH_STATEMENT","N_FOR_STATEMENT","N_WHILE_STATEMENT","N_DO_WHILE_STATEMENT","N_CLASS_STATEMENT","N_INTERFACE_STATEMENT","N_SWITCH_STATEMENT","N_LABEL_STATEMENT","N_GOTO_STATEMENT","N_USE_STATEMENT","N_THROW_STATEMENT"]}},N_REQUIRE_EXPRESSION:{components:["T_REQUIRE",{name:"path",what:"N_EXPRESSION"}]},N_REQUIRE_ONCE_EXPRESSION:{components:["T_REQUIRE_ONCE",{name:"path",what:"N_EXPRESSION"}]},N_SELF:{allowMerge:false,what:/self\b(?=\s*::)/},N_STATIC_INTERFACE_METHOD_DEFINITION:{components:[{oneOf:[[{name:"visibility",rule:"N_VISIBILITY"},"T_STATIC"],["T_STATIC",{name:"visibility",rule:"N_VISIBILITY"}],"T_STATIC"]},"T_FUNCTION",{name:"method",what:"T_STRING"},/\(/,{name:"args",zeroOrMoreOf:["N_ARGUMENT",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/,/;/]},N_STATIC_MEMBER:{components:{oneOf:["N_STATIC_VARIABLE","N_STATIC_VARIABLE_EXPRESSION"]}},N_STATIC_METHOD_DEFINITION:{components:[{oneOf:[[{name:"visibility",rule:"N_VISIBILITY"},"T_STATIC"],["T_STATIC",{name:"visibility",rule:"N_VISIBILITY"}],"T_STATIC"]},"T_FUNCTION",{name:"method",what:"T_STRING"},/\(/,{name:"args",zeroOrMoreOf:["N_ARGUMENT",{what:/(,|(?=\)))()/,captureIndex:2}]},/\)/,{name:"body",what:"N_STATEMENT"}]},N_STATIC_VARIABLE:{captureAs:"N_STRING",components:{name:"string",rule:"T_VARIABLE"}},N_STATIC_VARIABLE_EXPRESSION:{oneOf:[[/\$/,"N_VARIABLE"],[/\$\{/,"N_EXPRESSION",/\}/]]},N_STATIC_PROPERTY_DEFINITION:{components:[{oneOf:[[{name:"visibility",rule:"N_VISIBILITY"},"T_STATIC"],["T_STATIC",{name:"visibility",rule:"N_VISIBILITY"}],"T_STATIC"]},{name:"variable",what:"N_VARIABLE"},{optionally:[/=/,{name:"value",what:"N_TERM"}]},/;/]},N_STRING:{components:{name:"string",what:"T_STRING"}},N_STRING_EXPRESSION:{components:[/"/,{name:"parts",oneOrMoreOf:{oneOf:["N_STRING_VARIABLE","N_STRING_VARIABLE_EXPRESSION","N_STRING_TEXT"]}},/"/]},N_STRING_LITERAL:{components:{oneOf:[{name:"string",what:"T_CONSTANT_ENCAPSED_STRING"},"N_STRING_EXPRESSION"]}},N_STRING_TEXT:{captureAs:"N_STRING_LITERAL",components:{name:"string",what:/(?:[^\\"\$]|\\[\s\S]|\$(?=\$))+/,ignoreWhitespace:false,replace:stringEscapeReplacements}},N_STRING_VARIABLE:{captureAs:"N_VARIABLE",components:[{oneOf:[{name:"variable",what:"T_VARIABLE"},{name:"variable",what:/\$\{([a-z0-9_]+)\}/i,captureIndex:1}]}]},N_STRING_VARIABLE_EXPRESSION:{captureAs:"N_VARIABLE_EXPRESSION",components:[{oneOf:[{name:"expression",what:[/\$\{(?=\$)/,"N_VARIABLE",/\}/]}]}]},N_SWITCH_STATEMENT:{components:["T_SWITCH",/\(/,{name:"expression",what:"N_EXPRESSION"},/\)/,/\{/,{name:"cases",zeroOrMoreOf:{oneOf:["N_CASE","N_DEFAULT_CASE"]}},/\}/]},N_TERM:{components:{oneOf:["N_VARIABLE","N_FLOAT","N_INTEGER","N_BOOLEAN","N_STRING_LITERAL","N_ARRAY_LITERAL","N_LIST","N_ISSET","N_CLOSURE","N_MAGIC_CONSTANT","N_REQUIRE_EXPRESSION","N_REQUIRE_ONCE_EXPRESSION","N_INCLUDE_EXPRESSION","N_SELF","N_NULL","N_NAMESPACED_REFERENCE","N_STRING"]}},N_THROW_STATEMENT:{components:["T_THROW",{name:"expression",rule:"N_EXPRESSION"},/;/]},N_USE_STATEMENT:{components:["T_USE",{name:"uses",oneOrMoreOf:[{name:"source",oneOf:["N_NAMESPACE","T_STRING"]},{optionally:["T_AS",{name:"alias",what:"T_STRING"}]}]},/;/]},N_VARIABLE:{components:[{optionally:{name:"reference",what:/&/}},{oneOf:[{name:"variable",what:"T_VARIABLE"},{name:"variable",what:/\$\{([a-z0-9_]+)\}/i,captureIndex:1}]}]},N_VARIABLE_EXPRESSION:{components:{name:"expression",rule:"N_STATIC_VARIABLE_EXPRESSION"}},N_VISIBILITY:{oneOf:["T_PUBLIC","T_PRIVATE","T_PROTECTED"]},N_VOID:{components:{name:"value",what:/,()/,captureIndex:1}},N_WHILE_STATEMENT:{components:["T_WHILE",/\(/,{name:"condition",what:"N_EXPRESSION"},/\)/,/\{/,{name:"statements",zeroOrMoreOf:"N_STATEMENT"},/\}/]}},start:"N_PROGRAM"}},{"./ErrorHandler":153,"./State":155,microdash:27}],157:[function(require,module,exports){"use strict";var transpiler=require("transpiler"),spec=require("./src/transpilerSpec");module.exports=transpiler.create(spec)},{"./src/transpilerSpec":159,transpiler:162}],158:[function(require,module,exports){"use strict";var _=require("microdash"),util=require("util"),EventEmitter=require("events").EventEmitter;function LabelRepository(){EventEmitter.call(this);this.foundLabels={};this.labels={};this.pendingLabels={}}util.inherits(LabelRepository,EventEmitter);_.extend(LabelRepository.prototype,{addPending:function(label){var repository=this;repository.labels[label]=true;repository.pendingLabels[label]=true;repository.emit("pending label",label)},found:function(label){var repository=this;repository.foundLabels[label]=true;repository.labels[label]=true;delete repository.pendingLabels[label];repository.emit("found label",label)},getLabels:function(){return Object.keys(this.labels)},hasBeenFound:function(label){var repository=this;return repository.foundLabels[label]===true},hasPending:function(){return Object.keys(this.pendingLabels).length>0},isPending:function(label){return this.pendingLabels[label]===true},off:function(name,listener){this.removeListener(name,listener)}});module.exports=LabelRepository},{events:25,microdash:27,util:172}],159:[function(require,module,exports){"use strict";var _=require("microdash"),BARE="bare",RUNTIME_PATH="runtimePath",SYNC="sync",binaryOperatorToMethod={"+":"add","-":"subtract","*":"multiply","/":"divide",".":"concat","<<":"shiftLeftBy",">>":"shiftRightBy","+=":"incrementBy","-=":"decrementBy","==":"isEqualTo","!=":"isNotEqualTo","===":"isIdenticalTo","!==":"isNotIdenticalTo","<":"isLessThan","=":{false:"setValue",true:"setReference"}},hasOwn={}.hasOwnProperty,unaryOperatorToMethod={prefix:{"+":"toPositive","-":"toNegative","++":"preIncrement","--":"preDecrement","~":"onesComplement","!":"logicalNot"},suffix:{"++":"postIncrement","--":"postDecrement"}},LabelRepository=require("./LabelRepository"),PHPFatalError=require("phpcommon").PHPFatalError;function hoistDeclarations(statements){var declarations=[],nonDeclarations=[];_.each(statements,function(statement){if(/^N_(CLASS|FUNCTION)_STATEMENT$/.test(statement.name)){declarations.push(statement)}else{nonDeclarations.push(statement)}});return declarations.concat(nonDeclarations)}function interpretFunction(argNodes,bindingNodes,statementNode,interpret){var args=[],argumentAssignments="",bindingAssignments="",body=interpret(statementNode);_.each(bindingNodes,function(bindingNode){var methodSuffix=bindingNode.reference?"Reference":"Value",variableName=bindingNode.variable;bindingAssignments+='scope.getVariable("'+variableName+'").set'+methodSuffix+'(parentScope.getVariable("'+variableName+'").get'+methodSuffix+"());"});_.each(argNodes,function(argNode,index){var valueCode="$",variable;if(argNode.name==="N_ARGUMENT"){variable=argNode.variable.variable;valueCode+=variable;if(argNode.value){valueCode+=" || "+interpret(argNode.value)}}else{variable=argNode.variable;valueCode+=variable;if(!argNode.reference){valueCode+=".getValue()"}}if(argNode.reference){argumentAssignments+='scope.getVariable("'+variable+'").setReference('+valueCode+".getReference());"}else{argumentAssignments+='scope.getVariable("'+variable+'").setValue('+valueCode+");"}args[index]="$"+variable});body=argumentAssignments+bindingAssignments+body;body="var scope = tools.pushCall(this, currentClass).getScope(); try { "+body+" } finally { tools.popCall(); }";body="function ("+args.join(", ")+") {"+body+"}";if(bindingNodes&&bindingNodes.length>0){body="(function (parentScope) { return "+body+"; }(scope))"}return body}function processBlock(statements,interpret,context){var code="",labelRepository=context.labelRepository,statementDatas=[];_.each(statements,function(statement){var labels={},gotos={},statementCode;function onPendingLabel(label){gotos[label]=true}function onFoundLabel(label){labels[label]=true}labelRepository.on("pending label",onPendingLabel);labelRepository.on("found label",onFoundLabel);statementCode=interpret(statement,context);labelRepository.off("pending label",onPendingLabel);labelRepository.off("found label",onFoundLabel);statementDatas.push({code:statementCode,gotos:gotos,labels:labels,prefix:"",suffix:""})});_.each(statementDatas,function(statementData,index){if(index>0){_.each(Object.keys(statementData.labels),function(label){statementDatas[0].prefix="if (!"+"goingToLabel_"+label+") {"+statementDatas[0].prefix;statementData.prefix="}"+statementData.prefix})}});_.each(statementDatas,function(statementData,statementIndex){_.each(Object.keys(statementData.gotos),function(label){if(!hasOwn.call(statementData.labels,label)){_.each(statementDatas,function(otherStatementData,otherStatementIndex){if(otherStatementData!==statementData){if(hasOwn.call(otherStatementData.labels,label)){if(otherStatementIndex>statementIndex){statementData.prefix=label+": {"+statementData.prefix;otherStatementData.prefix="}"+otherStatementData.prefix}else{otherStatementData.prefix+="continue_"+label+": do {";statementData.suffix+="} while (goingToLabel_"+label+");"}}}})}})});_.each(statementDatas,function(statementData){code+=statementData.prefix+statementData.code+statementData.suffix});return code}module.exports={nodes:{N_ARRAY_CAST:function(node,interpret){return interpret(node.value,{getValue:true})+".coerceToArray()"},N_ARRAY_INDEX:function(node,interpret,context){var arrayVariableCode,indexValues=[],suffix="";if(node.indices!==true){_.each(node.indices,function(index){indexValues.push(interpret(index.index,{assignment:false,getValue:true}))})}if(context.assignment){arrayVariableCode="tools.implyArray("+interpret(node.array,{getValue:false})+")"}else{suffix=".getValue()";arrayVariableCode=interpret(node.array,{getValue:true})}if(indexValues.length>0){if(context.assignment){_.each(indexValues.slice(0,-1),function(){arrayVariableCode="tools.implyArray("+arrayVariableCode});return arrayVariableCode+".getElementByKey("+indexValues.join(")).getElementByKey(")+")"+suffix}return arrayVariableCode+".getElementByKey("+indexValues.join(").getValue().getElementByKey(")+")"+suffix}return arrayVariableCode+".getElementByKey(tools.valueFactory.createInteger("+arrayVariableCode+".getLength()))"+suffix},N_ARRAY_LITERAL:function(node,interpret){var elementValues=[];_.each(node.elements,function(element){elementValues.push(interpret(element))});return"tools.valueFactory.createArray(["+elementValues.join(", ")+"])"},N_BOOLEAN:function(node){return"tools.valueFactory.createBoolean("+node.bool+")"},N_BREAK_STATEMENT:function(node,interpret,context){return"break switch_"+(context.switchCase.depth-(node.levels.number-1))+";"},N_CASE:function(node,interpret,context){var body="";_.each(node.body,function(statement){body+=interpret(statement)});return"if (switchMatched_"+context.switchCase.depth+" || switchExpression_"+context.switchCase.depth+".isEqualTo("+interpret(node.expression)+").getNative()) {switchMatched_"+context.switchCase.depth+" = true; "+body+"}"},N_CLASS_CONSTANT:function(node,interpret){return interpret(node.className,{getValue:true,allowBareword:true})+".getConstantByName("+JSON.stringify(node.constant)+", namespaceScope)"},N_CLASS_STATEMENT:function(node,interpret){var code,constantCodes=[],methodCodes=[],propertyCodes=[],staticPropertyCodes=[],superClass=node.extend?"namespaceScope.getClass("+JSON.stringify(node.extend)+")":"null",interfaces=JSON.stringify(node.implement||[]);_.each(node.members,function(member){var data=interpret(member,{inClass:true});if(member.name==="N_INSTANCE_PROPERTY_DEFINITION"){propertyCodes.push('"'+data.name+'": '+data.value)}else if(member.name==="N_STATIC_PROPERTY_DEFINITION"){staticPropertyCodes.push('"'+data.name+'": {visibility: '+data.visibility+", value: "+data.value+"}")}else if(member.name==="N_METHOD_DEFINITION"||member.name==="N_STATIC_METHOD_DEFINITION"){methodCodes.push('"'+data.name+'": '+data.body)}else if(member.name==="N_CONSTANT_DEFINITION"){constantCodes.push('"'+data.name+'": '+data.value)}});code="{superClass: "+superClass+", interfaces: "+interfaces+", staticProperties: {"+staticPropertyCodes.join(", ")+"}, properties: {"+propertyCodes.join(", ")+"}, methods: {"+methodCodes.join(", ")+"}, constants: {"+constantCodes.join(", ")+"}}";return"(function () {var currentClass = namespace.defineClass("+JSON.stringify(node.className)+", "+code+", namespaceScope);}());"},N_CLOSURE:function(node,interpret){var func=interpretFunction(node.args,node.bindings,node.body,interpret);return"tools.createClosure("+func+", scope)"},N_COMMA_EXPRESSION:function(node,interpret){var expressionCodes=[];_.each(node.expressions,function(expression){expressionCodes.push(interpret(expression))});return expressionCodes.join(",")},N_COMPOUND_STATEMENT:function(node,interpret,context){return processBlock(node.statements,interpret,context)},N_CONSTANT_DEFINITION:function(node,interpret){return{name:node.constant,value:"function () { return "+(node.value?interpret(node.value):"null")+"; }"}},N_CONTINUE_STATEMENT:function(node,interpret,context){return"break switch_"+(context.switchCase.depth-(node.levels.number-1))+";"},N_DEFAULT_CASE:function(node,interpret,context){var body="";_.each(node.body,function(statement){body+=interpret(statement)});return"if (!switchMatched_"+context.switchCase.depth+") {switchMatched_"+context.switchCase.depth+" = true; "+body+"}"},N_DO_WHILE_STATEMENT:function(node,interpret){var code=interpret(node.body);return"do {"+code+"} while ("+interpret(node.condition)+".coerceToBoolean().getNative());"},N_ECHO_STATEMENT:function(node,interpret){return"stdout.write("+interpret(node.expression)+".coerceToString().getNative());"},N_EXPRESSION:function(node,interpret){var isAssignment=/^[+-]?=$/.test(node.right[0].operator),expressionEnd="",expressionStart=interpret(node.left,{assignment:isAssignment,getValue:!isAssignment});_.each(node.right,function(operation,index){var getValueIfApplicable,isReference=false,method,rightOperand,valuePostProcess="";if(isAssignment&&operation.operand.reference){isReference=true;valuePostProcess=".getReference()"}getValueIfApplicable=(!isAssignment||index===node.right.length-1)&&!isReference;rightOperand=interpret(operation.operand,{getValue:getValueIfApplicable});if(operation.operator==="&&"){expressionStart="tools.valueFactory.createBoolean("+expressionStart+".coerceToBoolean().getNative() && ("+rightOperand+valuePostProcess+".coerceToBoolean().getNative()";expressionEnd+="))"}else{method=binaryOperatorToMethod[operation.operator];if(!method){throw new Error('Unsupported binary operator "'+operation.operator+'"')}if(_.isPlainObject(method)){method=method[isReference]}expressionStart+="."+method+"("+rightOperand+valuePostProcess;expressionEnd+=")"}});return expressionStart+expressionEnd},N_EXPRESSION_STATEMENT:function(node,interpret){return interpret(node.expression)+";"},N_FLOAT:function(node){return"tools.valueFactory.createFloat("+node.number+")"},N_FOR_STATEMENT:function(node,interpret){
var bodyCode=interpret(node.body),conditionCode=interpret(node.condition),initializerCode=interpret(node.initializer),updateCode=interpret(node.update);if(conditionCode){conditionCode+=".coerceToBoolean().getNative()"}return"for ("+initializerCode+";"+conditionCode+";"+updateCode+") {"+bodyCode+"}"},N_FOREACH_STATEMENT:function(node,interpret,context){var arrayValue=interpret(node.array),arrayVariable,code="",key=node.key?interpret(node.key,{getValue:false}):null,lengthVariable,pointerVariable,value=interpret(node.value,{getValue:false});if(!context.foreach){context.foreach={depth:0}}else{context.foreach.depth++}arrayVariable="array_"+context.foreach.depth;code+="var "+arrayVariable+" = "+arrayValue+".reset();";lengthVariable="length_"+context.foreach.depth;code+="var "+lengthVariable+" = "+arrayVariable+".getLength();";pointerVariable="pointer_"+context.foreach.depth;code+="var "+pointerVariable+" = 0;";code+="while ("+pointerVariable+" < "+lengthVariable+") {";if(key){code+=key+".setValue("+arrayVariable+".getKeyByIndex("+pointerVariable+"));"}code+=value+".set"+(node.value.reference?"Reference":"Value")+"("+arrayVariable+".getElementByIndex("+pointerVariable+")"+(node.value.reference?"":".getValue()")+");";code+=pointerVariable+"++;";code+=interpret(node.body);code+="}";return code},N_FUNCTION_STATEMENT:function(node,interpret,context){var func;context.labelRepository=new LabelRepository;func=interpretFunction(node.args,null,node.body,interpret);return"namespace.defineFunction("+JSON.stringify(node.func)+", "+func+");"},N_FUNCTION_CALL:function(node,interpret){var args=[];_.each(node.args,function(arg){args.push(interpret(arg,{getValue:false}))});return"("+interpret(node.func,{getValue:true,allowBareword:true})+".call(["+args.join(", ")+"], namespaceScope) || tools.valueFactory.createNull())"},N_GOTO_STATEMENT:function(node,interpret,context){var code="",label=node.label;context.labelRepository.addPending(label);code+="goingToLabel_"+label+" = true;";if(context.labelRepository.hasBeenFound(label)){code+=" continue continue_"+label+";"}else{code+=" break "+label+";"}return code},N_IF_STATEMENT:function(node,interpret,context){var alternateCode,code="",conditionCode=interpret(node.condition)+".coerceToBoolean().getNative()",consequentCode,consequentPrefix="",gotosJumpingIn={},labelRepository=context.labelRepository;function onPendingLabel(label){delete gotosJumpingIn[label]}function onFoundLabel(label){gotosJumpingIn[label]=true}labelRepository.on("pending label",onPendingLabel);labelRepository.on("found label",onFoundLabel);consequentCode=interpret(node.consequentStatement);labelRepository.off("pending label",onPendingLabel);labelRepository.off("found label",onFoundLabel);_.each(Object.keys(gotosJumpingIn),function(label){conditionCode="goingToLabel_"+label+" || ("+conditionCode+")"});consequentCode="{"+consequentPrefix+consequentCode+"}";alternateCode=node.alternateStatement?" else "+interpret(node.alternateStatement):"";code+="if ("+conditionCode+") "+consequentCode+alternateCode;return code},N_INCLUDE_EXPRESSION:function(node,interpret){return"tools.include("+interpret(node.path)+".getNative())"},N_INLINE_HTML_STATEMENT:function(node){return"stdout.write("+JSON.stringify(node.html)+");"},N_INSTANCE_PROPERTY_DEFINITION:function(node,interpret){return{name:node.variable.variable,value:node.value?interpret(node.value):"null"}},N_INTEGER:function(node){return"tools.valueFactory.createInteger("+node.number+")"},N_INTERFACE_METHOD_DEFINITION:function(node,interpret){return{name:interpret(node.func),body:"{isStatic: false, abstract: true}"}},N_INTERFACE_STATEMENT:function(node,interpret){var code,constantCodes=[],methodCodes=[],superClass=node.extend?"namespaceScope.getClass("+JSON.stringify(node.extend)+")":"null";_.each(node.members,function(member){var data=interpret(member,{inClass:true});if(member.name==="N_INSTANCE_PROPERTY_DEFINITION"||member.name==="N_STATIC_PROPERTY_DEFINITION"){throw new PHPFatalError(PHPFatalError.INTERFACE_PROPERTY_NOT_ALLOWED)}else if(member.name==="N_METHOD_DEFINITION"||member.name==="N_STATIC_METHOD_DEFINITION"){throw new PHPFatalError(PHPFatalError.INTERFACE_METHOD_BODY_NOT_ALLOWED,{className:node.interfaceName,methodName:member.func||member.method})}else if(member.name==="N_INTERFACE_METHOD_DEFINITION"||member.name==="N_STATIC_INTERFACE_METHOD_DEFINITION"){methodCodes.push('"'+data.name+'": '+data.body)}else if(member.name==="N_CONSTANT_DEFINITION"){constantCodes.push('"'+data.name+'": '+data.value)}});code="{superClass: "+superClass+", staticProperties: {}, properties: {}, methods: {"+methodCodes.join(", ")+"}, constants: {"+constantCodes.join(", ")+"}}";return"(function () {var currentClass = namespace.defineClass("+JSON.stringify(node.interfaceName)+", "+code+", namespaceScope);}());"},N_INTERFACE_STATIC_METHOD_DEFINITION:function(node,interpret){return{name:interpret(node.func),body:"{isStatic: false, abstract: true}"}},N_ISSET:function(node,interpret){var issets=[];_.each(node.variables,function(variable){issets.push(interpret(variable,{getValue:false})+".isSet()")});return"(function (scope) {scope.suppressErrors();"+"var result = tools.valueFactory.createBoolean("+issets.join(" && ")+");"+"scope.unsuppressErrors(); return result;}(scope))"},N_KEY_VALUE_PAIR:function(node,interpret){return"tools.createKeyValuePair("+interpret(node.key)+", "+interpret(node.value)+")"},N_LABEL_STATEMENT:function(node,interpret,context){var label=node.label;context.labelRepository.found(label);return""},N_LIST:function(node,interpret){var elementsCodes=[];_.each(node.elements,function(element){elementsCodes.push(interpret(element,{getValue:false}))});return"tools.createList(["+elementsCodes.join(",")+"])"},N_MAGIC_DIR_CONSTANT:function(){return"tools.getPathDirectory()"},N_MAGIC_FILE_CONSTANT:function(){return"tools.getPath()"},N_MAGIC_LINE_CONSTANT:function(node){return"tools.valueFactory.createInteger("+node.offset.line+")"},N_METHOD_CALL:function(node,interpret){var code="";_.each(node.calls,function(call){var args=[];_.each(call.args,function(arg){args.push(interpret(arg))});code+=".callMethod("+interpret(call.func,{allowBareword:true})+".getNative(), ["+args.join(", ")+"])"});return interpret(node.object,{getValue:true})+code},N_METHOD_DEFINITION:function(node,interpret){return{name:interpret(node.func),body:"{isStatic: false, method: "+interpretFunction(node.args,null,node.body,interpret)+"}"}},N_NAMESPACE_STATEMENT:function(node,interpret){var body="";_.each(hoistDeclarations(node.statements),function(statement){body+=interpret(statement)});if(node.namespace===""){return body}return"if (namespaceResult = (function (globalNamespace) {var namespace = globalNamespace.getDescendant("+JSON.stringify(node.namespace)+"), namespaceScope = tools.createNamespaceScope(namespace);"+body+"}(namespace))) { return namespaceResult; }"},N_NEW_EXPRESSION:function(node,interpret){var args=[];_.each(node.args,function(arg){args.push(interpret(arg))});return"tools.createInstance(namespaceScope, "+interpret(node.className,{allowBareword:true})+", ["+args.join(", ")+"])"},N_NULL:function(){return"tools.valueFactory.createNull()"},N_OBJECT_PROPERTY:function(node,interpret,context){var objectVariableCode,propertyCode="",suffix="";if(context.assignment){objectVariableCode="tools.implyObject("+interpret(node.object,{getValue:false})+")"}else{suffix=".getValue()";objectVariableCode=interpret(node.object,{getValue:true})}_.each(node.properties,function(property,index){var nameValue=interpret(property.property,{assignment:false,getValue:false,allowBareword:true});propertyCode+=".getInstancePropertyByName("+nameValue+")";if(index<node.properties.length-1){propertyCode+=".getValue()"}});return objectVariableCode+propertyCode+suffix},N_PRINT_EXPRESSION:function(node,interpret){return"(stdout.write("+interpret(node.operand,{getValue:true})+".coerceToString().getNative()), tools.valueFactory.createInteger(1))"},N_PROGRAM:function(node,interpret,options){var body="",context={labelRepository:new LabelRepository},labels,name;options=_.extend({runtimePath:"phpruntime"},options);name=options[RUNTIME_PATH];if(options[SYNC]){name+="/sync"}body+=processBlock(hoistDeclarations(node.statements),interpret,context);labels=context.labelRepository.getLabels();if(labels.length>0){body="var goingToLabel_"+labels.join(" = false, goingToLabel_")+" = false;"+body}body="var namespaceScope = tools.createNamespaceScope(namespace), namespaceResult, scope = tools.globalScope, currentClass = null;"+body;body+="return tools.valueFactory.createNull();";body="function (stdin, stdout, stderr, tools, namespace) {"+body+"}";if(options[BARE]!==true){body="require('"+name+"').compile("+body+");"}return body},N_REQUIRE_EXPRESSION:function(node,interpret){return"tools.require("+interpret(node.path)+".getNative())"},N_REQUIRE_ONCE_EXPRESSION:function(node,interpret){return"tools.requireOnce("+interpret(node.path)+".getNative())"},N_RETURN_STATEMENT:function(node,interpret){var expression=interpret(node.expression);return"return "+(expression?expression:"tools.valueFactory.createNull()")+";"},N_SELF:function(node,interpret,context){if(context.inClass){return"tools.valueFactory.createString(currentClass.getUnprefixedName())"}return"tools.throwNoActiveClassScope()"},N_STATIC_METHOD_CALL:function(node,interpret){var args=[];_.each(node.args,function(arg){args.push(interpret(arg))});return interpret(node.className,{allowBareword:true})+".callStaticMethod("+interpret(node.method,{allowBareword:true})+", ["+args.join(", ")+"], namespaceScope)"},N_STATIC_METHOD_DEFINITION:function(node,interpret){return{name:interpret(node.method),body:"{isStatic: true, method: "+interpretFunction(node.args,null,node.body,interpret)+"}"}},N_STATIC_PROPERTY:function(node,interpret,context){var classVariableCode=interpret(node.className,{getValue:true,allowBareword:true}),propertyCode=".getStaticPropertyByName("+interpret(node.property,{assignment:false,getValue:true,allowBareword:true})+", namespaceScope)",suffix="";if(!context.assignment){suffix=".getValue()"}return classVariableCode+propertyCode+suffix},N_STATIC_PROPERTY_DEFINITION:function(node,interpret){return{name:node.variable.variable,visibility:JSON.stringify(node.visibility),value:node.value?interpret(node.value):"tools.valueFactory.createNull()"}},N_STRING:function(node,interpret,context){if(context.allowBareword){return"tools.valueFactory.createBarewordString("+JSON.stringify(node.string)+")"}return"namespaceScope.getConstant("+JSON.stringify(node.string)+")"},N_STRING_EXPRESSION:function(node,interpret){var codes=[];_.each(node.parts,function(part){codes.push(interpret(part)+".coerceToString().getNative()")});return"tools.valueFactory.createString("+codes.join(" + ")+")"},N_STRING_LITERAL:function(node){return"tools.valueFactory.createString("+JSON.stringify(node.string)+")"},N_SWITCH_STATEMENT:function(node,interpret,context){var code="",expressionCode=interpret(node.expression),switchCase={depth:context.switchCase?context.switchCase.depth+1:0},subContext={switchCase:switchCase};code+="var switchExpression_"+switchCase.depth+" = "+expressionCode+","+" switchMatched_"+switchCase.depth+" = false;";_.each(node.cases,function(caseNode){code+=interpret(caseNode,subContext)});return"switch_"+switchCase.depth+": {"+code+"}"},N_TERNARY:function(node,interpret){var expression="("+interpret(node.condition)+")";_.each(node.options,function(option){expression="("+expression+".coerceToBoolean().getNative() ? "+interpret(option.consequent)+" : "+interpret(option.alternate)+")"});return expression},N_THROW_STATEMENT:function(node,interpret){return"throw "+interpret(node.expression)+";"},N_UNARY_EXPRESSION:function(node,interpret){var operator=node.operator,operand=interpret(node.operand,{getValue:operator!=="++"&&operator!=="--"});return operand+"."+unaryOperatorToMethod[node.prefix?"prefix":"suffix"][operator]+"()"},N_USE_STATEMENT:function(node){var code="";_.each(node.uses,function(use){if(use.alias){code+="namespaceScope.use("+JSON.stringify(use.source)+", "+JSON.stringify(use.alias)+");"}else{code+="namespaceScope.use("+JSON.stringify(use.source)+");"}});return code},N_VARIABLE:function(node,interpret,context){return'scope.getVariable("'+node.variable+'")'+(context.getValue!==false?".getValue()":"")},N_VARIABLE_EXPRESSION:function(node,interpret,context){return"scope.getVariable("+interpret(node.expression)+".getNative())"+(context.getValue!==false?".getValue()":"")},N_VOID:function(){return"tools.referenceFactory.createNull()"},N_WHILE_STATEMENT:function(node,interpret,context){var code="";context.labelRepository.on("found label",function(){throw new PHPFatalError(PHPFatalError.GOTO_DISALLOWED)});_.each(node.statements,function(statement){code+=interpret(statement)});return"while ("+interpret(node.condition)+".coerceToBoolean().getNative()) {"+code+"}"}}}},{"./LabelRepository":158,microdash:27,phpcommon:94}],160:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],161:[function(require,module,exports){"use strict";var hasOwn={}.hasOwnProperty;function templateString(string,variables){if(!variables){return string}return string.replace(/\$\{([^}]+)}/g,function(all,name){if(hasOwn.call(variables,name)){return variables[name]}return all})}module.exports=templateString},{}],162:[function(require,module,exports){"use strict";var Library=require("./src/Library"),Transpiler=require("./src/Transpiler");module.exports=new Library(Transpiler)},{"./src/Library":163,"./src/Transpiler":164}],163:[function(require,module,exports){"use strict";var _=require("microdash");function Library(Transpiler){this.Transpiler=Transpiler}_.extend(Library.prototype,{create:function(spec){return new this.Transpiler(spec)}});module.exports=Library},{microdash:27}],164:[function(require,module,exports){"use strict";var _=require("microdash"),hasOwn={}.hasOwnProperty;function Transpiler(spec){this.spec=spec}_.extend(Transpiler.prototype,{transpile:function(node,data){var transpiler=this,nodeName,spec=transpiler.spec;if(!hasOwn.call(node,"name")){throw new Error("Transpiler.transpile() :: Invalid AST node provided")}if(arguments.length===1){data=null}nodeName=node.name;if(!hasOwn.call(spec.nodes,nodeName)){throw new Error('Transpiler.transpile() :: Spec does not define how to handle node "'+nodeName+'"')}return spec.nodes[nodeName].call(transpiler,node,function(node,newData){if(arguments.length===1){newData=data}else if(newData&&typeof newData==="object"){newData=_.extend({},data,newData)}if(_.isString(node)){return node}else{return transpiler.transpile(node,newData)}},data)}});module.exports=Transpiler},{microdash:27}],165:[function(require,module,exports){"use strict";var phpRuntime=require("phpruntime"),phpToAST=require("phptoast"),phpToJS=require("phptojs"),Uniter=require("./js/Uniter");module.exports=new Uniter(phpToAST,phpToJS,phpRuntime)},{"./js/Uniter":169,phpruntime:142,phptoast:152,phptojs:157}],166:[function(require,module,exports){"use strict";var _=require("microdash"),phpCommon=require("phpcommon"),PHPError=phpCommon.PHPError,Promise=require("./Promise");function Engine(phpParser,phpToJS,phpRuntime,environment,options){this.environment=environment;this.options=options||{};this.phpParser=phpParser;this.phpRuntime=phpRuntime;this.phpToJS=phpToJS}_.extend(Engine.prototype,{configure:function(options){_.extend(this.options,options)},execute:function(code,path){var engine=this,module,options,promise=new Promise,subEngine,wrapper;path=path||null;options=_.extend({},engine.options,{path:path});try{code="return "+engine.phpToJS.transpile(engine.phpParser.parse(code),{bare:true})+";"}catch(error){if(path===null&&error instanceof PHPError){engine.getStderr().write(error.message)}return promise.reject(error)}wrapper=new Function(code)();module=engine.phpRuntime.compile(wrapper);subEngine=module(options,engine.environment);subEngine.execute().then(function(resultValue){promise.resolve(resultValue.getNative(),resultValue.getType(),resultValue)},function(error){promise.reject(error)});return promise},expose:function(object,name){this.environment.expose(object,name)},getStderr:function(){return this.environment.getStderr()},getStdin:function(){return this.environment.getStdin()},getStdout:function(){return this.environment.getStdout()}});module.exports=Engine},{"./Promise":167,microdash:27,phpcommon:94}],167:[function(require,module,exports){"use strict";var _=require("microdash"),slice=[].slice,util=require("util"),SimplePromise=require("./SimplePromise"),parent=SimplePromise.prototype;function Promise(){SimplePromise.call(this)}util.inherits(Promise,SimplePromise);_.extend(Promise.prototype,{always:function(callback){return this.then(callback,callback)},done:function(callback){return this.then(callback)},fail:function(callback){return this.then(null,callback)},resolve:function(){return parent.resolve.call(this,slice.call(arguments))},then:function(onResolve,onReject){return parent.then.call(this,onResolve?function(args){onResolve.apply(null,args)}:null,onReject)}});module.exports=Promise},{"./SimplePromise":168,microdash:27,util:172}],168:[function(require,module,exports){"use strict";var _=require("microdash"),PENDING=0,REJECTED=1,RESOLVED=2;function Promise(){this.mode=PENDING;this.thens=[];this.valueArgs=null}_.extend(Promise.prototype,{reject:function(){var args=[].slice.call(arguments),promise=this;if(promise.mode===PENDING){promise.mode=REJECTED;promise.valueArgs=args;_.each(promise.thens,function(callbacks){if(callbacks.onReject){callbacks.onReject.apply(null,args)}})}return promise},resolve:function(){var args=[].slice.call(arguments),promise=this;if(promise.mode===PENDING){promise.mode=RESOLVED;promise.valueArgs=args;_.each(promise.thens,function(callbacks){if(callbacks.onResolve){callbacks.onResolve.apply(null,args)}})}return promise},then:function(onResolve,onReject){var promise=this;if(promise.mode===PENDING){promise.thens.push({onReject:onReject,onResolve:onResolve})}else if(promise.mode===REJECTED){if(onReject){onReject.apply(null,promise.valueArgs)}}else if(promise.mode===RESOLVED){if(onResolve){onResolve.apply(null,promise.valueArgs)}}return promise}});module.exports=Promise},{microdash:27}],169:[function(require,module,exports){"use strict";var _=require("microdash"),Engine=require("./Engine");function Uniter(phpToAST,phpToJS,phpRuntime){this.phpRuntime=phpRuntime;this.phpToAST=phpToAST;this.phpToJS=phpToJS}_.extend(Uniter.prototype,{createEngine:function(name,options){var uniter=this;if(name!=="PHP"){throw new Error('Uniter.createEngine() :: Only language "PHP" is supported')}return new Engine(uniter.phpToAST.create(),uniter.phpToJS,uniter.phpRuntime,uniter.phpRuntime.createEnvironment(),options)},createParser:function(){return this.phpToAST.create()}});module.exports=Uniter},{"./Engine":166,microdash:27}],170:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],171:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],172:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":171,_process:160,inherits:170}],173:[function(require,module,exports){module.exports={
"app/Index/Controller/IndexController.fephp":"<?php\n\nNamespace Controller ;\n\nclass IndexController extends \\Controller\\Base {\n\n    public function execute($pageVars) {\n\n        $page_model = new \\Model\\Index\\PageModel() ;\n        $page = $page_model->getPage() ;\n        \\ISOPHP\\js_core::$console->log('ICP', $page) ;\n        $res = new \\Controller\\Result() ;\n        $res->page = $page ;\n        $res->view = 'index.phptpl' ;\n        $res->type = 'view' ;\n        $res->view_control = 'Index' ;\n        \\ISOPHP\\js_core::$console->log('Ind Con', $res) ;\n        return $res ;\n    }\n\n}","app/Index/Model/IndexPageModel.fephp":"<?php\n\nNamespace Model\\Index ;\n\nclass PageModel extends \\Model\\Base {\n\n    public function getPage() {\n        $page = array() ;\n        $page['title'] = 'A title for an index page' ;\n        $page['heading'] = 'A heading for an index page' ;\n        \\ISOPHP\\js_core::$console->log('Ind Page Mod', $page) ;\n        return $page ;\n    }\n\n}","app/Index/View/IndexView.fephp":"<?php\n\nNamespace View ;\n\nclass IndexView extends \\Core\\View {\n\n    public function display($data) {\n//        \\ISOPHP\\js_core::$console->log('data', $data ) ;\n        $jQuery =  \\ISOPHP\\js_core::$jQuery ;\n        \\ISOPHP\\js_core::$window->document->title = 'Index' ;\n        $tplfunc = \\Core\\View::$template ;\n        $tpl_data = $tplfunc() ;\n//        \\ISOPHP\\js_core::$console->log('davey ravey don', $tpl_data) ;\n        $jQuery('#template')->html($tpl_data) ;\n        $jQuery('.app-loader')->css('display', 'none') ;\n    }\n\n}","app/LandingPage/Controller/LandingPageController.fephp":"<?php\n/**\n * Created by PhpStorm.\n * User: pharaoh\n * Date: 06/06/17\n * Time: 15:16\n */","app/LandingPage/Model/LandingPageModel.fephp":"<?php\n/**\n * Created by PhpStorm.\n * User: pharaoh\n * Date: 06/06/17\n * Time: 15:16\n */","app/ListEvents/Controller/ListEventsController.fephp":"<?php\n/**\n * Created by PhpStorm.\n * User: pharaoh\n * Date: 06/06/17\n * Time: 15:16\n */","app/ListEvents/Model/ListEventsModel.fephp":"<?php\n/**\n * Created by PhpStorm.\n * User: pharaoh\n * Date: 06/06/17\n * Time: 15:16\n */","app/Index/View/desktop/Index.phptpl":'<?php\n\n\\Core\\View::$template = function() {\n    $html = \'\n    <form id="pharaoh_form">\n        <div id="page_wrapper">\n            <div id="application_controls">\n                <div class="application_control">\n                    <span id="btn-close" class="application_control_button btn-danger btn">Close</span>\n                </div>\n                <div class="application_control">\n                    <span id="btn-min" class="application_control_button btn-warning btn">Min</span>\n                </div>\n                <div class="application_control">\n                    <span id="btn-max" class="application_control_button btn-primary btn">Max</span>\n                </div>\n            </div>\n            <div id="message_overlay">\n    \n            </div>\n            <h1>The Desktop Application Template</h1>\n        </div>\n    </form> \' ;\n    return $html ;\n\n} ;',"app/Index/View/mobile/Index.phptpl":"<?php\n\n\\Core\\View::$template = function() {\n    $html = '\n    <form id=\"pharaoh_form\">\n        <div id=\"message_overlay\">\n    \n        </div>\n        <h1>The Mobile Application Index Page</h1> ' ;\n\n    for ($i=0; $i<20; $i++) {\n        $html = $html . \"Dave $i; \" ;\n    }\n\n    $html = $html . '</form>' ;\n    \\ISOPHP\\js_core::$console->log('Bunch stuff', $html) ;\n    return $html ;\n\n} ;","app/Index/View/web/Index.phptpl":"<?php\n\n\\Core\\View::$template = function() {\n    $html = '\n    <form id=\"pharaoh_form\">\n        <div id=\"message_overlay\">\n    \n        </div>\n        <h1>The Web Application Index Page</h1> ' ;\n\n    for ($i=0; $i<20; $i++) {\n        $html = $html . \"Dave $i; \" ;\n    }\n\n    $html = $html . '</form>' ;\n    \\ISOPHP\\js_core::$console->log('Bunch stuff', $html) ;\n    return $html ;\n\n} ;","app/Index/View/Index.phptpl":'<?php\n\n\\Core\\View::$template = function() {\n    $html = \'\n        <form id="pharaoh_form">\n            <div id="page_wrapper">\n                <h1>Template for anything default</h1>\n            </div>\n        </form> \' ;\n    return $html ;\n} ;\n',"core/bootstrap.fephp":"<?php\n\nNamespace Core;\n\nclass BootStrap {\n\n    private static $exitCode ;\n\n    public static function setExitCode($exitCode){\n        self::$exitCode = $exitCode ;\n    }\n\n    public static function getExitCode(){\n        return (is_null(self::$exitCode)) ? 0 : self::$exitCode ;\n    }\n\n    public function main($argv_or_boot_params_null) {\n        $routeObject = new \\Core\\Router();\n        $route = $routeObject->run($argv_or_boot_params_null);\n        $emptyPageVars = array(\"messages\"=>array(), \"route\"=>$route);\n//        \\ISOPHP\\js_core::$console->log($route, $emptyPageVars) ;\n        $this->executeControl($route[\"control\"], $emptyPageVars);\n    }\n\n    public function executeControl($controlToExecute, $pageVars=null) {\n//        \\ISOPHP\\js_core::$console->log('control class loading') ;\n        $control = new \\Core\\Control();\n//        \\ISOPHP\\js_core::$console->log('control class loaded', $control) ;\n        $controlResult = $control->executeControl($controlToExecute, $pageVars);\n//        \\ISOPHP\\js_core::$console->log('control res 1', $controlResult) ;\n        if ($controlResult->type == \"view\") {\n            $viewClass = '\\View\\\\'.$controlResult->view_control.'View' ;\n//            \\ISOPHP\\js_core::$console->log('View Class Name Is:', $viewClass) ;\n            $view =  new $viewClass() ;\n            $view->executeView($controlResult->view_control, $controlResult->view, $controlResult->page);\n        }\n        else if ($controlResult->type == \"control\") {\n//            \\ISOPHP\\js_core::$console->log('control res 2', $controlResult) ;\n            $this->executeControl( $controlResult->control, $controlResult->page );\n        }\n    }\n\n}","core/constants.fephp":"<?php\ndefine('CURRENT_TARGET', \"mobile\") ;","core/index.fephp":"<?php\n\n\n$console->log('In the applications index file') ;\n$console->log($_REQUEST, $_SERVER) ;\n\n$route_set[] = isset($_REQUEST['control']) ;\n$route_set[] = isset($_REQUEST['action']) ;\n\nif ( $php->in_array(false, $route_set) ) {\n    $_REQUEST['control'] = \"Index\" ;\n    $_REQUEST['action'] = \"index\" ; }\n\nif (!isset($_REQUEST['output-format'])) {\n    $_REQUEST['output-format'] = \"HTML\"; }\n\n$cleo_vars = array();\n$cleo_vars[0] = __FILE__;\n$cleo_vars[1] = $_REQUEST['control'];\n$cleo_vars[2] = $_REQUEST['action'];\nforeach($_REQUEST as $post_key => $post_var) {\n    if (!$php->in_array($post_key, array('control', 'action'))) {\n        $cleo_vars[] = \"--$post_key=$_REQUEST[$post_key]\" ; } }\n$_ENV['bootstrap'] = $php->serialize($cleo_vars);\n\n$console->log($cleo_vars, $_ENV) ;\n\n$bootStrap = new \\Core\\BootStrap();\n$argv_or_null = (isset($argv)) ? $argv : null ;\n$bootStrapParams = (isset($_ENV['bootstrap'])) ? $php->unserialize($_ENV['bootstrap']) : $argv_or_null ;\n$bootStrap->main($bootStrapParams);\n","core/init.fephp":"<?php\n\n\\ISOPHP\\core::$php = $php ;\n\\ISOPHP\\core::$file_index = $file_index ;\n\\ISOPHP\\js_core::$console = $console ;\n\\ISOPHP\\js_core::$window = $window ;\n\\ISOPHP\\js_core::$jQuery = $jQuery ;\n\nfunction __autoload($classname) {\n    \\ISOPHP\\js_core::$console->log(\"Autoloading \" . $classname) ;\n    if ($classname === 'ISOPHP\\core') {\n        return ;\n    } else if ($classname === 'ISOPHP\\js_core') {\n        return ;\n    } else if ($classname === 'Controller\\Base') {\n        $path = '/core/Core/Base/Controller/Base.fephp' ;\n        require_once ($path) ;\n        return ;\n    } else if ($classname === 'Controller\\Result') {\n        $path = '/core/Core/Base/Controller/Result.fephp' ;\n        require_once ($path) ;\n        return ;\n    } else if ($classname === 'Model\\Base') {\n        $path = '/core/Core/Base/Model/Base.fephp' ;\n        require_once ($path) ;\n        return ;\n    } else if ($classname === 'Info\\Base') {\n        $path = '/core/Core/Base/Info/Base.fephp' ;\n        require_once ($path) ;\n        return ;\n    } else if ($classname === 'stdClass') {\n        return ;\n    }\n    $parts = \\ISOPHP\\core::$php->explode('\\\\', $classname) ;\n    \\ISOPHP\\js_core::$console->log($parts) ;\n    if ($parts[0] === 'Core') {\n        \\ISOPHP\\js_core::$console->log('Looking in core') ;\n        if ($classname == 'Core\\Router') {\n            $path = '/core/Core/Router.fephp' ;\n        } else if ($classname == 'Core\\Control') {\n            $path = '/core/Core/Control.fephp' ;\n        } else if ($classname == 'Core\\View') {\n            $path = '/core/Core/View.fephp' ;\n        }\n        if (isset($path)) {\n            \\ISOPHP\\js_core::$console->log('found a path ' . $path) ;\n            require_once ($path) ;\n        }\n    }\n    else if ($parts[0] === 'Controller') {\n        \\ISOPHP\\js_core::$console->log('Looking in Controller') ;\n        $module = \\ISOPHP\\core::$php->str_replace('Controller', '', $parts[1]) ;\n        $path = '/app/'.$module.'/Controller/'.$parts[1].'.fephp' ;\n        if (isset($path)) {\n            \\ISOPHP\\js_core::$console->log('found a controller path ' . $path) ;\n            require_once ($path) ;\n        }\n    }\n    else if ($parts[0] === 'Model') {\n        \\ISOPHP\\js_core::$console->log('Looking in Model') ;\n        $module = \\ISOPHP\\core::$php->str_replace('Model', '', $parts[1]) ;\n        $path = '/app/'.$module.'/Model/'.$parts[1].$parts[2].'.fephp' ;\n        if (isset($path)) {\n            \\ISOPHP\\js_core::$console->log('found a model path ' . $path) ;\n            require_once ($path) ;\n        }\n    }\n    else if ($parts[0] === 'View') {\n        \\ISOPHP\\js_core::$console->log('Looking in View') ;\n        $module = \\ISOPHP\\core::$php->str_replace('View', '', $parts[1]) ;\n        $path = '/app/'.$module.'/View/'.$parts[1].'.fephp' ;\n        if (isset($path)) {\n            \\ISOPHP\\js_core::$console->log('found a view path ' . $path) ;\n            require_once ($path) ;\n        }\n    }\n\n}\n","core/isophp.fephp":"<?php\n\nNamespace ISOPHP ;\n\nclass core {\n    public static $php ;\n    public static $file_index ;\n}\n\nclass js_core {\n    public static $console ;\n    public static $window ;\n    public static $jQuery ;\n}","core/Core/Control.fephp":"<?php\n\nNamespace Core ;\n\nclass Control {\n\n    public function executeControl($control, $pageVars) {\n        \\ISOPHP\\js_core::$console->log('raw control', $control) ;\n        $ucf_control = \\ISOPHP\\core::$php->ucfirst($control);\n        \\ISOPHP\\js_core::$console->log('ucf control', $ucf_control) ;\n        $className = '\\\\Controller\\\\' . $ucf_control.'Controller' ;\n        $controlObject = new $className;\n        return $controlObject->execute($pageVars);\n    }\n\n}","core/Core/Router.fephp":'<?php\n\nNamespace Core;\n\nclass Router {\n\n    private\t$bootstrapParams;\n    private\t$route;\n    private $availableRoutes = array() ;\n\n    public function run($bootstrapParams) {\n        $this->bootstrapParams = $bootstrapParams;\n        $this->setCurrentRoute();\n        \\ISOPHP\\js_core::$console->log(\'route is:\', $this->route) ;\n        return $this->route ;\n    }\n\n    private function setCurrentRoute() {\n        $this->getAvailableRoutes();\n//        $defaultRoute = $this->getDefaultRoute();\n        $this->parseControllerAliases();\n        $this->setRouteController();\n//        if ($this->route != $defaultRoute ) {\n//            $this->setRouteAction();\n//            $this->setRouteExtraParams(); }\n    }\n\n    private function getAvailableRoutes() {\n//      $allInfoObjects = \\Core\\AutoLoader::getInfoObjects() ;\n//      $all_processed_arrays = array();\n//      foreach ($allInfoObjects as $infoObject) {\n//        $curKeys = array_keys($infoObject->routesAvailable());\n//        $routesAvailable = $infoObject->routesAvailable();\n//        foreach ($curKeys as $curKey) {\n//          if (isset($all_processed_arrays[$curKey]) ) {\n//            $curValues = $all_processed_arrays[$curKey];\n//            $all_processed_arrays[$curKey] = array_merge($curValues, $routesAvailable[$curKey] ); }\n//          else {\n//            $all_processed_arrays[$curKey] = $routesAvailable[$curKey]; } } }\n      $this->availableRoutes = array("Index" => array("index"));\n    }\n\n    private function getDefaultRoute() {\n      $this->setDefaultRouteExtraParams() ;\n      return array( "control" => "Index" , "action" => "index", "extraParams" => $this->route["extraParams"] );\n    }\n\n    private function parseControllerAliases() {\n//      $allInfoObjects = \\Core\\AutoLoader::getInfoObjects() ;\n      $aliases = array();\n//      foreach ($allInfoObjects as $infoObject) {\n//        $aliases = array_merge( $aliases, $infoObject->routeAliases() ); }\n      if (isset($this->bootstrapParams[1])) {\n        if (\\ISOPHP\\core::$php->array_key_exists($this->bootstrapParams[1], $aliases)) {\n          $this->bootstrapParams[1] = strtr($this->bootstrapParams[1], $aliases); } }\n    }\n\n    private function setRouteController() {\n        if (isset($this->bootstrapParams[1])) {\n            if (\\ISOPHP\\core::$php->array_key_exists( $this->bootstrapParams[1], $this->availableRoutes )) {\n                $this->route["control"] = $this->bootstrapParams[1] ;\n            } else {\n                $this->route["control"] = $this->route = $this->getDefaultRoute();\n            }\n        }\n        else {\n            $this->route["control"] = $this->route = $this->getDefaultRoute();\n        }\n\n    }\n\n    private function setRouteAction() {\n        $actionSet = isset($this->bootstrapParams[2]) ;\n        if ($actionSet) {\n            $correctAct = \\ISOPHP\\core::$php->in_array( $this->bootstrapParams[2], $this->availableRoutes[$this->bootstrapParams[1]] ) ;\n        } else {\n            $correctAct = false ;\n        }\n        if ($actionSet && $correctAct) {\n            $this->route["action"] = $this->bootstrapParams[2] ;\n        } else {\n            $this->route["action"] = $this->route = $this->getDefaultRoute();\n        }\n    }\n\n    private function setRouteExtraParams() {\n        $this->route["extraParams"] = array();\n        $numberOfExtraParams = \\ISOPHP\\core::$php->count($this->bootstrapParams)-3;\n        for ($i=3; $i<($numberOfExtraParams+3); $i++) {\n            $this->route["extraParams"][] = $this->bootstrapParams[$i] ;}\n    }\n\n    private function setDefaultRouteExtraParams() {\n        $this->route["extraParams"] = array();\n        $numberOfExtraParams = \\ISOPHP\\core::$php->count($this->bootstrapParams)-1;\n        for ($i=1; $i<($numberOfExtraParams+1); $i++) {\n            $this->route["extraParams"][] = $this->bootstrapParams[$i] ;}\n    }\n\n}',"core/Core/View.fephp":'<?php\n\nNamespace Core;\n\nuse ISOPHP\\core;\n\nclass View {\n\n    public static $page_vars ;\n    public static $view_file_name ;\n    public static $template ;\n\n    public function executeView($module, $view, Array $viewVars) {\n        $ep = (isset($viewVars["route"]["extraParams"])) ? $viewVars["route"]["extraParams"] : array() ;\n        $baseMod = new \\Model\\Base($ep) ;\n        $viewVars["params"] = $baseMod->params ;\n        $vvLayoutCond1 = (isset($viewVars["params"]["output-format"])\n            && $viewVars["params"]["output-format"] == "HTML") ;\n        $vvLayoutCond2 = (isset($viewVars["params"]["output-format"])\n            && $viewVars["params"]["output-format"] != "cli"\n            && $viewVars["params"]["output-format"] != "HTML") ;\n        if (!isset($viewVars["layout"])) {\n            if ($vvLayoutCond1) { $viewVars["layout"] = "DefaultHTML" ; }\n            else if ($vvLayoutCond2) { $viewVars["layout"] = "blank" ; }\n            else { $viewVars["layout"] = "blank" ; } }\n        $templateData = $this->loadTemplate ($module, $view, $viewVars) ;\n        $this->display($templateData) ;\n    }\n\n    protected function display($templateData) {\n        \\ISOPHP\\js_core::$console->log(\'Default Display Method\', $templateData) ;\n    }\n\n    public function loadTemplate ($module, $view, Array $pageVars) {\n        $viewFileName = \\ISOPHP\\core::$php->ucfirst($view)  ;\n        $lvf = $this->loadViewFile($module, $viewFileName, $pageVars) ;\n        \\ISOPHP\\js_core::$console->log(\'Template loaded\', $lvf) ;\n        if ($lvf !== false) {\n            return $lvf; }\n        else {\n            // @todo no! dont die\n            die ("View Template $viewFileName in module $module Not Found\\n"); }\n    }\n\n    public function loadViewFile($module, $viewFileName, $pageVars, $templateData=null) {\n        \\ISOPHP\\js_core::$console->log(\'ViewFN\', $viewFileName) ;\n        self::$view_file_name = $viewFileName;\n         \\ISOPHP\\js_core::$console->log(\'View PageVars\', $pageVars, $module, \\ISOPHP\\js_core::$window->location->hostname) ;\n        self::$page_vars = $pageVars;\n\n        $view_client_path = \'/app/\'.$module.\'/View/\'.CURRENT_TARGET.\'/\'.$viewFileName ;\n        $view_default_path = \'/app/\'.$module.\'/View/\'.$viewFileName ;\n\n        if ($this->templateExists($view_client_path) === true) {\n            include($view_client_path) ;\n            return true ;\n        } else if ($this->templateExists($view_default_path) === true) {\n            include($view_default_path) ;\n            return true ;\n        } else {\n            \\ISOPHP\\js_core::$console->log("Unable to find view template $view_client_path or default $view_default_path") ;\n            return false ;\n        }\n    }\n\n    public function templateExists($path) {\n        $php = \\ISOPHP\\core::$php ;\n        if ($php->in_array($path, \\ISOPHP\\core::$file_index)){\n            return true ;\n        }\n        if ($php->substr($path, 0, 1) === \'/\') {\n            $noprefix = $php->substr($path, 1) ;\n            if ($php->in_array($noprefix, \\ISOPHP\\core::$file_index)){\n                return true ;\n            }\n        }\n        return false ;\n    }\n\n}',"core/Core/Base/Controller/Base.fephp":"<?php\n\nNamespace Controller ;\n\nclass Base {\n\n  public $content;\n  protected $registeredModels = array();\n\n  public function __construct() {\n    $this->content = array();\n  }\n\n}","core/Core/Base/Controller/Result.fephp":"<?php\n\nNamespace Controller ;\n\nclass Result {\n\n  public $page;\n  public $view;\n  public $control;\n  public $type;\n  public $view_control;\n\n}","core/Core/Base/Info/Base.fephp":'<?php\n\nNamespace Info;\n\nclass Base {\n\n    public $hidden ;\n\n    public $name ;\n\n    public function __construct() {\n    }\n\n    // PTConfigureBase specifies these\n    public function routesAvailable() {\n        return array();\n    }\n\n    public function routeAliases() {\n        return array();\n    }\n\n    public function dependencies() {\n        return array();\n    }\n\n    public function groups() {\n        return array();\n    }\n\n    public function helpDefinition() {\n      $help = <<<"HELPDATA"\n  There is no help defined for this module\nHELPDATA;\n      return $help ;\n    }\n\n}',"core/Core/Base/Model/Base.fephp":'<?php\n\nNamespace Model;\n\nclass Base {\n\n    public $params ;\n\n    protected function stripNewLines($inputLine) {\n        $inputLine = str_replace("\\n", "", $inputLine);\n        $inputLine = str_replace("\\r", "", $inputLine);\n        return $inputLine;\n    }\n\n    public function ensureTrailingSlash($str) {\n        if (substr($str, -1, 1) != DIRECTORY_SEPARATOR) {\n            $str = $str . DIRECTORY_SEPARATOR ;\n        }\n        return $str ;\n    }\n\n\n}\n'}},{}],174:[function(require,module,exports){module.exports=["app/Index/Controller/IndexController.fephp","app/Index/Model/IndexPageModel.fephp","app/Index/View/IndexView.fephp","app/LandingPage/Controller/LandingPageController.fephp","app/LandingPage/Model/LandingPageModel.fephp","app/ListEvents/Controller/ListEventsController.fephp","app/ListEvents/Model/ListEventsModel.fephp","app/Index/View/desktop/Index.phptpl","app/Index/View/mobile/Index.phptpl","app/Index/View/web/Index.phptpl","app/Index/View/Index.phptpl","core/bootstrap.fephp","core/constants.fephp","core/index.fephp","core/init.fephp","core/isophp.fephp","core/Core/Control.fephp","core/Core/Router.fephp","core/Core/View.fephp","core/Core/Base/Controller/Base.fephp","core/Core/Base/Controller/Result.fephp","core/Core/Base/Info/Base.fephp","core/Core/Base/Model/Base.fephp"]},{}]},{},[1])(1)});
